<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Chapter 5 &middot; liuxueyang</title>

  
  <link rel="stylesheet" href="http://liuxueyang.github.io/css/poole.css">
  <link rel="stylesheet" href="http://liuxueyang.github.io/css/hyde.css">
  <link rel="stylesheet" href="http://liuxueyang.github.io/css/poole-overrides.css">
  <link rel="stylesheet" href="http://liuxueyang.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://liuxueyang.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="http://liuxueyang.github.io/css/highlight/sunburst.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://liuxueyang.github.io/touch-icon-144-precomposed.png">
  <link href="http://liuxueyang.github.io/favicon.png" rel="icon">

  
  
  
  

  <meta name="description" content="This is my Notes">
  <meta name="keywords" content="Notes,Diary">
  
</head>
<body class="theme-base-08">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
        <img src="https://www.gravatar.com/avatar/2e3a2be066049f38f7a3f80eff0a5400?s=200"
             alt="gravatar" title="liuxueyang">
      
      <h1>liuxueyang</h1>
      <p class="lead">THE LAST ONE.</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://liuxueyang.github.io/">Blog</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="http://github.com/liuxueyang"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      
      
      
      
      
      
      </li>
    </ul>

    

    <p>Copyright &copy; 2017 <a href="http://liuxueyang.github.io/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>
  </div>
</div>


<div class="content container">
  <div class="post">
    <h1 class="post-title">Chapter 5</h1>
    <span class="post-date">May 27, 2014 &middot; 3 minute read &middot; <a href="http://liuxueyang.github.io/blog/2014/05/27/chapter-5/#disqus_thread">Comments</a>
    </span>
    <p>##Optional Parameters</p>

<p>we can use optional arguments in a function, such as:</p>

<p>```common lisp
    (defun foo (a b &amp;optional c d)
     (list a b c d))</p>

<pre><code>
This will result:

```common lisp
(foo 1 2)				-&gt; (1 2 NIL NIL)
(foo 1 2 3)			-&gt; (1 2 3 NIL)
(foo 1 2 3 4)		-&gt; (1 2 3 4)
</code></pre>

<p>Besides, we can set default value for a argument:</p>

<p>``` common lisp
    (defun foo (a &amp;optional (b 10))
     (list a b))</p>

<pre><code>
This will result:

```common lisp
(foo 1 2) 				-&gt; (1 2)
(foo 1)					-&gt; (1 10)
</code></pre>

<p>In this example, argument b is set to 10 by default.</p>

<p>We can also know whether a value is set by default or by explicitly.</p>

<p>``` common lisp
    (defun foo (a b &amp;optional (c 3 c-supplied-p))
     (list a b c c-supplied-p))</p>

<pre><code>
For example:

```common lisp
(foo 1 2)			-&gt; (1 2 3 NIL)
(foo 1 2 3)		-&gt; (1 2 3 T)
(foo 1 2 4)		-&gt; (1 2 4 T)
</code></pre>

<p>Besides, we can use the value of argument which appears earlier in the argument list:</p>

<p>```common lisp
(defun foo (a &amp;optional (b a))
    (+ a b))</p>

<pre><code>
##Keyword Parameters

```common lisp
(defun foo (&amp;key a b c) 
	(list a b c))
</code></pre>

<p>function can be invoked as follows:</p>

<p>```common lisp
(foo)                       -&gt; (NIL NIL NIL)
(foo :a 1)          -&gt; (1 NIL NIL)
(foo :b 1)              -&gt; (NIL 1 NIL)
(foo :a 1 :c 3)     -&gt; (1 NIL 3)</p>

<pre><code>
Keyword parameters can provide a default value form and the name of a supplied-p value. e.g.:

```common lisp
(defun foo (&amp;key (a 0) (b 0 b-supplied-p) (c (+ a b)))
	(list a b c b-supplied-p))
</code></pre>

<p>If you want the keyword the caller uses to specify the parameter to be different from the name of the actual parameter. e.g:</p>

<p>```common lisp
(defun foo (&amp;key ((:apple a)) ((:box b) 0) ((:charlie c) 0 c-supplied-p))
    (list a b c c-supplied-p))</p>

<pre><code>
##Mixing Different Parameter Types

Combing &amp;optional and &amp;key parameters yields surprising results. e.g:

```common lisp
(defun foo (x &amp;optional y &amp;key z)
	(list x y z))
</code></pre>

<p>It works like this:</p>

<p>```common lisp
(foo 1 2 :z 3)          -&gt; (1 2 3)
(foo 1)                     -&gt; (1 nil nil)
(foo 1 :z 3)                -&gt; ERROR</p>

<pre><code>
In the last case, the keyword :z is taken as a value to fill the optional y parameter and leaving only the argument 3 to be processed. So it leads to ERROR.

However, we can combine &amp;rest and &amp;key parameters. e.g:

```common lisp
(defun foo (&amp;rest rest &amp;key a b c)
	(list rest a b c))
</code></pre>

<p>you get this result:</p>

<p><code>common lisp
(foo :a 1 :b 2 :c 3)            -&gt; ((:A 1 :B 2 :C 3) 1 2 3)
</code></p>

  </div>
  <div id="disqus_thread"></div>
</div>


<script type="text/javascript">
var disqus_shortname = "abeliu";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>



<script type="text/javascript">
    var disqus_shortname = "abeliu";
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<script src="http://liuxueyang.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

