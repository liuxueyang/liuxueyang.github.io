<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Tools," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="在fish里面，相邻的列表或者字符串会按照笛卡尔积来展开。比如： 12345678910111213141516171819202122liu@lisp /p/tmp&amp;gt; echo &amp;#123;good,bad&amp;#125;&amp;quot; apples&amp;quot;good apples bad applesliu@lisp /p/tmp&amp;gt; set -l a x y zliu@lisp /p/">
<meta name="keywords" content="Tools">
<meta property="og:type" content="article">
<meta property="og:title" content="fish shell tutorial">
<meta property="og:url" content="liuxueyang.github.io/2016/06/04/fish-shell-tutorial/index.html">
<meta property="og:site_name" content="黑历史">
<meta property="og:description" content="在fish里面，相邻的列表或者字符串会按照笛卡尔积来展开。比如： 12345678910111213141516171819202122liu@lisp /p/tmp&amp;gt; echo &amp;#123;good,bad&amp;#125;&amp;quot; apples&amp;quot;good apples bad applesliu@lisp /p/tmp&amp;gt; set -l a x y zliu@lisp /p/">
<meta property="og:updated_time" content="2017-04-11T15:16:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="fish shell tutorial">
<meta name="twitter:description" content="在fish里面，相邻的列表或者字符串会按照笛卡尔积来展开。比如： 12345678910111213141516171819202122liu@lisp /p/tmp&amp;gt; echo &amp;#123;good,bad&amp;#125;&amp;quot; apples&amp;quot;good apples bad applesliu@lisp /p/tmp&amp;gt; set -l a x y zliu@lisp /p/">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":true,"scrollpercent":true},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="liuxueyang.github.io/2016/06/04/fish-shell-tutorial/"/>





  <title> fish shell tutorial | 黑历史 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">黑历史</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/04/fish-shell-tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                fish shell tutorial
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-04T10:12:04+08:00">
                2016-06-04
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/04/fish-shell-tutorial/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/04/fish-shell-tutorial/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  1,927
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>在fish里面，相邻的列表或者字符串会按照笛卡尔积来展开。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; echo &#123;good,bad&#125;&quot; apples&quot;</div><div class="line">good apples bad apples</div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; set -l a x y z</div><div class="line">liu@lisp /p/tmp&gt; echo $a </div><div class="line">x y z</div><div class="line">liu@lisp /p/tmp&gt; set -l b 1 2 3</div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; echo $a$b</div><div class="line">x1 y1 z1 x2 y2 z2 x3 y3 z3</div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; echo $a&quot;-&quot;$b</div><div class="line">x-1 y-1 z-1 x-2 y-2 z-2 x-3 y-3 z-3</div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; echo &#123;x,y,z&#125;$b</div><div class="line">x1 y1 z1 x2 y2 z2 x3 y3 z3</div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; echo &#123;$b&#125;word</div><div class="line">1word 2word 3word</div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; echo &quot;$b&quot;word</div><div class="line">1 2 3word</div></pre></td></tr></table></figure>
<p>上面用到了括号扩展的功能：在一个大括号里面以逗号分隔的几个字符串会被扩展成列表里<br>面的每个元素被当作一个新的变量。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; echo input.&#123;c,h,txt&#125; </div><div class="line">input.c input.h input.txt</div><div class="line">liu@lisp /p/tmp&gt; mkdir src </div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; touch  input.&#123;c,h,txt&#125; </div><div class="line">liu@lisp /p/tmp&gt; mv *.&#123;c,h&#125; src </div><div class="line">liu@lisp /p/tmp&gt; ls src </div><div class="line">input.c input.h</div></pre></td></tr></table></figure>
<p>在其它shell里面，一般都使用```来作为命令替换，在fish里面，就不一样了。它使用的<br>是括号。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; echo In (pwd), running (uname) </div><div class="line">In /private/tmp, running Darwin</div><div class="line">liu@lisp /p/tmp&gt; set os (uname)</div><div class="line">liu@lisp /p/tmp&gt; echo $os </div><div class="line">Darwin</div></pre></td></tr></table></figure>
<p>其实这种方法变得更简单直接。不过，需要注意的是，这种方法不能使用在双引号里面，它<br>并不会在双引号里面自动把命令替换成命令的输出结果。弥补的做法只能是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; touch &quot;testing_&quot;(date +%s)&quot;.txt&quot;</div><div class="line">liu@lisp /p/tmp&gt; ls te* </div><div class="line">testing_1465007369.txt</div></pre></td></tr></table></figure>
<p>也就是说拼接一下就好了。</p>
<p>另外，一个经常用到的功能就是，不像其它shell那样使用<code>&amp;&amp;</code>和<code>||</code>来作为逻辑与和逻辑<br>或，fish里面用的是英语单词<code>and</code>, <code>or</code>, <code>not</code>，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; touch file1.txt </div><div class="line">liu@lisp /p/tmp&gt; cp file1.txt file1_bak.txt; and echo &quot;Backup successful&quot;; or echo &quot;Backup failed&quot; </div><div class="line">Backup successful</div><div class="line"></div><div class="line">liu@lisp /p/tmp&gt; cp file2.txt file1_bak.txt; and echo &quot;Backup successful&quot;; or echo &quot;Backup failed&quot; </div><div class="line">cp: file2.txt: No such file or directory</div><div class="line">Backup failed</div></pre></td></tr></table></figure>
<p>然而，中间还是要加分号分割。</p>
<p>经常用到的，条件语句这样使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; if grep fish /etc/shells</div><div class="line">                     echo Found fish</div><div class="line">                 else if grep bash /etc/shells</div><div class="line">                     echo Found bash </div><div class="line">                 else </div><div class="line">                     echo Got nothing</div><div class="line">                 end</div><div class="line">/usr/local/bin/fish</div><div class="line">Found fish</div></pre></td></tr></table></figure>
<p>显然比其它的shell的语法自然好看多了 :joy: 即使你在终端里面直接输入这些代码，它也<br>会自动锁进。</p>
<p>同样有简单的switch语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; switch (uname)</div><div class="line">                     case Linux</div><div class="line">                         echo Hi Linux!</div><div class="line">                     case Darwin</div><div class="line">                         echo Hi Mac OS X!</div><div class="line">                     case FreeBSD NetBSD</div><div class="line">                         echo Hi BSD</div><div class="line">                     case &apos;*&apos;</div><div class="line">                         echo Hi, stranger!</div><div class="line">                 end</div><div class="line">Hi Mac OS X!</div></pre></td></tr></table></figure>
<p>不像其它的shell一样使用alias和用特殊的提示符语法之类的……这些事情，在fish里面用函<br>数替换，变得更简单好用。</p>
<p>函数的参数是放在变量<code>$argv</code>里面的，而不是像别的shell那样放在奇怪的<code>$1</code>里面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; function say_hello</div><div class="line">                     echo Hello $argv</div><div class="line">                 end</div><div class="line">liu@lisp /p/tmp&gt; say_hello </div><div class="line">Hello</div><div class="line">liu@lisp /p/tmp&gt; say_hello everyone!</div><div class="line">Hello everyone!</div></pre></td></tr></table></figure>
<p><code>functions</code>这个关键字，可以列出所有的函数。有趣的是在这个关键字后面加一个函数的<br>名字可以看到这个函数的源代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; functions</div><div class="line">., N_, abbr, alias, cd, contains_seq, delete-or-exit, dirh, dirs,</div><div class="line">down-or-search, eval, export, fish_config, fish_default_key_bindings,</div><div class="line">fish_fallback_prompt, fish_indent, fish_mode_prompt, fish_prompt,</div><div class="line">fish_sigtrap_handler, fish_update_completions, fish_vi_cursor,</div><div class="line">fish_vi_key_bindings, fish_vi_mode, fisher, funced, funcsave, grep, help,</div><div class="line">history, hostname, imgcat, isatty, it2dl, iterm2_fish_mode_prompt,</div><div class="line">iterm2_fish_prompt, iterm2_precmd, iterm2_preexec, iterm2_prompt_end,</div><div class="line">iterm2_prompt_start, iterm2_set_user_var, iterm2_status, la, ll, ls, man,</div><div class="line">math, nextd, nextd-or-forward-word, open, popd, prevd, prevd-or-backward-word,</div><div class="line">prompt_pwd, psub, pushd, realpath, say_hello, seq, setenv, suspend, trap,</div><div class="line">type, umask, underscore_change, up-or-search, vared,</div><div class="line">liu@lisp /p/tmp&gt; functions fish_vi_mode </div><div class="line">function fish_vi_mode</div><div class="line">	echo &apos;The `fish_vi_mode` function is deprecated.&apos; &gt;&amp;2</div><div class="line">        echo &apos;Please switch to calling `fish_vi_key_bindings`.&apos; &gt;&amp;2</div><div class="line">	# Turn on vi keybindings</div><div class="line">	set -g fish_key_bindings fish_vi_key_bindings</div><div class="line">end</div></pre></td></tr></table></figure>
<p><code>for</code>循环也很简单直接：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; for file in *.txt </div><div class="line">                     cp $file $file.bak</div><div class="line">                 end</div><div class="line">liu@lisp /p/tmp&gt; ls *.txt; ls *.bak </div><div class="line">errors.txt             file1_bak.txt          testing_1465007369.txt</div><div class="line">file1.txt              input.txt</div><div class="line">errors.txt.bak             input.txt.bak</div><div class="line">file1.txt.bak              testing_1465007369.txt.bak</div><div class="line">file1_bak.txt.bak</div></pre></td></tr></table></figure>
<p><code>seq</code> 这个命令加一个数字<code>n</code>可以生成从1到<code>n</code>的一个列表，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; seq 5 </div><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">liu@lisp /p/tmp&gt; for x in (seq 5)</div><div class="line">                     touch file_$x.txt</div><div class="line">                 end</div><div class="line">liu@lisp /p/tmp&gt; ls file_* </div><div class="line">file_1.txt file_2.txt file_3.txt file_4.txt file_5.txt</div></pre></td></tr></table></figure>
<p>在别的shell里面，一般用<code>$PS1</code>这个变量来显示提示符，在fish里面，使用的是一个名字<br>叫做<code>fish_prompt</code>的函数，这个函数的输出就作为提示符，比如，你可以像下面这样定制<br>自己的提示符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">liu@lisp /p/tmp&gt; function fish_prompt</div><div class="line">                     echo &quot;Sabastian Bach &gt;&gt; &quot;</div><div class="line">                 end</div><div class="line">Sabastian Bach &gt;&gt;</div></pre></td></tr></table></figure>
<p>可以通过<code>set_color</code>来设置颜色，可以把<a href="http://www.wikiwand.com/en/ANSI_escape_code#/Colors" target="_blank" rel="external">ANSI<br>colors</a>或者RGB的16进制的值<br>作为参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Sabastian Bach &gt;&gt; function fish_prompt </div><div class="line">                      set_color purple</div><div class="line">                      date &quot;+%m/%d/%y&quot;</div><div class="line">                      set_color FF0</div><div class="line">                      echo (pwd) &apos;&gt; &apos;</div><div class="line">                      set_color normal</div><div class="line">                  end</div><div class="line">06/04/16</div><div class="line">/private/tmp &gt;</div></pre></td></tr></table></figure>
<p>fish里面有一种全局变量，这个变量在fish里面通用，只要设置一次，那么即使重启，这个<br>变量依然存在。比如这样设置<code>EDITOR</code>这个变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> fish $ set -U EDITOR vim</div><div class="line"> fish $ echo $EDITOR                                                        </div><div class="line">vim</div></pre></td></tr></table></figure>
<p>打开另外一个终端这个变量依然有效。</p>
<p>另外有意思的一点是，其它shell里面，你一般会在类似于<code>~/.bashrc</code>或者<code>~/.zshrc</code>里面<br>设置<code>$PATH</code>的值，当然，在fish里面，你也可以这样做。比如你可以在<br><code>~/.config/fish/config.fish</code>这个文件里面设置。如果没有这个文件就需要创建一个。其<br>实它就相当于bash里面的<code>~/.bashrc</code>。你可以在这个文件里面定义一些函数，或者设置一<br>些变量。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; cat ~/.config/fish/config.fish</div><div class="line"></div><div class="line">set -x PATH $PATH /sbin/</div><div class="line"></div><div class="line">function ll</div><div class="line">    ls -lh $argv</div><div class="line">end</div></pre></td></tr></table></figure>
<p>然而，在fish里面更高效和更常见的做法是，使用自动加载函数和上面提到的全局变量。</p>
<p>所谓自动加载函数，就是在<code>~/.config/fish/functions/</code>目录里面以命令的名字加上后缀<br><code>.fish</code>作为文件名新建一个文件。比如你可以定义你自己的提示符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; cat ~/.config/fish/functions/fish_prompt.fish</div><div class="line">function fish_prompt</div><div class="line">    echo (pwd) &quot;&gt; &quot;</div><div class="line">end</div></pre></td></tr></table></figure>
<p>其实函数对应的文件可以自动创建，参见<br><a href="https://fishshell.com/docs/current/commands.html#funced" target="_blank" rel="external">funced</a>和<br><a href="https://fishshell.com/docs/current/commands.html#funcsave" target="_blank" rel="external">funcsave</a></p>
<p>为了说明这个用法，比如我在终端直接输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Pictures $ function gopi</div><div class="line">               ssh aries@pi</div><div class="line">           end</div><div class="line">Pictures $ funcsave gopi</div></pre></td></tr></table></figure>
<p>然后以后就可以使用<code>gopi</code>这个命令了……是不是很简单。根本不用打开一个什么文件什么的。<br>（这个命令是用来登陆我的树莓派的…… :joy: ）</p>
<p>fish有一个插件特别好用，类似于zsh的<code>oh-my-zsh</code>。Github地址是：<a href="https://github.com/fisherman/fisherman" target="_blank" rel="external">fisherman</a></p>
<p>安装的时候，可能会因为<code>git.io</code>被墙安装失败。其实，只要把<code>git.io/fisher</code>里面的内<br>容复制到<code>~/.config/fish/functions/fisher.fish</code>文件里面就可以了。没有这个文件就新<br>建一个。</p>
<p>然后就可以愉快地使用了。</p>
<p>经常会遇到设置环境变量的情况，可以用<a href="https://github.com/fisherman/paths" target="_blank" rel="external">paths</a><br>这个插件愉快地搞定。比如我给<code>$PATH</code>追加一个变量，可以这样做：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir $paths_config/PATH</div><div class="line">echo ~/bin &gt; $paths_config/PATH/HOMEBIN</div></pre></td></tr></table></figure>
<p>然后重新启动fish才有效。这一点很重要！</p>
<p>总的来说，仿佛fish和bash、zsh之类的差别很大，然而用过之后才知道，其实它变得更简<br>单并且，更好配置，去掉了别的shell里面那些乱七八糟奇怪的语法，符合更常用的语言的<br>语法规则，所以，我所有的*nix环境都换成了fish :joy: 棒棒哒</p>
<hr>
<h3 id="日常锻炼"><a href="#日常锻炼" class="headerlink" title="日常锻炼"></a>日常锻炼</h3><h4 id="6月1日，5-27km"><a href="#6月1日，5-27km" class="headerlink" title="6月1日，5.27km"></a><a href="http://wap.thejoyrun.com/po_22498513_50731646.html" target="_blank" rel="external">6月1日，5.27km</a></h4><p>坚持这件事情，与其说靠的是毅力，不如说是惯性。人的毅力靠不住，习惯却很顽固。</p>
<h4 id="6月2日，5-26km"><a href="#6月2日，5-26km" class="headerlink" title="6月2日，5.26km"></a><a href="http://wap.thejoyrun.com/po_22498513_50977083.html" target="_blank" rel="external">6月2日，5.26km</a></h4><p>今天跑步听的是友聊FM最新一期《闲聊飞了》，聊的是小米无人机，同样，不知不觉，就跑<br>完了……</p>
<h4 id="6月3日，5-21km"><a href="#6月3日，5-21km" class="headerlink" title="6月3日，5.21km"></a><a href="http://wap.thejoyrun.com/po_22498513_51240419.html" target="_blank" rel="external">6月3日，5.21km</a></h4><p>最近看周易，跑步的时候默背分宫卦象图 :joy: 我是有……多无聊。。。</p>
<h4 id="6月4日，5-17km"><a href="#6月4日，5-17km" class="headerlink" title="6月4日，5.17km"></a><a href="http://wap.thejoyrun.com/po_22498513_51525979.html" target="_blank" rel="external">6月4日，5.17km</a></h4><p>Android版的Google拼音输入法比搜狗好用并且好看多了…… </p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Tools/" rel="tag"># Tools</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/06/10/problem-when-configuring-vim-taglist-plugin/" rel="next" title="problem when configuring vim taglist plugin">
                <i class="fa fa-chevron-left"></i> problem when configuring vim taglist plugin
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/05/31/Codeforces-Round-353-Div-2-C-Money-Transfers/" rel="prev" title="Codeforces Round #353 (Div. 2) C. Money Transfers">
                Codeforces Round #353 (Div. 2) C. Money Transfers <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/drawing.png"
               alt="liuxueyang" />
          <p class="site-author-name" itemprop="name">liuxueyang</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">459</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">55</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://aozora.moe" title="青空の彼端" target="_blank">青空の彼端</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#日常锻炼"><span class="nav-number">1.</span> <span class="nav-text">日常锻炼</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6月1日，5-27km"><span class="nav-number">1.1.</span> <span class="nav-text">6月1日，5.27km</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6月2日，5-26km"><span class="nav-number">1.2.</span> <span class="nav-text">6月2日，5.26km</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6月3日，5-21km"><span class="nav-number">1.3.</span> <span class="nav-text">6月3日，5.21km</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6月4日，5-17km"><span class="nav-number">1.4.</span> <span class="nav-text">6月4日，5.17km</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">liuxueyang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://ariesliuxueyang.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'liuxueyang.github.io/2016/06/04/fish-shell-tutorial/';
          this.page.identifier = '2016/06/04/fish-shell-tutorial/';
          this.page.title = 'fish shell tutorial';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://ariesliuxueyang.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  





  






  





  

  

  
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.0"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.0"></script>


  

</body>
</html>
