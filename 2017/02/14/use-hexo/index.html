
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Use Hexo | 黑历史</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="liuxueyang">
    

    
    <meta name="description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick">
<meta name="keywords">
<meta property="og:type" content="article">
<meta property="og:title" content="Use Hexo">
<meta property="og:url" content="liuxueyang.github.io/2017/02/14/use-hexo/index.html">
<meta property="og:site_name" content="黑历史">
<meta property="og:description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick">
<meta property="og:image" content="http://wstaw.org/m/2017/02/14/plasma-desktopL28693.png">
<meta property="og:updated_time" content="2017-04-10T15:45:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Use Hexo">
<meta name="twitter:description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick">
<meta name="twitter:image" content="http://wstaw.org/m/2017/02/14/plasma-desktopL28693.png">

    
    <link rel="alternative" href="/atom.xml" title="黑历史" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="黑历史" title="黑历史"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="黑历史">黑历史</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:liuxueyang.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/14/use-hexo/" title="Use Hexo" itemprop="url">Use Hexo</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2017-02-13T16:00:00.000Z" itemprop="datePublished"> 发表于 2017-02-14</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Quick-Start"><span class="toc-number">1.</span> <span class="toc-text">Quick Start</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-new-post"><span class="toc-number">1.1.</span> <span class="toc-text">Create a new post</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-server"><span class="toc-number">1.2.</span> <span class="toc-text">Run server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Generate-static-files"><span class="toc-number">1.3.</span> <span class="toc-text">Generate static files</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Deploy-to-remote-sites"><span class="toc-number">1.4.</span> <span class="toc-text">Deploy to remote sites</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一些测试"><span class="toc-number">1.5.</span> <span class="toc-text">一些测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#插入图片"><span class="toc-number">1.5.1.</span> <span class="toc-text">插入图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#插入程序块"><span class="toc-number">1.5.2.</span> <span class="toc-text">插入程序块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其它"><span class="toc-number">1.5.3.</span> <span class="toc-text">其它</span></a></li></ol></li></ol></li></ol>
		
		</div>
		
		<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
<h3 id="一些测试"><a href="#一些测试" class="headerlink" title="一些测试"></a>一些测试</h3><h4 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h4><p>插入图片链接，这是我现在的桌面：</p>
<p><img src="http://wstaw.org/m/2017/02/14/plasma-desktopL28693.png" alt="Slackware KDE4 desktop"></p>
<h4 id="插入程序块"><a href="#插入程序块" class="headerlink" title="插入程序块"></a>插入程序块</h4><p>这是一段Racket程序：</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">;; lookup a variable in an environment</span></div><div class="line"><span class="comment">;; Do NOT change this function</span></div><div class="line">(<span class="name"><span class="builtin-name">define</span></span> (<span class="name">envlookup</span> env str)</div><div class="line">  (<span class="name"><span class="builtin-name">cond</span></span> [(<span class="name"><span class="builtin-name">null?</span></span> env) (<span class="name">error</span> <span class="string">"unbound variable during evaluation"</span> str)]</div><div class="line">        [(<span class="name"><span class="builtin-name">equal?</span></span> (<span class="name"><span class="builtin-name">car</span></span> (<span class="name"><span class="builtin-name">car</span></span> env)) str) (<span class="name"><span class="builtin-name">cdr</span></span> (<span class="name"><span class="builtin-name">car</span></span> env))]</div><div class="line">        [<span class="literal">#t</span> (<span class="name">envlookup</span> (<span class="name"><span class="builtin-name">cdr</span></span> env) str)]))</div></pre></td></tr></table></figure>
<p>这是一段Ruby程序：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Let</span> &lt; GeometryExpression</span></div><div class="line">  <span class="comment"># *add* methods to this class -- do *not* change given code and do not</span></div><div class="line">  <span class="comment"># override any methods</span></div><div class="line">  <span class="comment"># Note: Look at Var to guide how you implement Let</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(s,e1,e2)</span></span></div><div class="line">    @s = s</div><div class="line">    @e1 = e1</div><div class="line">    @e2 = e2</div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eval_prog</span> <span class="title">env</span></span></div><div class="line">    @e2.eval_prog([[@s, @e1.eval_prog(env)]].concat(env))</div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># I didn't add this function before!!</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">preprocess_prog</span></span></div><div class="line">    Let.new(@s, @e1.preprocess_prog, @e2.preprocess_prog)</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>这是一段SML程序：</p>
<figure class="highlight sml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">(* Didn't understand the problem's meaning first.</span></div><div class="line">I fix it after I saw the error message of the autograder.</div><div class="line"> *)</div><div class="line"><span class="keyword">fun</span> preprocess_prog exp =</div><div class="line">  <span class="keyword">case</span> exp <span class="keyword">of</span></div><div class="line">      <span class="type">LineSegment</span>(x1, y1, x2, y2) =&gt;</div><div class="line">      <span class="keyword">if</span> real_close(x1, x2) <span class="keyword">then</span></div><div class="line">	  (<span class="keyword">if</span> real_close(y1, y2) <span class="keyword">then</span> <span class="type">Point</span>(x1, y1)</div><div class="line">	   <span class="keyword">else</span> <span class="keyword">if</span> y1 &gt; y2 <span class="keyword">then</span> <span class="type">LineSegment</span>(x2, y2, x1, y1)</div><div class="line">	   <span class="keyword">else</span> exp)</div><div class="line">      <span class="keyword">else</span> <span class="keyword">if</span> x1 &gt; x2 <span class="keyword">then</span> <span class="type">LineSegment</span>(x2, y2, x1, y1)</div><div class="line">      <span class="keyword">else</span> exp</div><div class="line">    | <span class="type">Intersect</span>(e1, e2) =&gt; <span class="type">Intersect</span>(preprocess_prog e1,</div><div class="line">				    preprocess_prog e2)</div><div class="line">    | <span class="type">Let</span>(s, e1, e2) =&gt; <span class="type">Let</span>(s, preprocess_prog e1, preprocess_prog e2)</div><div class="line">    | <span class="type">Shift</span>(dx, dy, e) =&gt; <span class="type">Shift</span>(dx, dy, preprocess_prog e)</div><div class="line">    | _ =&gt; exp;</div></pre></td></tr></table></figure>
<p>只是测试一下有没有代码语法高亮。</p>
<p>发现racket没有语法高亮，那就试一试改成scheme看看。另外，如果插入的图片是外部的链接，可能网页会加载的很慢，尤其是大图片。文字和图片链接之间最好有空行，这样生成的网页美观一点。</p>
<p>发现scheme也没有语法高亮。那试一试lisp程序：</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> next-prime (<span class="name">n</span>)</div><div class="line">  <span class="string">"return the first prime number which is greater than n"</span></div><div class="line">  (<span class="name">loop</span> for i from (<span class="number">1</span>+ n) when (<span class="name">primep</span> i)</div><div class="line">     return i))</div><div class="line"></div><div class="line"><span class="comment">;; <span class="doctag">NOTE:</span> Don't write as: `(,x ,(gensym)) because of the macro expansion time should be later.</span></div><div class="line">(<span class="name">defmacro</span> with-gensyms ((<span class="name">&amp;rest</span> rest) <span class="symbol">&amp;body</span> body)</div><div class="line">  `(let ,(loop for x in rest</div><div class="line">	    collect `(,x (gensym)))</div><div class="line">     ,@body))</div></pre></td></tr></table></figure>
<p>发现lisp程序也没有高亮，可能需要插件吧。目前就这样吧。能用就行。</p>
<p>刚才看到markdown的文档里讲到插入代码块的方式是缩进四个空格。那么试一试吧，这是一段Ruby程序：</p>
<pre><code># some helper methods that may be generally useful
def real_close(r1,r2)
  (r1 - r2).abs &lt; GeometryExpression::Epsilon
end
</code></pre><p>好像并不可以。不知道hexo里面的markdown和标准的markdown有什么区别。有时间写一个支持lisp程序代码高亮的插件吧。</p>
<h4 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h4><p>本来想试一试在Gitlab上面部署这个博客的，然而折腾了半天，遇到了一些陷阱（官方文档里和现在的情况不符合，官方文档并没更新），最好弄好了发现还有CSS没有加载的问题。另外还「恰好」遇到了Gitlab服务器挂掉的情况（不过很快就好了）。在这件事情上面，和Github相比，还是Github Pages方便多了，基本不需要什么设置，很快就弄好了。其实搭建个这样的博客看起来挺简单，其实还是挺花时间的，修改主题，修改设置等等。</p>
<p>电脑旧了，刚才竟然过热关机了。果然还是不能同时开太多东西。CPU负担不能太大，所以我打算把部分工作放到树莓派上面来做。比如写不需要使用IDE的程序、看书看文档。一般情况下本地就打开一个浏览器查东西就够了。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


</div>



	<div class="article-share" id="share">
	
	  <div data-url="liuxueyang.github.io/2017/02/14/use-hexo/" data-title="Use Hexo | 黑历史" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/01/02/2017-01-02-emacs-fcitx-thought/" title="折腾Emacs和Fcitx的兼容问题">
  <strong>上一篇：</strong><br/>
  <span>
  折腾Emacs和Fcitx的兼容问题</span>
</a>
</div>


<div class="next">
<a href="/2017/02/14/开始使用Raspbian/"  title="开始使用Raspbian">
 <strong>下一篇：</strong><br/> 
 <span>开始使用Raspbian
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Quick-Start"><span class="toc-number">1.</span> <span class="toc-text">Quick Start</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-new-post"><span class="toc-number">1.1.</span> <span class="toc-text">Create a new post</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-server"><span class="toc-number">1.2.</span> <span class="toc-text">Run server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Generate-static-files"><span class="toc-number">1.3.</span> <span class="toc-text">Generate static files</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Deploy-to-remote-sites"><span class="toc-number">1.4.</span> <span class="toc-text">Deploy to remote sites</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一些测试"><span class="toc-number">1.5.</span> <span class="toc-text">一些测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#插入图片"><span class="toc-number">1.5.1.</span> <span class="toc-text">插入图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#插入程序块"><span class="toc-number">1.5.2.</span> <span class="toc-text">插入程序块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其它"><span class="toc-number">1.5.3.</span> <span class="toc-text">其它</span></a></li></ol></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Diary/" title="Diary">Diary<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Emacs-Fcitx/" title="Emacs Fcitx">Emacs Fcitx<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Organize/" title="Organize">Organize<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Slackware/" title="Slackware">Slackware<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/macOS/" title="macOS">macOS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/习惯-整理/" title="习惯 整理">习惯 整理<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Hdu/" title="Hdu">Hdu<sup>66</sup></a></li>
			
		
			
				<li><a href="/tags/DP/" title="DP">DP<sup>48</sup></a></li>
			
		
			
				<li><a href="/tags/CodeForces/" title="CodeForces">CodeForces<sup>44</sup></a></li>
			
		
			
				<li><a href="/tags/POJ/" title="POJ">POJ<sup>43</sup></a></li>
			
		
			
				<li><a href="/tags/Graph/" title="Graph">Graph<sup>26</sup></a></li>
			
		
			
				<li><a href="/tags/Uva/" title="Uva">Uva<sup>25</sup></a></li>
			
		
			
				<li><a href="/tags/zoj/" title="zoj">zoj<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/masm/" title="masm">masm<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/Data-Structure/" title="Data Structure">Data Structure<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/Math/" title="Math">Math<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/run/" title="run">run<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/spoj/" title="spoj">spoj<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Article/" title="Article">Article<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/tyvj/" title="tyvj">tyvj<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Ubuntu/" title="Ubuntu">Ubuntu<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Codeforces/" title="Codeforces">Codeforces<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/USACO/" title="USACO">USACO<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/2016/" title="2016">2016<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/DFS/" title="DFS">DFS<sup>5</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m liuxueyang. <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="liuxueyang">liuxueyang</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'liuxueyang';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
