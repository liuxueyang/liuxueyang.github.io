
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>NFA2DFA | 黑历史</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="liuxueyang">
    

    
    <meta name="description" content="input:number of symbolssymbol set(each space between two symbol)number of states(state number starts from 1 to n by default)start state numbernumber of accept statesaccept states setstate transfer tab">
<meta name="keywords" content="c++">
<meta property="og:type" content="article">
<meta property="og:title" content="NFA2DFA">
<meta property="og:url" content="liuxueyang.github.io/2014/05/28/nfa2dfa/index.html">
<meta property="og:site_name" content="黑历史">
<meta property="og:description" content="input:number of symbolssymbol set(each space between two symbol)number of states(state number starts from 1 to n by default)start state numbernumber of accept statesaccept states setstate transfer tab">
<meta property="og:updated_time" content="2017-04-10T15:58:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NFA2DFA">
<meta name="twitter:description" content="input:number of symbolssymbol set(each space between two symbol)number of states(state number starts from 1 to n by default)start state numbernumber of accept statesaccept states setstate transfer tab">

    
    <link rel="alternative" href="/atom.xml" title="黑历史" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="黑历史" title="黑历史"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="黑历史">黑历史</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:liuxueyang.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/05/28/nfa2dfa/" title="NFA2DFA" itemprop="url">NFA2DFA</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2014-05-28T06:01:53.000Z" itemprop="datePublished"> 发表于 2014-05-28</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			
		
		</div>
		
		<p>input:<br>number of symbols<br>symbol set(each space between two symbol)<br>number of states(state number starts from 1 to n by default)<br>start state number<br>number of accept states<br>accept states set<br>state transfer table (epsilon transfer is at column one and if there are several epsilon transfers, seperate them with a comma without spaces)<br>The following file is the input file. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">NFA2DFA.txt</div><div class="line"></div><div class="line">2</div><div class="line">a b</div><div class="line">4</div><div class="line">1</div><div class="line">1</div><div class="line">3</div><div class="line">3 2 1</div><div class="line">-1 1 -1</div><div class="line">-1 3 4</div><div class="line">-1 -1 3</div></pre></td></tr></table></figure>
<p>we input a integer N by str.txt file. then we generate accepted strings by DFA and NFA whose length is no more than N. Then compare those strings generated by NFA and DFA are all the same. The output is in str_out.txt</p>
<p>The following program is the main program.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *       Filename : NFA2DFA.cpp</div><div class="line"> *    Description : </div><div class="line"> *    Version     : 0.1</div><div class="line"> *        Created : 05/13/14 20:43</div><div class="line"> *         Author : Liu Xue Yang (LXY), liuxueyang457@163.com</div><div class="line"> *         Motto  : How about today?</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> trans[<span class="number">1000</span>][<span class="number">1000</span>];</div><div class="line"><span class="keyword">int</span> n;                                          <span class="comment">/* number of symbols */</span></div><div class="line"><span class="keyword">char</span> ch[<span class="number">1000</span>];                                  <span class="comment">/* symbol set */</span></div><div class="line"><span class="keyword">int</span> start_state;                                <span class="comment">/* start state */</span></div><div class="line"><span class="keyword">int</span> n_state;                                    <span class="comment">/* number of states */</span></div><div class="line"><span class="keyword">int</span> nac_state;                                  <span class="comment">/* number of accept states */</span></div><div class="line"><span class="keyword">int</span> ac[<span class="number">1000</span>];                                   <span class="comment">/* accept states */</span></div><div class="line"><span class="keyword">char</span> input[<span class="number">1000</span>];                               <span class="comment">/* input string */</span></div><div class="line"><span class="keyword">int</span> start = <span class="number">1</span>;                                  <span class="comment">/* start state */</span></div><div class="line"><span class="keyword">bool</span> flag = <span class="literal">true</span>;                               <span class="comment">/* whether the string is legal */</span></div><div class="line"><span class="keyword">bool</span> mark_ac;                                   <span class="comment">/* whether the string is accepted */</span></div><div class="line"><span class="keyword">int</span> N;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dfa_ac;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; e_s;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs_nfa</span><span class="params">(<span class="built_in">string</span>, <span class="keyword">int</span>)</span></span>;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs_dfa</span><span class="params">(<span class="built_in">string</span>, <span class="keyword">int</span>)</span></span>;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ac_check</span><span class="params">(<span class="keyword">int</span>)</span></span>;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ac_check_dfa</span><span class="params">(<span class="keyword">int</span>)</span></span>;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">all_check</span><span class="params">(<span class="keyword">int</span>)</span></span>;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; Newtrans;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; dfa_generate, nfa_generate;</div><div class="line"></div><div class="line"><span class="comment">/* </span></div><div class="line"> * ===  FUNCTION  ======================================================================</div><div class="line"> *         Name: main</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">int</span></span></div><div class="line"><span class="title">main</span> <span class="params">( <span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[] )</span></div><div class="line">&#123;</div><div class="line"></div><div class="line">	freopen(<span class="string">"NFA2DFA.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"></div><div class="line">	dfa_ac.clear();</div><div class="line">	<span class="built_in">scanf</span> ( <span class="string">"%d"</span>, &amp;n);</div><div class="line">	getchar();</div><div class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i ) &#123;</div><div class="line">		<span class="built_in">scanf</span> ( <span class="string">"%c"</span>, &amp;ch[i] );</div><div class="line">		getchar();</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">scanf</span> ( <span class="string">"%d%d%d"</span>, &amp;n_state, &amp;start_state, &amp;nac_state );</div><div class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nac_state; ++i ) &#123;</div><div class="line">		<span class="built_in">scanf</span> ( <span class="string">"%d"</span>, &amp;ac[i] );</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">string</span> str;</div><div class="line">	e_s.clear();</div><div class="line">	<span class="keyword">char</span> buffer[<span class="number">1111</span>];</div><div class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n_state; ++i ) &#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; str;</div><div class="line">		<span class="built_in">memset</span>(buffer, <span class="number">0</span>, <span class="keyword">sizeof</span>(buffer));</div><div class="line">		<span class="built_in">strcpy</span>(buffer, str.c_str());</div><div class="line">		<span class="keyword">char</span> *pch = strtok(buffer, <span class="string">","</span>);</div><div class="line">		<span class="keyword">char</span> suffer[<span class="number">1000</span>];</div><div class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; t_a;</div><div class="line">		t_a.clear();</div><div class="line">		<span class="keyword">while</span> ( <span class="literal">NULL</span> != pch ) &#123;</div><div class="line">			<span class="built_in">memset</span>(suffer, <span class="number">0</span>, <span class="keyword">sizeof</span>(suffer));</div><div class="line">			<span class="built_in">strcpy</span>(suffer, pch);</div><div class="line">			<span class="keyword">int</span> su_n = atoi(suffer);</div><div class="line">			t_a.push_back(su_n);</div><div class="line">			pch = strtok(<span class="literal">NULL</span>, <span class="string">","</span>);</div><div class="line">		&#125;</div><div class="line">		e_s.push_back(t_a);</div><div class="line">		<span class="keyword">for</span> ( <span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n + <span class="number">1</span>; ++j ) &#123;</div><div class="line">			<span class="built_in">scanf</span> ( <span class="string">"%d"</span>, &amp;trans[i][j] );</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator <span class="keyword">i_t</span>;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</div><div class="line"></div><div class="line">	<span class="built_in">map</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, <span class="keyword">int</span> &gt; mystate;</div><div class="line">	mystate.clear();</div><div class="line"></div><div class="line">	Newtrans.clear();</div><div class="line"></div><div class="line">	<span class="keyword">int</span> ii;</div><div class="line">	ii = <span class="number">0</span>;</div><div class="line">	<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; s_in;</div><div class="line">	s_in.clear();</div><div class="line">	v.push_back(start_state);</div><div class="line">	s_in.insert(start_state);</div><div class="line">	<span class="comment">// start_state enclosure</span></div><div class="line">	<span class="keyword">for</span> ( <span class="keyword">i_t</span> = e_s[start_state<span class="number">-1</span>].begin(); <span class="keyword">i_t</span> != e_s[start_state<span class="number">-1</span>].end(); ++<span class="keyword">i_t</span> ) &#123;</div><div class="line">		<span class="keyword">if</span> ( <span class="number">-1</span> != *<span class="keyword">i_t</span> &amp;&amp; s_in.count(*<span class="keyword">i_t</span>) == <span class="number">0</span>) &#123;</div><div class="line">			v.push_back(*<span class="keyword">i_t</span>);</div><div class="line">			s_in.insert(*<span class="keyword">i_t</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</div><div class="line">	<span class="keyword">bool</span> in_ac = <span class="literal">false</span>;</div><div class="line">	<span class="keyword">for</span> ( it = v.begin(); it != v.end(); ++it ) &#123;</div><div class="line">		<span class="keyword">for</span> ( <span class="keyword">int</span> jk = <span class="number">0</span>; jk &lt; nac_state; ++jk ) &#123;</div><div class="line">			<span class="keyword">if</span> ( ac[jk] == (*it) ) &#123;</div><div class="line">				in_ac = <span class="literal">true</span>;</div><div class="line">				dfa_ac.push_back(<span class="number">0</span>);</div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> ( in_ac ) &#123;</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	sort(v.begin(), v.end());</div><div class="line"></div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; add;</div><div class="line">	add.clear();</div><div class="line"></div><div class="line">	mystate.insert(pair&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, <span class="keyword">int</span>&gt;(v, ii));</div><div class="line">	++ii;</div><div class="line">	Newtrans.push_back(add);                      <span class="comment">/* push_back a empty vector */</span></div><div class="line"></div><div class="line">	<span class="built_in">stack</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; stac;</div><div class="line">	stac.push(v);</div><div class="line">	<span class="keyword">while</span> ( !stac.empty() ) &#123;                     <span class="comment">/*if stack if not empty we will search new state */</span></div><div class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">		v = stac.top();</div><div class="line">		stac.pop();</div><div class="line">		<span class="keyword">int</span> jj;</div><div class="line">		jj = mystate[v];</div><div class="line">		<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n + <span class="number">1</span>; ++i ) &#123;         <span class="comment">/* for every symbol */</span></div><div class="line">			tmp.clear();</div><div class="line">			s_in.clear();</div><div class="line">			<span class="comment">// move(v, i) = tmp</span></div><div class="line">			<span class="keyword">for</span> ( it = v.begin(); it != v.end(); ++it ) &#123; <span class="comment">/* for every symbol in this set (this symbol as input) */</span></div><div class="line">				<span class="keyword">if</span> (<span class="number">-1</span> != trans[(*it)<span class="number">-1</span>][i] &amp;&amp; s_in.count(trans[(*it)<span class="number">-1</span>][i]) == <span class="number">0</span>) &#123; <span class="comment">/* we can not push_back -1!!!f**k!!! */</span></div><div class="line">					tmp.push_back(trans[(*it)<span class="number">-1</span>][i]);     <span class="comment">/* =_= T_T I wasted so much time to debug here!!!!!! T^T */</span></div><div class="line">					s_in.insert(trans[(*it)<span class="number">-1</span>][i]);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="comment">// get enclosure tmp-enclosure</span></div><div class="line">			<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp_i;</div><div class="line">			tmp_i = tmp;</div><div class="line">			<span class="keyword">for</span> ( it = tmp.begin(); it != tmp.end(); ++it ) &#123; <span class="comment">/* get stuck!!! command terminated */</span></div><div class="line">				<span class="keyword">for</span> ( <span class="keyword">i_t</span> = e_s[(*it)<span class="number">-1</span>].begin(); <span class="keyword">i_t</span> != e_s[(*it)<span class="number">-1</span>].end(); ++<span class="keyword">i_t</span> ) &#123;</div><div class="line">					<span class="keyword">if</span> ( <span class="number">-1</span> != *<span class="keyword">i_t</span> &amp;&amp; s_in.count(*<span class="keyword">i_t</span>) == <span class="number">0</span> ) &#123;</div><div class="line">						tmp_i.push_back(*<span class="keyword">i_t</span>);              <span class="comment">/* we cannot modify tmp */</span></div><div class="line">						s_in.insert(*<span class="keyword">i_t</span>);</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			tmp = tmp_i;</div><div class="line">			sort(tmp.begin(), tmp.end());</div><div class="line">			<span class="keyword">if</span> ( (tmp.size() != <span class="number">0</span>) &amp;&amp; !mystate.count(tmp)) &#123;                  <span class="comment">/* do not have it */</span></div><div class="line">				mystate.insert(pair&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, <span class="keyword">int</span>&gt;(tmp, ii));</div><div class="line">				in_ac = <span class="literal">false</span>;</div><div class="line">				<span class="keyword">for</span> ( it = tmp.begin(); it != tmp.end(); ++it ) &#123;</div><div class="line">					<span class="keyword">for</span> ( <span class="keyword">int</span> jk = <span class="number">0</span>; jk &lt; nac_state; ++jk ) &#123;</div><div class="line">						<span class="keyword">if</span> ( ac[jk] == (*it) ) &#123;</div><div class="line">							in_ac = <span class="literal">true</span>;</div><div class="line">							dfa_ac.push_back(ii);</div><div class="line">							<span class="keyword">break</span>;</div><div class="line">						&#125;</div><div class="line">					&#125;</div><div class="line">					<span class="keyword">if</span> ( in_ac ) &#123;</div><div class="line">						<span class="keyword">break</span>;</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">				add.clear();</div><div class="line">				Newtrans.push_back(add);</div><div class="line">				ii++;</div><div class="line">				stac.push(tmp);</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (tmp.size() != <span class="number">0</span>) &#123;</div><div class="line">				Newtrans[jj].push_back(mystate[tmp]);</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> &#123;</div><div class="line">				Newtrans[jj].push_back(<span class="number">-1</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"><span class="comment">//	vector&lt;vector&lt;int&gt; &gt;::iterator j_t;</span></div><div class="line"><span class="comment">//	for ( j_t = Newtrans.begin(); j_t != Newtrans.end(); ++j_t ) &#123;</span></div><div class="line"><span class="comment">//		for ( it = (*j_t).begin(); it != (*j_t).end(); ++it ) &#123;</span></div><div class="line"><span class="comment">//			cout &lt;&lt; *it &lt;&lt; " ";</span></div><div class="line"><span class="comment">//		&#125;</span></div><div class="line"><span class="comment">//		cout &lt;&lt; endl;</span></div><div class="line"><span class="comment">//	&#125;</span></div><div class="line">	<span class="comment">// succeed!</span></div><div class="line">	<span class="comment">// Out put DFA!</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ii; ++i) &#123;</div><div class="line">		<span class="keyword">for</span> ( it = Newtrans[i].begin(); it != Newtrans[i].end(); ++it ) &#123;</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// output accepted state</span></div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"accepted state: "</span>; </div><div class="line">	<span class="keyword">for</span> ( it = dfa_ac.begin(); it != dfa_ac.end() ; ++it ) &#123;</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>; </div><div class="line">	&#125;</div><div class="line">	N = <span class="number">3</span>;</div><div class="line">	dfa_generate.clear();</div><div class="line">	nfa_generate.clear();</div><div class="line"><span class="comment">//	printf ( "\n" );</span></div><div class="line">	freopen(<span class="string">"str.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">"str_out.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</div><div class="line">	<span class="keyword">while</span> ( ~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N) ) &#123;</div><div class="line">		<span class="built_in">string</span> sad = <span class="string">""</span>;</div><div class="line">		dfs_dfa(sad, <span class="number">0</span>);</div><div class="line">		sort(dfa_generate.begin(), dfa_generate.end());</div><div class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::iterator end_u, sadbu;</div><div class="line">		end_u = unique(dfa_generate.begin(), dfa_generate.end());</div><div class="line">		dfa_generate.erase(end_u, dfa_generate.end());</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"********************"</span> &lt;&lt; <span class="built_in">endl</span>; </div><div class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"size = "</span> &lt;&lt; dfa_generate.size() &lt;&lt; <span class="built_in">endl</span>; </div><div class="line">		<span class="keyword">for</span> ( sadbu = dfa_generate.begin(); sadbu != dfa_generate.end(); ++sadbu ) &#123;</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; *sadbu &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">		&#125;</div><div class="line">		sad = <span class="string">""</span>;</div><div class="line">		dfs_nfa(sad, <span class="number">1</span>);</div><div class="line">		sort(nfa_generate.begin(), nfa_generate.end());</div><div class="line">		end_u = unique(nfa_generate.begin(), nfa_generate.end());</div><div class="line">		nfa_generate.erase(end_u, nfa_generate.end());</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"********************"</span> &lt;&lt; <span class="built_in">endl</span>; </div><div class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"size = "</span> &lt;&lt; nfa_generate.size() &lt;&lt; <span class="built_in">endl</span>; </div><div class="line">		<span class="keyword">for</span> ( sadbu = nfa_generate.begin(); sadbu != nfa_generate.end(); ++sadbu ) &#123;</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; *sadbu &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">bool</span> mark = <span class="literal">true</span>;</div><div class="line">		<span class="keyword">if</span> ( dfa_generate.size() != nfa_generate.size() ) &#123;</div><div class="line">			mark = <span class="literal">false</span>;</div><div class="line">			<span class="built_in">printf</span> ( <span class="string">"size is Different!\n"</span> );</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">for</span> ( <span class="keyword">int</span> js = <span class="number">0</span>; js &lt; dfa_generate.size(); ++js ) &#123;</div><div class="line">				<span class="keyword">if</span> ( dfa_generate[js] != nfa_generate[js] ) &#123;</div><div class="line">					mark = <span class="literal">false</span>;</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> ( mark ) &#123;</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">"Same!"</span> &lt;&lt; <span class="built_in">endl</span>; </div><div class="line">		&#125; </div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">"Different!"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">		<span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div><div class="line"></div><div class="line"><span class="comment">/* </span></div><div class="line"> * ===  FUNCTION  ======================================================================</div><div class="line"> *         Name:  dfs_dfa</div><div class="line"> *  Description:  dfs to generate string</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line">	<span class="function"><span class="keyword">void</span></span></div><div class="line"><span class="title">dfs_dfa</span> <span class="params">( <span class="built_in">string</span> str, <span class="keyword">int</span> now )</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> len = str.length();</div><div class="line">	<span class="keyword">if</span> ( len &gt; N ) &#123;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> ( len &gt; <span class="number">0</span> &amp;&amp; len &lt;= N &amp;&amp; ac_check_dfa(now) ) &#123;</div><div class="line">		dfa_generate.push_back(str);</div><div class="line"><span class="comment">//		cout &lt;&lt; str &lt;&lt; endl;</span></div><div class="line">	&#125;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator jk;</div><div class="line">	<span class="keyword">for</span> ( jk = Newtrans[now].begin(); jk != Newtrans[now].end(); ++jk ) &#123;</div><div class="line">		<span class="keyword">if</span> ( <span class="number">-1</span> != *jk ) &#123;</div><div class="line">			dfs_dfa(str + ch[jk-Newtrans[now].begin()], *jk);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;		<span class="comment">/* -----  end of function dfs_dfa  ----- */</span></div><div class="line"></div><div class="line"><span class="comment">/* </span></div><div class="line"> * ===  FUNCTION  ======================================================================</div><div class="line"> *         Name:  dfs_nfa</div><div class="line"> *  Description:  dfs to generate string</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line">	<span class="function"><span class="keyword">void</span></span></div><div class="line"><span class="title">dfs_nfa</span> <span class="params">( <span class="built_in">string</span> str, <span class="keyword">int</span> now )</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> len = str.length();</div><div class="line">	<span class="keyword">if</span> ( len &gt; N ) &#123;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> ( len &gt; <span class="number">0</span> &amp;&amp; len &lt;= N &amp;&amp; all_check(now) ) &#123;</div><div class="line">		nfa_generate.push_back(str);</div><div class="line"><span class="comment">//		cout &lt;&lt; str &lt;&lt; endl;</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n + <span class="number">1</span>; ++i ) &#123;</div><div class="line">		<span class="keyword">if</span> ( <span class="number">-1</span> != trans[now<span class="number">-1</span>][i] ) &#123;</div><div class="line">			dfs_nfa(str+ch[i<span class="number">-1</span>], trans[now<span class="number">-1</span>][i]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator <span class="keyword">i_t</span>;</div><div class="line">	<span class="keyword">for</span> ( <span class="keyword">i_t</span> = e_s[now<span class="number">-1</span>].begin(); <span class="keyword">i_t</span> != e_s[now<span class="number">-1</span>].end(); ++<span class="keyword">i_t</span> ) &#123;</div><div class="line">		<span class="keyword">if</span> ( <span class="number">-1</span> != *<span class="keyword">i_t</span> ) &#123;</div><div class="line">			dfs_nfa(str, *<span class="keyword">i_t</span>);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">break</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;		<span class="comment">/* -----  end of function dfs_nfa  ----- */</span></div><div class="line"></div><div class="line"><span class="comment">/* </span></div><div class="line"> * ===  FUNCTION  ======================================================================</div><div class="line"> *         Name:  all_check</div><div class="line"> *  Description:  enclosure check</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line">	<span class="function"><span class="keyword">bool</span></span></div><div class="line"><span class="title">all_check</span> <span class="params">( <span class="keyword">int</span> sta )</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">bool</span> mark = <span class="literal">false</span>;</div><div class="line">	mark = ac_check(sta);</div><div class="line">	<span class="keyword">if</span> ( mark ) &#123;</div><div class="line">		<span class="keyword">return</span> mark;</div><div class="line">	&#125;</div><div class="line"><span class="comment">//	vector&lt;int&gt;::iterator i_t;</span></div><div class="line"><span class="comment">//	for ( i_t = e_s[sta-1].begin(); i_t != e_s[sta-1].end(); ++i_t ) &#123;</span></div><div class="line"><span class="comment">//		if ( -1 != *i_t ) &#123;</span></div><div class="line"><span class="comment">//			mark = ac_check(*i_t);</span></div><div class="line"><span class="comment">//			if ( mark ) &#123;</span></div><div class="line"><span class="comment">//				break;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//		&#125;</span></div><div class="line"><span class="comment">//		else break;</span></div><div class="line"><span class="comment">//	&#125;</span></div><div class="line">	<span class="keyword">return</span> mark;</div><div class="line">&#125;		<span class="comment">/* -----  end of function all_check  ----- */</span></div><div class="line"></div><div class="line"><span class="comment">/* </span></div><div class="line"> * ===  FUNCTION  ======================================================================</div><div class="line"> *         Name:  ac_check</div><div class="line"> *  Description:  check whether a state is accepted</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line">	<span class="function"><span class="keyword">bool</span></span></div><div class="line"><span class="title">ac_check</span> <span class="params">( <span class="keyword">int</span> sta )</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">bool</span> mark = <span class="literal">false</span>;</div><div class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nac_state; ++i ) &#123;</div><div class="line">		<span class="keyword">if</span> ( sta == ac[i] ) &#123;</div><div class="line">			mark = <span class="literal">true</span>;</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> mark;</div><div class="line">&#125;		<span class="comment">/* -----  end of function ac_check  ----- */</span></div><div class="line"></div><div class="line"><span class="comment">/* </span></div><div class="line"> * ===  FUNCTION  ======================================================================</div><div class="line"> *         Name:  ac_check_dfa</div><div class="line"> *  Description:  check whether it is legal</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line">	<span class="function"><span class="keyword">bool</span></span></div><div class="line"><span class="title">ac_check_dfa</span> <span class="params">( <span class="keyword">int</span> sta )</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">bool</span> mark = <span class="literal">false</span>;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</div><div class="line">	<span class="keyword">for</span> ( it = dfa_ac.begin(); it != dfa_ac.end(); ++it ) &#123;</div><div class="line">		<span class="keyword">if</span> ( (*it) == sta ) &#123;</div><div class="line">			mark = <span class="literal">true</span>;</div><div class="line">			<span class="keyword">return</span> mark;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> mark;</div><div class="line">&#125;		<span class="comment">/* -----  end of function ac_check_dfa  ----- */</span></div></pre></td></tr></table></figure>
<p>Nice.</p>
<hr>
<p>Maybe I made a mistake! I forget a case:<br>when I get epsilon of a node, it may have some consistent epsilon transfers! So I should use dfs to get the whole epsilon!</p>
<p>I find this problem when I read this blog: <a href="www.cnblgos.com/cyjb/archive/LexerDfa.html">cyjb</a><br>Thank You!<br>I will fix the problem later.</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/c/">c++</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="liuxueyang.github.io/2014/05/28/nfa2dfa/" data-title="NFA2DFA | 黑历史" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/05/27/chapter-5/" title="Chapter 5">
  <strong>上一篇：</strong><br/>
  <span>
  Chapter 5</span>
</a>
</div>


<div class="next">
<a href="/2014/05/30/editor/"  title="Editor">
 <strong>下一篇：</strong><br/> 
 <span>Editor
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Diary/" title="Diary">Diary<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Emacs-Fcitx/" title="Emacs Fcitx">Emacs Fcitx<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Organize/" title="Organize">Organize<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Slackware/" title="Slackware">Slackware<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/macOS/" title="macOS">macOS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/习惯-整理/" title="习惯 整理">习惯 整理<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/masm/" title="masm">masm<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/spoj/" title="spoj">spoj<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Article/" title="Article">Article<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/CodeForces/" title="CodeForces">CodeForces<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Codeforces/" title="Codeforces">Codeforces<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/DP/" title="DP">DP<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/2016/" title="2016">2016<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Common-Lisp/" title="Common Lisp">Common Lisp<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Editor/" title="Editor">Editor<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C++">C++<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Algorithm/" title="Algorithm">Algorithm<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/POJ/" title="POJ">POJ<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/水题/" title="水题">水题<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/读书笔记/" title="读书笔记">读书笔记<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/shell/" title="shell">shell<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/数据结构/" title="数据结构">数据结构<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/暴力/" title="暴力">暴力<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/c/" title="c++">c++<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m liuxueyang. <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="liuxueyang">liuxueyang</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'liuxueyang';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
