
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Write a Shell script to simulate the &#39;tree&#39; command | 黑历史</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="liuxueyang">
    

    
    <meta name="description" content="I wrote a shell script to simulate the ‘tree’ tool in Linux. This is the code: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465">
<meta name="keywords" content="shell">
<meta property="og:type" content="article">
<meta property="og:title" content="Write a Shell script to simulate the 'tree' command">
<meta property="og:url" content="liuxueyang.github.io/2014/08/03/write-a-shell-script-to-simulate-the-tree-command/index.html">
<meta property="og:site_name" content="黑历史">
<meta property="og:description" content="I wrote a shell script to simulate the ‘tree’ tool in Linux. This is the code: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465">
<meta property="og:updated_time" content="2017-04-10T15:58:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Write a Shell script to simulate the 'tree' command">
<meta name="twitter:description" content="I wrote a shell script to simulate the ‘tree’ tool in Linux. This is the code: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465">

    
    <link rel="alternative" href="/atom.xml" title="黑历史" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="黑历史" title="黑历史"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="黑历史">黑历史</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:liuxueyang.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/08/03/write-a-shell-script-to-simulate-the-tree-command/" title="Write a Shell script to simulate the &#39;tree&#39; command" itemprop="url">Write a Shell script to simulate the &#39;tree&#39; command</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2014-08-03T13:55:34.000Z" itemprop="datePublished"> 发表于 2014-08-03</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			
		
		</div>
		
		<p>I wrote a shell script to simulate the ‘tree’ tool in Linux.</p>
<p>This is the code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash - </div><div class="line">#===============================================================================</div><div class="line">#</div><div class="line">#          FILE: RecursiveDir.sh</div><div class="line"># </div><div class="line">#         USAGE: bash RecursiveDir.sh [directory] [longest deepth] [empty]</div><div class="line"># </div><div class="line">#   DESCRIPTION: This script can list the files and dirs </div><div class="line"># 								recursively in the current directory</div><div class="line"># 								if empty argument is set to &quot;empty&quot;, it will print a empty line </div><div class="line"># 								before and after a directory</div><div class="line"># </div><div class="line">#       OPTIONS: longest_deepth	is set to 4 by default</div><div class="line"># 							 directory is set to current directory by default </div><div class="line"># 								empty argument is set to &quot;n&quot; by default</div><div class="line"></div><div class="line">#  REQUIREMENTS: ---</div><div class="line">#          BUGS: ---</div><div class="line">#         NOTES: It print a empty line after a directory</div><div class="line">#        AUTHOR: liuxueyang (lxy), liuxueyang457@163.com</div><div class="line">#  ORGANIZATION: Hunan University</div><div class="line">#       CREATED: 08/02/2014 20:52</div><div class="line">#      REVISION:  ---</div><div class="line">#===============================================================================</div><div class="line"></div><div class="line">set -o nounset                              # Treat unset variables as an error</div><div class="line"></div><div class="line"># this function used to print a empty line before or after a directory</div><div class="line">printempty()</div><div class="line">&#123;</div><div class="line">	if [ $empty = &quot;empty&quot; ]; then </div><div class="line">			NumberOfVeri=$[$&#123;#tab&#125;/2+1]</div><div class="line">			count=0</div><div class="line">			while [ $count -lt $NumberOfVeri ]</div><div class="line">			do </div><div class="line">				echo -n $veri</div><div class="line">				echo -n &apos;       &apos; # This is 7 spaces</div><div class="line">				count=$[$count+1]</div><div class="line">			done</div><div class="line">			echo</div><div class="line">		fi </div><div class="line">&#125;</div><div class="line"></div><div class="line"># This function is recursive </div><div class="line"># It lists the files and directories in the current dir </div><div class="line">recdir()</div><div class="line">&#123;</div><div class="line">	tab=$tab$singletab</div><div class="line">	# to test whether the deepth is greater than required</div><div class="line">	if [ $&#123;#tab&#125; -gt $nu ]</div><div class="line">	then </div><div class="line">		## Note that we must delete a tab before we go upper directory!</div><div class="line">		tab=$&#123;tab%&quot;\t&quot;&#125;</div><div class="line">		return</div><div class="line">	fi</div><div class="line"></div><div class="line">	for file in &quot;$@&quot;</div><div class="line">	do</div><div class="line"># 		echo -en $tab$file</div><div class="line"># 		minus_tab=$&#123;tab%&quot;\t&quot;&#125;</div><div class="line"># 		echo -en $minus_tab</div><div class="line"></div><div class="line">		# print vertical lines</div><div class="line">		NumberOfVeri=$[$&#123;#tab&#125;/2-1]</div><div class="line">		count=0</div><div class="line">		while [ $count -lt $NumberOfVeri ]</div><div class="line">		do </div><div class="line">			echo -n $veri</div><div class="line">			echo -n &apos;       &apos; # This is 7 spaces</div><div class="line">			count=$[$count+1]</div><div class="line">		done</div><div class="line"></div><div class="line">		echo -n $veri</div><div class="line">		# print horizonal lines</div><div class="line">		count=0</div><div class="line">		while [ $count -lt 7 ]</div><div class="line">		do</div><div class="line">			echo -n &quot;-&quot;</div><div class="line">			count=$[$count+1]</div><div class="line">		done</div><div class="line">		echo -n $file</div><div class="line"></div><div class="line">		# we get the path from original directory of the current file </div><div class="line">		# or directory</div><div class="line">		thisfile=$thisfile/$file</div><div class="line"></div><div class="line">		if [ -d &quot;$thisfile&quot; ]</div><div class="line">		then </div><div class="line">			echo /</div><div class="line"></div><div class="line">			# add empty line before a directory begins</div><div class="line">			printempty</div><div class="line"></div><div class="line">			# we force &apos;ls&apos; to be a builtin command instead of some function </div><div class="line">			# or alias that we create by ourself</div><div class="line">			recdir $(command ls $thisfile)</div><div class="line"></div><div class="line">			# add an empty line after a directory ends</div><div class="line">			printempty</div><div class="line"></div><div class="line">		else </div><div class="line">			echo</div><div class="line">		fi</div><div class="line"></div><div class="line">		# we must set thisfile to be the current directory</div><div class="line">		thisfile=$&#123;thisfile%/*&#125;</div><div class="line">	done</div><div class="line"></div><div class="line">	# we delete a tab when we get to the upper directory</div><div class="line">	tab=$&#123;tab%&quot;\t&quot;&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"># This function init</div><div class="line">recls() </div><div class="line">&#123;</div><div class="line">	tab=&quot;&quot;</div><div class="line">	singletab=&quot;\t&quot;</div><div class="line">	list=$(ls $1)</div><div class="line">	for tryfile in $list    #### HERE! WE CAN NOT WRITE &quot;$list&quot; or shell will </div><div class="line">													#### treat it as one variable!!!!</div><div class="line">													#### I deserve it! :-(</div><div class="line">	do</div><div class="line">		echo -n $tryfile</div><div class="line">		## fix a BUG in book:</div><div class="line">		## we add $1 in order to use any available directory </div><div class="line">		## instead of only current directory of the script path</div><div class="line">		tryfile=$1/$tryfile</div><div class="line">		if [ -d $tryfile ]</div><div class="line">		then </div><div class="line">			echo /</div><div class="line"></div><div class="line">			# add empty line before a directory begins</div><div class="line">			printempty</div><div class="line"></div><div class="line">			thisfile=$tryfile</div><div class="line">			recdir $(command ls $tryfile)</div><div class="line"></div><div class="line">			# add an empty line after a directory ends</div><div class="line">			printempty</div><div class="line"></div><div class="line">		else </div><div class="line">			echo</div><div class="line">		fi</div><div class="line">	done</div><div class="line"></div><div class="line">	# we unset these variables cause we do not use them </div><div class="line">	# By the way, in order not to overwrite system command </div><div class="line">	# in some other script it is better to do this.</div><div class="line">	unset dir singletab tab</div><div class="line">&#125;</div><div class="line"></div><div class="line">result=$&#123;1:-&quot;.&quot;&#125;</div><div class="line">nu=$&#123;2:-4&#125;</div><div class="line">nu=$[($nu-1)*2]</div><div class="line">empty=$&#123;3:-&quot;n&quot;&#125;</div><div class="line"></div><div class="line"># this two variable are used to draw</div><div class="line">hori=&quot;-&quot;</div><div class="line">veri=&quot;|&quot;</div><div class="line"></div><div class="line">recls $result</div><div class="line"></div><div class="line">exit 0</div></pre></td></tr></table></figure>
<p>My script accepts 3 arguments.</p>
<p>The first argument is the directory you want to show. It is set by the same directory as the where the script locates.</p>
<p>The second argument is the Longest depth of the tree. It means that the deepest path you want to see. If there are more deep directory, it will not list the directory instead it will just list the directory’s name. Besides, it is set as 4 by default.</p>
<p>The third argument is set by “empty” by default which means that you want to show an empty line before a directory begins and ends. If you omit the argument, it will not show that. I think it looks better without those empty lines. ;-)</p>
<p>This exercise is from the book <em>Learning the bash Shell</em>. Maybe the algorithm is not quite difficult. However, I made a lot of mistakes and debugged a lot before the script ran well when I am not very good at the grammar of shell script.</p>
<p>Here are some examples:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line">Example 1:</div><div class="line"></div><div class="line">~&gt;./RecursiveDir.sh tmpdir</div><div class="line">a0.cpp</div><div class="line">b1.cpp</div><div class="line">c2.cpp</div><div class="line">d3.cpp</div><div class="line">tm1/</div><div class="line">|-------a.c</div><div class="line">|-------tm2/</div><div class="line">|       |-------b.c</div><div class="line">|       |-------tm3/</div><div class="line">|       |       |-------c.dd</div><div class="line">|       |-------z.cc</div><div class="line">~&gt;tree tmpdir/</div><div class="line">tmpdir/</div><div class="line">├── a0.cpp</div><div class="line">├── b1.cpp</div><div class="line">├── c2.cpp</div><div class="line">├── d3.cpp</div><div class="line">└── tm1</div><div class="line">    ├── a.c</div><div class="line">    └── tm2</div><div class="line">        ├── b.c</div><div class="line">        ├── tm3</div><div class="line">        │   └── c.dd</div><div class="line">        └── z.cc</div><div class="line"></div><div class="line">3 directories, 8 files****</div><div class="line"></div><div class="line">Example 2:</div><div class="line">I set the second argument. We can see that the &quot;tm3&quot; directory is not listed in detail.</div><div class="line"></div><div class="line">~&gt;./RecursiveDir.sh tmpdir 3</div><div class="line">a0.cpp</div><div class="line">b1.cpp</div><div class="line">c2.cpp</div><div class="line">d3.cpp</div><div class="line">tm1/</div><div class="line">|-------a.c</div><div class="line">|-------tm2/</div><div class="line">|       |-------b.c</div><div class="line">|       |-------tm3/</div><div class="line">|       |-------z.cc</div><div class="line"></div><div class="line">Example 3:</div><div class="line">I set the third argument to empty. We can see empty lines when a directory begins and ends.</div><div class="line"></div><div class="line">~&gt;./RecursiveDir.sh tmpdir 5 empty</div><div class="line">a0.cpp</div><div class="line">b1.cpp</div><div class="line">c2.cpp</div><div class="line">d3.cpp</div><div class="line">tm1/</div><div class="line">|       </div><div class="line">|-------a.c</div><div class="line">|-------tm2/</div><div class="line">|       |       </div><div class="line">|       |-------b.c</div><div class="line">|       |-------tm3/</div><div class="line">|       |       |       </div><div class="line">|       |       |-------c.dd</div><div class="line">|       |       |       </div><div class="line">|       |-------z.cc</div><div class="line">|       |       </div><div class="line">|</div></pre></td></tr></table></figure>
<p><em><a href="https://github.com/liuxueyang/learnshell/blob/master/LearningBashShell/RecursiveDir.sh" target="_blank" rel="external">This is the script address on github</a></em></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/shell/">shell</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="liuxueyang.github.io/2014/08/03/write-a-shell-script-to-simulate-the-tree-command/" data-title="Write a Shell script to simulate the &#39;tree&#39; command | 黑历史" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/08/01/run-7/" title="run-7">
  <strong>上一篇：</strong><br/>
  <span>
  run-7</span>
</a>
</div>


<div class="next">
<a href="/2014/08/04/run-8/"  title="run-8">
 <strong>下一篇：</strong><br/> 
 <span>run-8
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Diary/" title="Diary">Diary<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Emacs-Fcitx/" title="Emacs Fcitx">Emacs Fcitx<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Organize/" title="Organize">Organize<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Slackware/" title="Slackware">Slackware<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/macOS/" title="macOS">macOS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/习惯-整理/" title="习惯 整理">习惯 整理<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/DP/" title="DP">DP<sup>41</sup></a></li>
			
		
			
				<li><a href="/tags/CodeForces/" title="CodeForces">CodeForces<sup>32</sup></a></li>
			
		
			
				<li><a href="/tags/Hdu/" title="Hdu">Hdu<sup>29</sup></a></li>
			
		
			
				<li><a href="/tags/POJ/" title="POJ">POJ<sup>28</sup></a></li>
			
		
			
				<li><a href="/tags/Graph/" title="Graph">Graph<sup>25</sup></a></li>
			
		
			
				<li><a href="/tags/masm/" title="masm">masm<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/zoj/" title="zoj">zoj<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/spoj/" title="spoj">spoj<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/run/" title="run">run<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/Article/" title="Article">Article<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/Uva/" title="Uva">Uva<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/tyvj/" title="tyvj">tyvj<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Data-Structure/" title="Data Structure">Data Structure<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Math/" title="Math">Math<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/S/" title="S">S<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/DFS/" title="DFS">DFS<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/USACO/" title="USACO">USACO<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Codeforces/" title="Codeforces">Codeforces<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/2016/" title="2016">2016<sup>5</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m liuxueyang. <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="liuxueyang">liuxueyang</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'liuxueyang';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
