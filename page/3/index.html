<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="黑历史">
<meta property="og:url" content="liuxueyang.github.io/page/3/index.html">
<meta property="og:site_name" content="黑历史">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="黑历史">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":true,"scrollpercent":true},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="liuxueyang.github.io/page/3/"/>





  <title> 黑历史 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">黑历史</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/12/23/2016-12-23-life-labixiaoxin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/23/2016-12-23-life-labixiaoxin/" itemprop="url">
                  个人努力、蜡笔小新
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-23T17:59:39+08:00">
                2016-12-23
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-12T07:48:38+08:00">
                2017-04-12
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/12/23/2016-12-23-life-labixiaoxin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/12/23/2016-12-23-life-labixiaoxin/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  156
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>人啊，还是依靠个人努力。至于是不是要考虑到历史的进程，对于我来说，倒不是那么重要，毕竟，「我」只有一个，在另外的历史进程里的「我」是什么样子，我不知道。所以我还是过好自己的生活就可以了。</p>
<p>最近，「蜡笔小新」的视频在哔哩哔哩上因为版权原因全部被删除了，唯一的乐趣没有了。不过还好，有良心UP主在直播间里24小时播放蜡笔小新。缺点是不能自己选集看了，优点是至少还有的看。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/10/07/2016/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/07/2016/" itemprop="url">
                  2016
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-10-07T22:12:00+08:00">
                2016-10-07
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/10/07/2016/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/10/07/2016/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  1,260
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="玩过"><a href="#玩过" class="headerlink" title="玩过"></a>玩过</h2><h3 id="游戏"><a href="#游戏" class="headerlink" title="游戏"></a>游戏</h3><h4 id="i-wanna"><a href="#i-wanna" class="headerlink" title="i wanna"></a>i wanna</h4><p>之前看散人优瓦夏玩i wanna游戏挺欢乐。可惜我手残，玩不了这种游戏。最近发现，也许这种游戏是一种比较好的培养耐心的方式吧？今天下午玩了一个多小时，最后手指酸疼。比较神奇的是，我竟然还感觉挺有意思的。过程中完全没想过一定要通关怎么怎么样，只是沉浸在其中，明显感觉到一次比一次好。从开始玩到某一关，总共死了500+次。后来又从开始玩了一遍，到同样的关卡只死了80+次。进步这么明显，我还是蛮惊讶的。当我开始怀疑人生的时候，不妨玩玩i wanna吧。;-)</p>
<h4 id="Besiege"><a href="#Besiege" class="headerlink" title="Besiege"></a>Besiege</h4><p>这个游戏在Steam上买了，可惜没怎么玩，看到B站上的大神们玩出各种花样，看着比较过瘾，然而自己还是算了吧。</p>
<h4 id="孢子"><a href="#孢子" class="headerlink" title="孢子"></a>孢子</h4><p>很久以前玩过。一开始玩的时候，总是走军事路线，当然是选的简单。今年年初又玩了一次，改成经济路线了，同样也能称霸星球啊哈哈。宇宙阶段没有怎么深入玩。</p>
<h3 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h3><h4 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h4><p>大学的时候入的Vim坑，给我带来了很多方便，同时，也花费了我极多的时间。我也很难衡量到底值不值得花那么多时间在它上面。不过，确实挺好玩的。它也成了我各种平台的通用编辑器，ssh到树莓派上编辑个什么系统文件啊什么的，首选Vim，我的配置在GitHub上同步。</p>
<h4 id="Emacs"><a href="#Emacs" class="headerlink" title="Emacs"></a>Emacs</h4><p>算是今年入的坑。打开了新世界的大门。同样，花费了我极多的时间，我觉得，还是得不偿失的。不过，当配置好之后，还是很方便的。它现在是我日常用的编辑器。只要电脑开着，Emacs就处于打开状态。用LaTeX写日记，写LISP、C/CPP、ML程序之类，还是非常方便的。有些大牛说，一开始学习Emacs就要用大牛们的配置，我倒是不以为然。这个还是因人而异吧。我愿意花时间弄一套自己的配置，优点是，编辑器的插件的每个方面、快捷键之类的自己最清楚，出错了也知道哪里错了。缺点是比较花时间。用别人的配置就不同了，比如Spacemacs它集成了太多东西，有些我根本不需要，绑定的快捷键可能和我的习惯冲突等等。现在我的配置对于我自己来说处于一个比较好的状态，我把它同步到GitLab的私人仓库里面。</p>
<h3 id="RIME"><a href="#RIME" class="headerlink" title="RIME"></a>RIME</h3><p>好用的输入法。我用小鹤双拼语句流。打字行云流水。我在Linux，macOS上面都用它。我还把词库和配置文件放到了GitLab的私人仓库里面同步。我没有在Windows 10上面用，因为它和UWP类的应用不兼容，会出现问题，比如让Windows的开始菜单不可用。</p>
<h3 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h3><h4 id="Windows-10"><a href="#Windows-10" class="headerlink" title="Windows 10"></a>Windows 10</h4><p>把家里的旧台式机和新台式机都装上了Windows 10，先安装的盗版Windows 7，然后洗白。使用Windows面向残障人士的升级软件来洗白的。微软官方网站可以下载。Windows 10还是挺好用的。</p>
<h4 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h4><p>把MacBook Air升级到了macOS Sierra，多了Siri的功能，还有别的，比如类似于移动端的画中画的功能。直接升级的，没备份，升级成功。不过Homebrew和MacPorts还需要迁移一下，挺麻烦的。还有一些软件和新版系统不兼容了。。</p>
<h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><h5 id="Arch-Linux"><a href="#Arch-Linux" class="headerlink" title="Arch Linux"></a>Arch Linux</h5><p>我的树莓派上面用的系统，一年多了，没挂过。很稳定。</p>
<h5 id="openSUSE"><a href="#openSUSE" class="headerlink" title="openSUSE"></a>openSUSE</h5><p>一台旧电脑用的系统，很稳定，当时也感觉有点臃肿。</p>
<h5 id="Manjaro"><a href="#Manjaro" class="headerlink" title="Manjaro"></a>Manjaro</h5><p>挺漂亮的系统，Arch Linux的衍生版，今年第一次尝试它，还是被它给惊艳到了。</p>
<h5 id="Linux-Mint-18"><a href="#Linux-Mint-18" class="headerlink" title="Linux Mint 18"></a>Linux Mint 18</h5><p>Ubuntu的衍生版，优点是，易用。</p>
<p><strong>所有的Linux的桌面环境我都用Xfce，稳如狗哈哈。</strong></p>
<h3 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h3><p>家里的路由器距离我卧室比较远，还隔着墙。所以我用我以前的两个路由器和家里的路由器WPS桥接。效果还不错。需要注意的一点是：只有主路由器需要打开DHCP服务，两个副路由器都不用。我是让一个副路由器B桥接主路由器A，然后让另一个副路由器C桥接到副路由器B。为什么使用C呢，因为我的USB无线网卡的驱动不支持最新版本的Windows 10（某次更新系统之后就连不上网了），所以我把C放到主机旁边，用网线连接电脑。</p>
<hr>
<p>这大概就是我今年玩过的东西吧。时间过得很快。</p>
<p>很久不来博客园，增加了markdown的功能？不过怎么没有预览功能啊哈哈。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/14/Spoj-math-CPCRC1C-Sum-of-Digits/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/14/Spoj-math-CPCRC1C-Sum-of-Digits/" itemprop="url">
                  Spoj, math: CPCRC1C - Sum of Digits
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-14T21:11:34+08:00">
                2016-08-14
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/14/Spoj-math-CPCRC1C-Sum-of-Digits/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/14/Spoj-math-CPCRC1C-Sum-of-Digits/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  923
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  5
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Primary-Problem"><a href="#Primary-Problem" class="headerlink" title="Primary Problem"></a>Primary Problem</h2><p><a href="http://www.spoj.com/problems/CPCRC1C/" target="_blank" rel="external">题目大意：</a></p>
<pre><code>给两个数字a和b，求从a到b所有数字的每一位的和。比如1到3就是：1+2+3=6, 10到12
就是：1+0 + 1+1 + 1+2=6，范围是10^9
</code></pre><p>为了表示方便，用[n]表示从1到n的所有数字的每一位的和。要求从a到b，只需要计算[b] -<br>[a]就可以。</p>
<pre><code>[9]  = 45;
[19] = [9] + [9] + 10 * 1 = [9] * 2 + 10 * 1
[99] = [9] + ([9] + 10 * 1) + ([9] + 10 * 2) + ... + ([9] + 10 * 9) = 
     = [9] * 10 + 10 * [9]
[999] = [99] + ([99] + 100 * 1) + ([99] + 100 * 2) + ([99] + 100 * 3) + ... + ([99] + 100 * 9) =
      = [99] * 10 + 100 * [9]
</code></pre><p>就可以找到规律了：(d是9的个数)</p>
<pre><code>[10^d-1] = [10^(d-1)-1] * 10 + 10^(d-1) * [9]
</code></pre><p>比如对于457这个数字：</p>
<pre><code>[457] = [399] + (457%100 + 1) * 4 + [57]
      = [99] * 4 + 100 * [3] + (457%100 + 1) * 4 + [57]
</code></pre><p>用d表示数字有多少位，msd表示数的最左边的数字的值，p=10^(d-1)，那么对于任意的n：</p>
<pre><code>[n] = [msd*p - 1] + (n%p+1) * msd + [n%p]
    = [p-1] * msd + p * [msd-1] + (n%p+1) * msd + [n%p]
</code></pre><p>这样问题就解决了。复杂度是O(log(N))</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main1.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/CPCRC1C/</div><div class="line"> *</div><div class="line"> *        Version:  1.0</div><div class="line"> *        Created:  08/14/2016 20:39:52</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), read3valprintloop@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">num_len</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;<span class="keyword">return</span> <span class="built_in">floor</span>(<span class="built_in">log10</span>(n))+<span class="number">1</span>;&#125;</div><div class="line"><span class="function">ll <span class="title">solve</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">  <span class="keyword">if</span>(n&lt;=<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  <span class="keyword">int</span> d=num_len(n);</div><div class="line">  <span class="keyword">if</span>(d==<span class="number">1</span>)<span class="keyword">return</span> (<span class="number">1</span>+n)*n/<span class="number">2</span>;</div><div class="line">  <span class="keyword">int</span> p=(<span class="keyword">int</span>)<span class="built_in">pow</span>(<span class="number">10</span>,d<span class="number">-1</span>),msd=n/p;</div><div class="line">  <span class="keyword">return</span> solve(p<span class="number">-1</span>)*msd+solve(msd<span class="number">-1</span>)*p+(n%p+<span class="number">1</span>)*msd+solve(n%p);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line">  <span class="keyword">int</span> a,b;<span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&amp;&amp;(a!=<span class="number">-1</span>))<span class="built_in">cout</span>&lt;&lt;solve(b)-solve(a<span class="number">-1</span>)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>
<h2 id="Intermediate"><a href="#Intermediate" class="headerlink" title="Intermediate"></a>Intermediate</h2><pre><code>Given Integer A and B, (0&lt;=A,B&lt;=10^15), given Integer k (2&lt;=k&lt;=10). Try to get the sum of digits of numbers from A to B under k-base.
</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main.cpp</div><div class="line"> *</div><div class="line"> *    Description:  给定A，B（A、B &lt; 10^15），求[A,B]内的所有数的</div><div class="line"> *    k(2&lt;=k&lt;=10)进制表示下的个数位之和。</div><div class="line"> *</div><div class="line"> *        Version:  1.0</div><div class="line"> *        Created:  08/15/2016 11:48:47</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), read3valprintloop@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"></div><div class="line"><span class="function">ll <span class="title">getSum1</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">  <span class="comment">// n 是自由位的数目，k是进制，求[0,k^n-1]的所有数字的数位之和.</span></div><div class="line">  <span class="comment">// eg. [0,99] 那么n=2</span></div><div class="line">  <span class="keyword">return</span> (ll)<span class="built_in">pow</span>(k,n)*n*(k<span class="number">-1</span>)/<span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="function">ll <span class="title">getSum2</span><span class="params">(<span class="keyword">int</span> prefix,<span class="keyword">int</span> n,<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">  <span class="comment">// 求小区间的数位和，比如[100,199]</span></div><div class="line">  <span class="comment">// prefix是公共前缀和，n是自由位数目，k是进制，比如[51000,51999]公</span></div><div class="line">  <span class="comment">// 共前缀就是5+1=6, n=3, k=10</span></div><div class="line">  <span class="keyword">return</span> getSum1(n,k)+prefix*(ll)<span class="built_in">pow</span>(k,n);</div><div class="line">&#125;</div><div class="line"><span class="function">ll <span class="title">getSum3</span><span class="params">(<span class="keyword">int</span> prefix,ll n,<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">  <span class="comment">// 求[0,n]的在k进制下的数位和，n的范围是10^15，prefix是公共前缀</span></div><div class="line">  <span class="comment">// 和，n是自由位数目，k是进制</span></div><div class="line">  ll ans=<span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span>(n&lt;k)&#123;rep(i,<span class="number">0</span>,n+<span class="number">1</span>)ans+=i+prefix; <span class="keyword">return</span> ans;&#125;</div><div class="line">  <span class="keyword">int</span> freeNum=(ll)<span class="built_in">log10</span>(n)/(ll)<span class="built_in">log10</span>(k),</div><div class="line">    msd=n/(ll)<span class="built_in">pow</span>(k,freeNum); <span class="comment">// msd is Most Significant Digit</span></div><div class="line">  rep(i,<span class="number">0</span>,msd)ans+=getSum2(i+prefix,freeNum,k);</div><div class="line">  <span class="keyword">return</span> ans+=getSum3(msd+prefix,n%(ll)<span class="built_in">pow</span>(k,freeNum),k);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">ll <span class="title">check</span><span class="params">(ll n,<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">  ll ans=<span class="number">0</span>;<span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">    ll t=i;<span class="keyword">while</span>(t)&#123;ans+=t%k;t/=k;&#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line"></div><div class="line">  ll a,b;<span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&amp;&amp;a!=<span class="number">-1</span>)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;getSum3(<span class="number">0</span>,b,<span class="number">10</span>)-getSum3(<span class="number">0</span>,a<span class="number">-1</span>,<span class="number">10</span>)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/14/Spoj-ANARC09A-Seinfeld/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/14/Spoj-ANARC09A-Seinfeld/" itemprop="url">
                  Spoj: ANARC09A - Seinfeld
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-14T15:59:14+08:00">
                2016-08-14
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/14/Spoj-ANARC09A-Seinfeld/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/14/Spoj-ANARC09A-Seinfeld/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  389
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.spoj.com/problems/ANARC09A/" target="_blank" rel="external">题目意思：</a></p>
<pre><code>一个字符串由`{`和`}`组成，长度最多位2000，求最少修改多少次可以使得这个字符串合法。
</code></pre><p>如果把合法的字符串都消去的话，那么最后留下不合法的括号，一定是这样的<code>}*{*</code>其中<br><code>*</code>代表0个或者多个。题目规定字符串长度是偶数，所以不合法的括号的长度也一定是偶数，<br>假设它是<code>len</code>。</p>
<pre><code>1. 如果只有左括号或者右括号，那么答案是`len/2`；
2. 如果左右括号都有，那么答案是左括号的个数/2 + 右括号的个数 / 2，如果左括号
   或者右括号的个数是奇数，那么答案增加一。比如这个例子：`}}}{{{`
</code></pre><p>所以复杂度是O(n)。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/ANARC09A/</div><div class="line"> *</div><div class="line"> *        Version:  1.0</div><div class="line"> *        Created:  2016年08月14日 14时01分45秒</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), read3valprintloop@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line">  <span class="keyword">int</span> T=<span class="number">1</span>;</div><div class="line">  <span class="built_in">string</span> s;<span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;s)&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="string">'-'</span>==s[<span class="number">0</span>])<span class="keyword">break</span>; </div><div class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>,sum=<span class="number">0</span>;</div><div class="line">    rep(i,<span class="number">0</span>,(<span class="keyword">int</span>)s.length())<span class="string">'&#123;'</span>==s[i]?sum--:(sum&lt;<span class="number">0</span>?++sum:++cnt);</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;T&lt;&lt;<span class="string">". "</span>;sum=-sum;++T;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;(sum&amp;&amp;cnt?cnt/<span class="number">2</span>+(cnt&amp;<span class="number">1</span>)+sum/<span class="number">2</span>+(sum&amp;<span class="number">1</span>):(sum?sum/<span class="number">2</span>:cnt/<span class="number">2</span>))&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/14/Spoj-dynamic-programming-ASSIGN-Assignments/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/14/Spoj-dynamic-programming-ASSIGN-Assignments/" itemprop="url">
                  Spoj, dynamic-programming: ASSIGN - Assignments
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-14T15:08:27+08:00">
                2016-08-14
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/14/Spoj-dynamic-programming-ASSIGN-Assignments/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/14/Spoj-dynamic-programming-ASSIGN-Assignments/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  845
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.spoj.com/problems/ASSIGN/" target="_blank" rel="external">题目意思：</a></p>
<pre><code>有n个学生和n个任务，每个学生有喜欢的任务，输入一个矩阵，第i行第j列表示第i个
学生喜欢第j个任务。把任务分配给所有学生，使得每个学生得到的任务都是他喜欢的。
输出有多少种分配方法。n的最大值是20。
</code></pre><p>用一个数字的一个位表示这个任务是否已经被分配，如果任务全部被分配，那么这个数字就<br>是<code>(1&lt;&lt;n)-1</code>。可以想到这样的递归方法：<code>solve(i,mask)</code> 表示对i..n这些人分配任务的<br>方法的数目，mask代表此时对1..i-1这些人已经分配了任务，也就是说mask的二进制表示里<br>面有i-1个1。对当前的人，如果他喜欢第j个任务，并且mask的第j位是0，那么就可以把这<br>个任务分配给他，继续考虑下一个人。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main1.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/ASSIGN/</div><div class="line"> *</div><div class="line"> *        Version:  2.0</div><div class="line"> *        Created:  08/13/2016 14:13:42</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), read3valprintloop@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=((<span class="number">1</span>&lt;&lt;<span class="number">20</span>)+<span class="number">10</span>);</div><div class="line">ll a[<span class="number">25</span>][N];</div><div class="line"><span class="keyword">int</span> b[<span class="number">25</span>][<span class="number">25</span>];</div><div class="line">ll result;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"> </div><div class="line"><span class="function">ll <span class="title">solve</span><span class="params">(<span class="keyword">int</span> stu, ll mask)</span></span>&#123;</div><div class="line">  <span class="keyword">if</span>(a[stu][mask])<span class="keyword">return</span> a[stu][mask];</div><div class="line">  <span class="keyword">if</span>(stu&gt;=n+<span class="number">1</span>)<span class="keyword">return</span> a[stu][mask]=<span class="number">1</span>;</div><div class="line">  ll result=<span class="number">0</span>;rep(j,<span class="number">0</span>,n)&#123;</div><div class="line">    <span class="keyword">if</span>( b[stu<span class="number">-1</span>][j]==<span class="number">1</span> &amp;&amp; !((<span class="number">1</span>&lt;&lt;j)&amp;mask) )</div><div class="line">      result+=solve(stu+<span class="number">1</span>,mask|(<span class="number">1</span>&lt;&lt;j));</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> a[stu][mask]=result;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line"> </div><div class="line">  <span class="keyword">int</span> T;<span class="built_in">cin</span>&gt;&gt;T;<span class="keyword">while</span>(T--)&#123;</div><div class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a)); <span class="built_in">cin</span>&gt;&gt;n;rep(i,<span class="number">0</span>,n)rep(j,<span class="number">0</span>,n)<span class="built_in">cin</span>&gt;&gt;b[i][j];</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;solve(<span class="number">1</span>,<span class="number">0</span>)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>
<p>然而，这会TLE。</p>
<p>这个做法递归到最后，递归结束的时候，其实是在<code>solve(stu,mask)</code>里面的<code>stu==n+1</code>的<br>时候。所以我们可以从下到上计算。<code>dp[(1&lt;&lt;n)-1]=1;</code>这是初始的条件。我们把<code>mask</code>从<br><code>(1&lt;&lt;n)-2</code>开始循环，一直到0，那么可以发现计算<code>dp[i]</code>的时候<code>dp[i..]</code>已经计算过了。<br>另外，可以根据<code>i</code>里面的<code>1</code>的个数来判断当前是哪一个学生。</p>
<p>复杂度是O(n*2^n)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main1.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/ASSIGN/</div><div class="line"> *</div><div class="line"> *        Version:  2.0</div><div class="line"> *        Created:  2016年08月14日 13时32分54秒</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), read3valprintloop@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"><span class="keyword">const</span> ll N=<span class="number">1</span>&lt;&lt;<span class="number">20</span>;</div><div class="line"><span class="keyword">int</span> b[<span class="number">25</span>][N];</div><div class="line">ll a[N];</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cnt1</span><span class="params">(ll n)</span></span>&#123;<span class="keyword">int</span> cnt=<span class="number">0</span>;<span class="keyword">while</span>(n)&#123;<span class="keyword">if</span>(n&amp;<span class="number">1</span>) ++cnt;n/=<span class="number">2</span>;&#125;<span class="keyword">return</span> cnt;&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line"></div><div class="line">    <span class="keyword">int</span> T;<span class="built_in">cin</span>&gt;&gt;T;<span class="keyword">while</span>(T--) &#123;</div><div class="line">        <span class="built_in">cin</span>&gt;&gt;n; rep(i,<span class="number">1</span>,n+<span class="number">1</span>) rep(j,<span class="number">1</span>,n+<span class="number">1</span>) <span class="built_in">cin</span>&gt;&gt;b[i][j];</div><div class="line">        <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</div><div class="line">        a[(<span class="number">1</span>&lt;&lt;n)<span class="number">-1</span>]=<span class="number">1</span>;</div><div class="line">        per(mask,<span class="number">0</span>,(<span class="number">1</span>&lt;&lt;n)<span class="number">-1</span>)&#123;<span class="keyword">int</span> row=cnt1(mask);row++;</div><div class="line">            rep(j,<span class="number">1</span>,n+<span class="number">1</span>) <span class="keyword">if</span>(b[row][j]&amp;&amp;(<span class="number">0</span>==(mask&amp;(<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))))) a[mask]+=a[mask|(<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))];</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;a[<span class="number">0</span>]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/12/Spoj-dynamic-programming-AIBOHP-Aibohphobia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/12/Spoj-dynamic-programming-AIBOHP-Aibohphobia/" itemprop="url">
                  Spoj, dynamic-programming: AIBOHP - Aibohphobia
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-12T21:36:32+08:00">
                2016-08-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/12/Spoj-dynamic-programming-AIBOHP-Aibohphobia/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/12/Spoj-dynamic-programming-AIBOHP-Aibohphobia/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  508
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>给一个字符串，求最少插入多少个字符，可以使得这个字符串是回文的。</p>
<p>可以这样想：我们假设它已经是回文的，那么把这个字符串逆序，如果它是回文的，那么对<br>应的每个字符应该相等。可以它不是回文的，那么就需要尽量少地加一些字符，加多少呢？<br>那么需要知道当前的最长连续公共子序列的长度len，把不相等的那些字符串加进去就成为<br>了回文的。加进去的字符的最少个数 = 字符串长度 - 原先的字符串和它的逆序字符串的最<br>长连续公共子序列的长度。</p>
<p>问题就转化为求两个序列的最长公共子序列。这个就简单了。</p>
<p>因为懒并且想省时间，所以就用了一些宏，这让程序变得不易读，还好程序比较简单，不太<br>影响吧。反正以后也不会再读。。了解思路就可以了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/AIBOHP/</div><div class="line"> *</div><div class="line"> *        Version:  1.0</div><div class="line"> *        Created:  08/12/2016 18:27:30</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), liuxueyang457@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt; a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">6120</span>;</div><div class="line"><span class="keyword">int</span> a[N][N];</div><div class="line"><span class="keyword">char</span> s[N],t[N],str[N];</div><div class="line">  <span class="function"><span class="keyword">int</span></span></div><div class="line"><span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line"></div><div class="line">  <span class="keyword">int</span> T;<span class="built_in">cin</span>&gt;&gt;T;<span class="keyword">while</span>(T--)&#123;</div><div class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;str;<span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</div><div class="line">    rep(i,<span class="number">0</span>,len)s[i+<span class="number">1</span>]=str[i];</div><div class="line">    rep(i,<span class="number">1</span>,len+<span class="number">1</span>)t[len+<span class="number">1</span>-i]=s[i];</div><div class="line">    rep(i,<span class="number">1</span>,len+<span class="number">1</span>)&#123;</div><div class="line">      rep(j,<span class="number">1</span>,len+<span class="number">1</span>)&#123;</div><div class="line">        <span class="keyword">if</span>(s[i]==t[j])&#123;</div><div class="line">          a[i][j]=max(a[i][j],a[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">          <span class="keyword">int</span> mm=max(a[i<span class="number">-1</span>][j],a[i][j<span class="number">-1</span>]);</div><div class="line">          a[i][j]=max(a[i][j],mm);</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;len-a[len][len]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/12/Spoj-dynamic-programming-BYTESM2-Philosophers-Stone/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/12/Spoj-dynamic-programming-BYTESM2-Philosophers-Stone/" itemprop="url">
                  Spoj, dynamic-programming: BYTESM2 - Philosophers Stone
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-12T21:32:26+08:00">
                2016-08-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/12/Spoj-dynamic-programming-BYTESM2-Philosophers-Stone/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/12/Spoj-dynamic-programming-BYTESM2-Philosophers-Stone/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  268
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在矩阵里面捡石头，求最大值。和常见的直角三角形那样的问题是一样的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/BYTESM2/</div><div class="line"> *</div><div class="line"> *        Version:  1.0</div><div class="line"> *        Created:  08/12/2016 18:49:12</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), liuxueyang457@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">120</span>;</div><div class="line"><span class="keyword">int</span> a[N][N],result;</div><div class="line">  <span class="function"><span class="keyword">int</span></span></div><div class="line"><span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line">  <span class="keyword">int</span> T;<span class="built_in">cin</span>&gt;&gt;T;<span class="keyword">while</span>(T--)&#123;</div><div class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</div><div class="line">    <span class="keyword">int</span> r,c;<span class="built_in">cin</span>&gt;&gt;r&gt;&gt;c;rep(i,<span class="number">1</span>,r+<span class="number">1</span>)rep(j,<span class="number">1</span>,c+<span class="number">1</span>)<span class="built_in">cin</span>&gt;&gt;a[i][j];</div><div class="line">    rep(i,<span class="number">2</span>,r+<span class="number">1</span>)rep(j,<span class="number">1</span>,c+<span class="number">1</span>)&#123;</div><div class="line">      <span class="keyword">int</span> tmp=<span class="number">0</span>;</div><div class="line">      tmp=max(a[i<span class="number">-1</span>][j],tmp);</div><div class="line">      <span class="keyword">if</span>(j&gt;=<span class="number">2</span>)tmp=max(tmp,a[i<span class="number">-1</span>][j<span class="number">-1</span>]);</div><div class="line">      <span class="keyword">if</span>(j&lt;=c<span class="number">-1</span>)tmp=max(tmp,a[i<span class="number">-1</span>][j+<span class="number">1</span>]);</div><div class="line">      a[i][j]+=tmp;</div><div class="line">    &#125;</div><div class="line">    result=<span class="number">0</span>;rep(j,<span class="number">1</span>,c+<span class="number">1</span>)result=max(result,a[r][j]);</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;result&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/12/Dynamic-programming-Spoj-DIEHARD-DIE-HARD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/12/Dynamic-programming-Spoj-DIEHARD-DIE-HARD/" itemprop="url">
                  Dynamic-programming: Spoj DIEHARD - DIE HARD
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-12T21:14:23+08:00">
                2016-08-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/12/Dynamic-programming-Spoj-DIEHARD-DIE-HARD/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/12/Dynamic-programming-Spoj-DIEHARD-DIE-HARD/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  886
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>题目很好理解：</p>
<pre><code>有三个区域，你在每个区域里面只能停留一秒，每个区域会对你的两个指标h和a增加或者减少：

    区域A：h += 3, a += 2
    区域B：h -= 5, a -= 10
    区域C：h -= 20, a+= 5

你在任意区域最多只能停留1秒，下一秒必须移动到其它两个区域中的一个，也就是说
你不能一直呆在一个区域。在任意时刻，如果你的两个指标其中的任意一个&lt;=0，那么
游戏结束，输出你一共在游戏里面停留了多长时间。
</code></pre><p>如果不加什么思考，那么容易想到，直接递归就可以了，递归函数有三个参数：当前的h值，<br>当前的a值，当前的位置。为了不重复求解，用一个三位数组存储这一步的结果。</p>
<p>程序如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/DIEHARD/</div><div class="line"> *</div><div class="line"> *        Version:  1.0</div><div class="line"> *        Created:  08/12/2016 20:04:27</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), liuxueyang457@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1020</span>;</div><div class="line">ll sum[N][N][<span class="number">4</span>];</div><div class="line"><span class="function">ll <span class="title">solve</span><span class="params">(<span class="keyword">int</span> h,<span class="keyword">int</span> a,<span class="keyword">int</span> pos)</span></span>&#123;</div><div class="line">  <span class="keyword">if</span>(h&lt;=<span class="number">0</span>||a&lt;=<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span>(<span class="number">-1</span>!=sum[h][a][pos])<span class="keyword">return</span> sum[h][a][pos];</div><div class="line">  ll a1,a2,a3;</div><div class="line">  <span class="keyword">if</span>(pos==<span class="number">1</span>)&#123;</div><div class="line">    a2=solve(h<span class="number">-5</span>,a<span class="number">-10</span>,<span class="number">2</span>);</div><div class="line">    a3=solve(h<span class="number">-20</span>,a+<span class="number">5</span>,<span class="number">3</span>);</div><div class="line">    <span class="keyword">return</span> sum[h][a][pos]=<span class="number">1</span>+max(a2,a3);</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(pos==<span class="number">2</span>) &#123;</div><div class="line">    a1=solve(h+<span class="number">3</span>,a+<span class="number">2</span>,<span class="number">1</span>);</div><div class="line">    a3=solve(h<span class="number">-20</span>,a+<span class="number">5</span>,<span class="number">3</span>);</div><div class="line">    <span class="keyword">return</span> sum[h][a][pos]=<span class="number">1</span>+max(a1,a3);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    a1=solve(h+<span class="number">3</span>,a+<span class="number">2</span>,<span class="number">1</span>);</div><div class="line">    a2=solve(h<span class="number">-5</span>,a<span class="number">-10</span>,<span class="number">2</span>);</div><div class="line">    <span class="keyword">return</span> sum[h][a][pos]=<span class="number">1</span>+max(a1,a2);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">  <span class="function"><span class="keyword">int</span></span></div><div class="line"><span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line"></div><div class="line">  <span class="keyword">int</span> T,h,a;<span class="built_in">cin</span>&gt;&gt;T;<span class="keyword">while</span>(T--)&#123;</div><div class="line">    <span class="built_in">memset</span>(sum,<span class="number">-1</span>,<span class="keyword">sizeof</span>(sum));</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;h&gt;&gt;a;</div><div class="line">    ll a1=solve(h,a,<span class="number">1</span>),a2=solve(h,a,<span class="number">2</span>),a3=solve(h,a,<span class="number">3</span>);</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;max(a1,max(a2,a3))<span class="number">-1</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>
<p>程序风格写成这样，单纯是为了减少按键次数，不想按空格……所以就尽量写紧凑一点。也不<br>想按回车键，所以除非必要的时候，不换行……反正这种程序也不复杂，以后我也不会再读，<br>大概了解思路就好了。</p>
<p>还可以稍微优化一下，注意到区域A对h和a值都会增加，所以，为了使停留时间尽量长，应该这样：</p>
<pre><code>第一秒在区域A，第二秒在区域B或C，第三秒回到区域A，如此反复。
</code></pre><p>这样想，程序就简单一些：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  main.cpp</div><div class="line"> *</div><div class="line"> *    Description:  http://www.spoj.com/problems/DIEHARD/</div><div class="line"> *</div><div class="line"> *        Version:  2.0</div><div class="line"> *        Created:  08/12/2016 20:50:32</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), liuxueyang457@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt;= a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="keyword">const</span> ll MOD=<span class="number">1000000007</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1020</span>;</div><div class="line">ll sum[N][N];</div><div class="line"><span class="function">ll <span class="title">solve</span><span class="params">(<span class="keyword">int</span> h,<span class="keyword">int</span> a)</span></span>&#123;</div><div class="line">  <span class="keyword">if</span>(h&lt;=<span class="number">0</span>||a&lt;=<span class="number">0</span>)<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">  <span class="keyword">if</span>(<span class="number">-1</span>!=sum[h][a])<span class="keyword">return</span> sum[h][a];</div><div class="line">  ll a2=solve(h<span class="number">-2</span>,a<span class="number">-8</span>), a3=solve(h<span class="number">-17</span>,a+<span class="number">7</span>);</div><div class="line">  <span class="keyword">return</span> sum[h][a]=<span class="number">2</span>+max(a2,a3);</div><div class="line">&#125;</div><div class="line">  <span class="function"><span class="keyword">int</span></span></div><div class="line"><span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line"></div><div class="line">  <span class="keyword">int</span> T,h,a;<span class="built_in">cin</span>&gt;&gt;T;<span class="keyword">while</span>(T--)&#123;</div><div class="line">    <span class="built_in">memset</span>(sum,<span class="number">-1</span>,<span class="keyword">sizeof</span>(sum));</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;h&gt;&gt;a;<span class="built_in">cout</span>&lt;&lt;solve(h,a)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/04/show-and-hide-dot-files-in-Finder-of-OS-X-El-Capitan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/04/show-and-hide-dot-files-in-Finder-of-OS-X-El-Capitan/" itemprop="url">
                  show and hide dot files in Finder of OS X El Capitan
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-04T10:39:01+08:00">
                2016-08-04
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/04/show-and-hide-dot-files-in-Finder-of-OS-X-El-Capitan/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/04/show-and-hide-dot-files-in-Finder-of-OS-X-El-Capitan/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  135
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Fish"><a href="#Fish" class="headerlink" title="Fish"></a>Fish</h2><p>Run the following code in fish shell. Then it works as a charm. :-)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function showFiles</div><div class="line">        defaults write com.apple.finder AppleShowAllFiles YES</div><div class="line">        killall Finder /System/Library/CoreServices/Finder.app</div><div class="line">end</div><div class="line"></div><div class="line">funcsave showFiles</div><div class="line"></div><div class="line">function hideFiles</div><div class="line">        defaults write com.apple.finder AppleShowAllFiles NO</div><div class="line">        killall Finder /System/Library/CoreServices/Finder.app</div><div class="line">end</div><div class="line">    </div><div class="line">funcsave hideFiles</div></pre></td></tr></table></figure>
<p>:joy:</p>
<h2 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h2><p>Add the following code to <code>~/.zshrc</code></p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">alias</span> showFiles=<span class="string">'defaults write com.apple.finder AppleShowAllFiles YES; killall Finder /System/Library/CoreServices/Finder.app'</span></div><div class="line"><span class="built_in">alias</span> hideFiles=<span class="string">'defaults write com.apple.finder AppleShowAllFiles NO; killall Finder /System/Library/CoreServices/Finder.app'</span></div></pre></td></tr></table></figure>
<p>then run <code>source ~/.zshrc</code></p>
<h2 id="bash"><a href="#bash" class="headerlink" title="bash"></a>bash</h2><p>Add the code the same as <code>zsh</code> above to <code>~/.bashrc</code>. Then run <code>source ~/.bashrc</code></p>
<hr>
<p>Then, if you want to show hidden files in Finder, just execute <code>showFiles</code> in Terminal. If you want to hide hidden files, use <code>hideFiles</code> instead.</p>
<p>:joy:</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/08/01/Text-Adventure-Game-in-Land-of-Lisp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/01/Text-Adventure-Game-in-Land-of-Lisp/" itemprop="url">
                  Text Adventure Game in Land of Lisp
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-01T23:19:46+08:00">
                2016-08-01
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/01/Text-Adventure-Game-in-Land-of-Lisp/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/01/Text-Adventure-Game-in-Land-of-Lisp/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  988
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Land of LiSP</strong> 这本书里面的第五章和第六章构建了一个字符冒险游戏，游戏截图如下：</p>
<p><img src="/img/text-adventure-game.png" alt="Text Adventure Game"></p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div></pre></td><td class="code"><pre><div class="line"><span class="comment">;; 2016.07.30 23:22:41 PM</span></div><div class="line"><span class="comment">;; Sabastian</span></div><div class="line"><span class="comment">;; building a text adventure game engine</span></div><div class="line"></div><div class="line"><span class="comment">;; ====================</span></div><div class="line"><span class="comment">;; location</span></div><div class="line"></div><div class="line">(<span class="name">defparameter</span> *nodes*</div><div class="line">  '((living-room (you are in the living-room.</div><div class="line">                  a wizard is snoring loudly on the couch.))</div><div class="line">    (garden (you are in a beautiful garden.</div><div class="line">             there is a well in front of you.))</div><div class="line">    (attic (you are in the attic.</div><div class="line">            there is a giant welding torch in the corner.))))</div><div class="line"></div><div class="line">(<span class="name">defun</span> describe-location (<span class="name">location</span> nodes)</div><div class="line">  <span class="string">"location is a symbol.</span></div><div class="line">nodes is the global variable."</div><div class="line">  (<span class="name">cadr</span> (<span class="name">assoc</span> location nodes)))</div><div class="line"></div><div class="line"><span class="comment">;; ====================</span></div><div class="line"><span class="comment">;; edges</span></div><div class="line"></div><div class="line">(<span class="name">defparameter</span> *edges*</div><div class="line">  '((living-room</div><div class="line">     (garden west door)</div><div class="line">     (attic upstairs ladder))</div><div class="line">    (garden</div><div class="line">     (living-room east door))</div><div class="line">    (attic</div><div class="line">     (living-room downstairs ladder))))</div><div class="line"></div><div class="line">(<span class="name">defun</span> describe-path (<span class="name">edge</span>)</div><div class="line">  `(there is a ,(caddr edge) going ,(cadr edge) from here.))</div><div class="line"></div><div class="line">(<span class="name">defun</span> describe-paths (<span class="name">location</span> edges)</div><div class="line">  <span class="string">"location is a symbol.</span></div><div class="line">edges is the global variable"</div><div class="line">  (<span class="name">apply</span> #'append</div><div class="line">         (<span class="name">mapcar</span> #'describe-path</div><div class="line">                 (<span class="name">cdr</span> (<span class="name">assoc</span> location edges)))))</div><div class="line"></div><div class="line"><span class="comment">;; ====================</span></div><div class="line"><span class="comment">;; objects</span></div><div class="line"></div><div class="line">(<span class="name">defparameter</span> *objects* '(whiskey bucket frog chain))</div><div class="line">(<span class="name">defparameter</span> *object-locations* '((whiskey living-room)</div><div class="line">                                   (bucket living-room)</div><div class="line">                                   (chain garden)</div><div class="line">                                   (frog garden)))</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">;; One Way to write OBJECTS-AT function</span></div><div class="line"></div><div class="line"><span class="comment">;; (defun object-at-location-p (object location object-locations)</span></div><div class="line"><span class="comment">;;   "object and location are symbols.</span></div><div class="line"><span class="comment">;; object-locations is a global variable"</span></div><div class="line"><span class="comment">;;   (eq (cadr (assoc object object-locations))</span></div><div class="line"><span class="comment">;;       location))</span></div><div class="line"></div><div class="line"><span class="comment">;; if the test function in REMOVE-IF-NOT require more than one</span></div><div class="line"><span class="comment">;; arguments, then use a lambda to wrap the function. ;-)</span></div><div class="line"></div><div class="line"><span class="comment">;; (defun objects-at (location objects object-locations)</span></div><div class="line"><span class="comment">;;   (remove-if-not #'(lambda (object)</span></div><div class="line"><span class="comment">;;                      (object-at-location-p object</span></div><div class="line"><span class="comment">;;                                            location</span></div><div class="line"><span class="comment">;;                                            object-locations))</span></div><div class="line"><span class="comment">;;                  objects))</span></div><div class="line"></div><div class="line"><span class="comment">;; A better way for OBJECTS-AT function</span></div><div class="line">(<span class="name">defun</span> objects-at (<span class="name">location</span> objects object-locations)</div><div class="line">  <span class="string">"location is a symbol.</span></div><div class="line">objects and object-locations are global variables.</div><div class="line">return a list of objects in the current location."</div><div class="line">  (<span class="name">labels</span> ((<span class="name">at-location-p</span> (<span class="name">object</span>)</div><div class="line">             (<span class="name">eq</span> location</div><div class="line">                 (<span class="name">cadr</span> (<span class="name">assoc</span> object object-locations)))))</div><div class="line">    (<span class="name">remove-if-not</span> #'at-location-p objects)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> describe-objects (<span class="name">location</span> objects object-locations)</div><div class="line">  <span class="string">"location is a symbol.</span></div><div class="line">objects and object-locations are global variables."</div><div class="line">  (<span class="name">apply</span> #'append</div><div class="line">         (<span class="name">mapcar</span> #'(lambda (object)</div><div class="line">                     `(you see a ,object on the floor.))</div><div class="line">                 (<span class="name">objects-at</span> location objects</div><div class="line">                             object-locations))))</div><div class="line"></div><div class="line"><span class="comment">;; ====================</span></div><div class="line"><span class="comment">;; Describing it ALL</span></div><div class="line"></div><div class="line">(<span class="name">defparameter</span> *location* 'living-room)</div><div class="line"></div><div class="line">(<span class="name">defun</span> look ()</div><div class="line">  (<span class="name">append</span> (<span class="name">describe-location</span> *location* *nodes*)</div><div class="line">          (<span class="name">describe-paths</span> *location* *edges*)</div><div class="line">          (<span class="name">describe-objects</span> *location* *objects*</div><div class="line">                            *object-locations*)))</div><div class="line"></div><div class="line"><span class="comment">;; Walking Around in Our World</span></div><div class="line">(<span class="name">defun</span> walk (<span class="name">direction</span>)</div><div class="line">  (<span class="name">let</span> ((<span class="name">next</span></div><div class="line">          (<span class="name">find</span> direction</div><div class="line">                (<span class="name">cdr</span> (<span class="name">assoc</span> *location* *edges*))</div><div class="line">                <span class="symbol">:key</span> #'cadr)))</div><div class="line">    (<span class="name">cond</span> (<span class="name">next</span></div><div class="line">           (<span class="name">setf</span> *location* (<span class="name">car</span> next))</div><div class="line">           (<span class="name">look</span>))</div><div class="line">          (<span class="name">t</span></div><div class="line">           '(you cannot go that way.)))))</div><div class="line"></div><div class="line"><span class="comment">;; ====================</span></div><div class="line"><span class="comment">;; Pick Up Objects</span></div><div class="line"></div><div class="line">(<span class="name">defun</span> pickup (<span class="name">object</span>)</div><div class="line">  <span class="string">"object is a symbol.</span></div><div class="line">push a new list to *object-locations*, return a message list"</div><div class="line">  (<span class="name">cond</span> ((<span class="name">member</span></div><div class="line">          object</div><div class="line">          (<span class="name">objects-at</span> *location* *objects*</div><div class="line">                      *object-locations*))</div><div class="line">         (<span class="name">push</span> `(,object body) *object-locations*)</div><div class="line">         `(you are now carrying the ,object))</div><div class="line">        (<span class="name">t</span> '(you cannot get that.))))</div><div class="line"></div><div class="line"><span class="comment">;; ====================</span></div><div class="line"><span class="comment">;; Checking Our Inventory</span></div><div class="line"></div><div class="line">(<span class="name">defun</span> inventory ()</div><div class="line">  (<span class="name">cons</span> 'items- (<span class="name">objects-at</span> 'body *objects* *object-locations*)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> game-read ()</div><div class="line">  (<span class="name">let</span> ((<span class="name">cmd</span></div><div class="line">          (<span class="name">read-from-string</span></div><div class="line">           (<span class="name">concatenate</span> 'string <span class="string">"("</span> (<span class="name">read-line</span>) <span class="string">")"</span>))))</div><div class="line">    (<span class="name">cons</span> (<span class="name">car</span> cmd)</div><div class="line">          (<span class="name">mapcar</span> #'(lambda (x)</div><div class="line">                      `',x)</div><div class="line">                  (<span class="name">cdr</span> cmd)))))</div><div class="line"></div><div class="line">(<span class="name">defun</span> tweak-text (<span class="name">lst</span> capital-p literal-p)</div><div class="line">  (<span class="name">let</span> ((<span class="name">item</span> (<span class="name">car</span> lst))</div><div class="line">        (<span class="name">rest</span> (<span class="name">rest</span> lst)))</div><div class="line">    (<span class="name">if</span> item</div><div class="line">        (<span class="name">cond</span> ((<span class="name">member</span> item '(#\! #\? #\.))</div><div class="line">               (<span class="name">cons</span> item (<span class="name">tweak-text</span> rest <span class="literal">t</span> <span class="literal">nil</span>)))</div><div class="line">              ((<span class="name">eq</span> item #\<span class="string">")</span></div><div class="line">               (cons item (tweak-text rest nil (not literal-p))))</div><div class="line">              (literal-p</div><div class="line">               (cons item (tweak-text rest nil literal-p)))</div><div class="line">              (capital-p</div><div class="line">               (cons (char-upcase item)</div><div class="line">                     (if (alpha-char-p item)</div><div class="line">                         (tweak-text rest nil literal-p)</div><div class="line">                         (tweak-text rest t literal-p))))</div><div class="line">              (t</div><div class="line">               (cons (char-downcase item)</div><div class="line">                     (tweak-text rest nil literal-p)))))))</div><div class="line"></div><div class="line">(defun game-print (lst)</div><div class="line">  (princ</div><div class="line">   (coerce</div><div class="line">    (tweak-text</div><div class="line">     (coerce (string-trim "() <span class="string">"</span></div><div class="line">                          (prin1-to-string lst))</div><div class="line">             'list)</div><div class="line">     t nil)</div><div class="line">    'string))</div><div class="line">  (fresh-line))</div><div class="line"></div><div class="line">(defparameter *allowed-commands* '(look walk pickup inventory))</div><div class="line"></div><div class="line">(defun game-eval (sexp)</div><div class="line">  (if (member (first sexp)</div><div class="line">              *allowed-commands*)</div><div class="line">      (eval sexp)</div><div class="line">      '(i do not know that command.)))</div><div class="line"></div><div class="line">(defun game-repl ()</div><div class="line">  (let ((cmd (game-read)))</div><div class="line">    (unless (eq (car cmd)</div><div class="line">                'quit)</div><div class="line">      (game-print (game-eval cmd))</div><div class="line">      (game-repl))))</div></pre></td></tr></table></figure>
<p>在第七章里，把游戏里面的位置位置关系通过有向图的形式用第三方库画出来：</p>
<p><img src="/img/wizard.png" alt="adventure game world"></p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line"><span class="comment">;; 2016/08/01 11:48:58 AM</span></div><div class="line"><span class="comment">;; Xueyang Liu</span></div><div class="line"></div><div class="line">(<span class="name">defparameter</span> *wizard-nodes*</div><div class="line">  '((living-room (you are in the living-room.</div><div class="line">                  a wizard is snoring loudly on the couch.))</div><div class="line">    (garden (you are in a beautiful garden.</div><div class="line">             there is a well in front of you.))</div><div class="line">    (attic (you are in the attic.</div><div class="line">            there is a giant welding torch in the corner.))))</div><div class="line"></div><div class="line">(<span class="name">defparameter</span> *wizard-edges*</div><div class="line">  '((living-room</div><div class="line">     (garden west door)</div><div class="line">     (attic upstairs ladder))</div><div class="line">    (garden</div><div class="line">     (living-room east door))</div><div class="line">    (attic</div><div class="line">     (living-room downstairs ladder))))</div><div class="line"></div><div class="line">(<span class="name">defun</span> dot-name (<span class="name">sexp</span>)</div><div class="line">  (<span class="name">string-downcase</span></div><div class="line">   (<span class="name">substitute-if</span> #\_ (<span class="name">complement</span> #'alphanumericp)</div><div class="line">                  (<span class="name">prin1-to-string</span> sexp))))</div><div class="line"></div><div class="line">(<span class="name">defparameter</span> *max-label-length* <span class="number">30</span>)</div><div class="line"></div><div class="line">(<span class="name">defun</span> dot-label (<span class="name">sexp</span>)</div><div class="line">  (<span class="name">if</span> sexp</div><div class="line">      (<span class="name">let</span> ((<span class="name">s</span> (<span class="name">write-to-string</span> sexp</div><div class="line">                                <span class="symbol">:pretty</span> <span class="literal">nil</span>)))</div><div class="line">        (<span class="name">if</span> (<span class="name">&gt;</span> (<span class="name">length</span> s)</div><div class="line">               *max-label-length*)</div><div class="line">            (<span class="name">concatenate</span> 'string</div><div class="line">                         (<span class="name">string-downcase</span></div><div class="line">                          (<span class="name">subseq</span> s</div><div class="line">                                  <span class="number">0</span> (<span class="name">-</span> *max-label-length* <span class="number">3</span>)))</div><div class="line">                         <span class="string">"..."</span>)</div><div class="line">            s))</div><div class="line">      <span class="string">""</span>))</div><div class="line"></div><div class="line">(<span class="name">defun</span> nodes-&gt;dot (<span class="name">nodes</span>)</div><div class="line">  (<span class="name">mapc</span> (<span class="name">lambda</span> (<span class="name">sexp</span>)</div><div class="line">          (<span class="name">fresh-line</span>)</div><div class="line">          (<span class="name">princ</span> (<span class="name">dot-name</span> (<span class="name">car</span> sexp)))</div><div class="line">          (<span class="name">princ</span> <span class="string">"[label=\""</span>)</div><div class="line">          (<span class="name">princ</span> (<span class="name">dot-label</span> sexp))</div><div class="line">          (<span class="name">princ</span> <span class="string">"\"];"</span>))</div><div class="line">        nodes))</div><div class="line"></div><div class="line">(<span class="name">defun</span> edges-&gt;dot (<span class="name">edges</span>)</div><div class="line">  (<span class="name">mapc</span> (<span class="name">lambda</span> (<span class="name">node</span>)</div><div class="line">          (<span class="name">mapc</span> (<span class="name">lambda</span> (<span class="name">edge</span>)</div><div class="line">                  (<span class="name">fresh-line</span>)</div><div class="line">                  (<span class="name">princ</span> (<span class="name">dot-name</span> (<span class="name">car</span> node)))</div><div class="line">                  (<span class="name">princ</span> <span class="string">"-&gt;"</span>)</div><div class="line">                  (<span class="name">princ</span> (<span class="name">dot-name</span> (<span class="name">car</span> edge)))</div><div class="line">                  (<span class="name">princ</span> <span class="string">"[label=\""</span>)</div><div class="line">                  (<span class="name">princ</span> (<span class="name">string-downcase</span></div><div class="line">                          (<span class="name">prin1-to-string</span> (<span class="name">cdr</span> edge))))</div><div class="line">                  (<span class="name">princ</span> <span class="string">"\"];"</span>))</div><div class="line">                (<span class="name">cdr</span> node)))</div><div class="line">        edges))</div><div class="line"></div><div class="line">(<span class="name">defun</span> uedges-&gt;dot (<span class="name">edges</span>)</div><div class="line">  (<span class="name">maplist</span> (<span class="name">lambda</span> (<span class="name">lst</span>)</div><div class="line">             (<span class="name">mapc</span> (<span class="name">lambda</span> (<span class="name">edge</span>)</div><div class="line">                     (<span class="name">unless</span> (<span class="name">assoc</span> (<span class="name">car</span> edge)</div><div class="line">                                    lst)</div><div class="line">                       (<span class="name">fresh-line</span>)</div><div class="line">                       (<span class="name">princ</span> (<span class="name">dot-name</span> (<span class="name">caar</span> lst)))</div><div class="line">                       (<span class="name">princ</span> <span class="string">"--"</span>)</div><div class="line">                       (<span class="name">princ</span> (<span class="name">dot-name</span> (<span class="name">car</span> edge)))</div><div class="line">                       (<span class="name">princ</span> <span class="string">"[label=\""</span>)</div><div class="line">                       (<span class="name">princ</span> (<span class="name">string-downcase</span></div><div class="line">                               (<span class="name">prin1-to-string</span> (<span class="name">cdr</span> edge))))</div><div class="line">                       (<span class="name">princ</span> <span class="string">"\"];"</span>)))</div><div class="line">                   (<span class="name">cdar</span> lst)))</div><div class="line">           edges))</div><div class="line"></div><div class="line">(<span class="name">defun</span> graph-&gt;dot (<span class="name">nodes</span> edges)</div><div class="line">  (<span class="name">princ</span> <span class="string">"digraph&#123;"</span>)</div><div class="line">  (<span class="name">nodes-&gt;dot</span> nodes)</div><div class="line">  (<span class="name">edges-&gt;dot</span> edges)</div><div class="line">  (<span class="name">princ</span> <span class="string">"&#125;"</span>))</div><div class="line"></div><div class="line">(<span class="name">defun</span> ugraph-&gt;dot (<span class="name">nodes</span> edges)</div><div class="line">  (<span class="name">princ</span> <span class="string">"graph&#123;"</span>)</div><div class="line">  (<span class="name">nodes-&gt;dot</span> nodes)</div><div class="line">  (<span class="name">uedges-&gt;dot</span> edges)</div><div class="line">  (<span class="name">princ</span> <span class="string">"&#125;"</span>))</div><div class="line"></div><div class="line">(<span class="name">defun</span> dot-&gt;png (<span class="name">fname</span> thunk)</div><div class="line">  (<span class="name">with-open-file</span> (<span class="name">*standard-output*</span></div><div class="line">                   fname</div><div class="line">                   <span class="symbol">:direction</span> <span class="symbol">:output</span></div><div class="line">                   <span class="symbol">:if-exists</span> <span class="symbol">:supersede</span>)</div><div class="line">    (<span class="name">funcall</span> thunk))</div><div class="line">  (<span class="name">ext</span><span class="symbol">:shell</span> (<span class="name">concatenate</span> 'string</div><div class="line">                          <span class="string">"dot -Tpng -O "</span> fname)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> graph-&gt;png (<span class="name">fname</span> nodes edges)</div><div class="line">  (<span class="name">dot-&gt;png</span> fname</div><div class="line">            (<span class="name">lambda</span> ()</div><div class="line">              (<span class="name">graph-&gt;dot</span> nodes edges))))</div><div class="line"></div><div class="line">(<span class="name">defun</span> ugraph-&gt;png (<span class="name">fname</span> nodes edges)</div><div class="line">  (<span class="name">dot-&gt;png</span> fname</div><div class="line">            (<span class="name">lambda</span> ()</div><div class="line">              (<span class="name">ugraph-&gt;dot</span> nodes edges))))</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/drawing.png"
               alt="liuxueyang" />
          <p class="site-author-name" itemprop="name">liuxueyang</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">458</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">55</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://aozora.moe" title="青空の彼端" target="_blank">青空の彼端</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">liuxueyang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://liuxueyang.disqus.com/count.js" async></script>
    

    

  




	





  





  





  






  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.0"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.0"></script>


  

</body>
</html>
