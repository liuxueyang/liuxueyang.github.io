
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>黑历史</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="liuxueyang">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="黑历史">
<meta property="og:url" content="liuxueyang.github.io/page/29/index.html">
<meta property="og:site_name" content="黑历史">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="黑历史">

    
    <link rel="alternative" href="/atom.xml" title="黑历史" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="黑历史" title="黑历史"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="黑历史">黑历史</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:liuxueyang.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/30/poj2585&&zoj2193-Window-Pains-——拓扑排序入门题/" title="poj2585&amp;&amp;zoj2193 Window Pains ——拓扑排序入门题" itemprop="url">poj2585&amp;&amp;zoj2193 Window Pains ——拓扑排序入门题</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-30T11:15:00.000Z" itemprop="datePublished"> 发表于 2013-04-30</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>题目链接：<a href="http://poj.org/problem?id=2585" target="_blank" rel="external">http://poj.org/problem?id=2585</a>  <a href="http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemCode=2193" target="_blank" rel="external">http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemCode=2193</a><br>题目大意：<br>　　有9个窗口，每个窗口占4个格子，并且每个窗口的位置是固定的。如果重叠的话，在前面的窗口会覆盖另一种窗口，这9个窗口在4*4的矩阵里面，给出一种矩阵的格局。问这中格局是不是合法的。<br>题目思路：<br>　　还是看的书上的。刚开始一点也没有思路。方法就是：16个格子，每个格子可能会存在哪几种窗口，这是可以枚举出来的。针对输入的矩阵，那么可以判断，每一个格子会覆盖哪几种窗口，如果这种窗口在16个格子里面出现过，那么就可以判断当前这个格子一定覆盖了它，那么就可以用一条有向边连接当前窗口和被覆盖的窗口。这样，就可以得到一个图。在16个格子里面没有出现过的窗口我们可以不考虑。得到有向图后，发现，如果存在一个有向环，那么就一定是不合理的，因为这表明，一种窗口A覆盖了另一种窗口B，同时B又覆盖了A，这是不可能的。所以这个矩阵就是不合法的。反之，如果不存在有向环，就是合法的。这样，就转化为用拓扑排序判断环的问题了。先建图，再判断环。<br>写了两遍，其中出现各种BUG……<br>第一遍：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="built_in">string</span> cover[<span class="number">4</span>][<span class="number">4</span>];</div><div class="line"><span class="keyword">int</span> a[<span class="number">10</span>][<span class="number">10</span>];<span class="keyword">bool</span> g[<span class="number">10</span>][<span class="number">10</span>];<span class="keyword">int</span> id[<span class="number">10</span>];</div><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt;mymap;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"poj2585.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">int</span> i, j, k;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j)</div><div class="line">  cover[i][j].erase();</div><div class="line">  <span class="keyword">for</span> (k = <span class="number">1</span>; k &lt;= <span class="number">9</span>; ++k) &#123;</div><div class="line">    i = (k - <span class="number">1</span>) / <span class="number">3</span>; j = (k - <span class="number">1</span>) % <span class="number">3</span>;</div><div class="line">    cover[i][j] += (k + <span class="string">'0'</span>);</div><div class="line">    cover[i][j+<span class="number">1</span>] += (k + <span class="string">'0'</span>);</div><div class="line">    cover[i+<span class="number">1</span>][j] += (k + <span class="string">'0'</span>);</div><div class="line">    cover[i+<span class="number">1</span>][j+<span class="number">1</span>] += (k + <span class="string">'0'</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">string</span> s; <span class="keyword">int</span> t = <span class="number">0</span>;</div><div class="line">  <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; s) &#123;</div><div class="line">    mymap.clear();</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)</div><div class="line">    &#123;</div><div class="line">      id[i] = <span class="number">0</span>;</div><div class="line">      <span class="keyword">for</span> (j= <span class="number">0</span>; j &lt; <span class="number">10</span>; ++j)</div><div class="line">      &#123;</div><div class="line">        g[i][j] = <span class="literal">false</span>; a[i][j] = <span class="number">0</span>;</div><div class="line">      &#125;</div><div class="line">    &#125; t = <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (s == <span class="string">"ENDOFINPUT"</span>) <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;k); a[i][j] = k;</div><div class="line">        <span class="keyword">if</span> (mymap[k] == <span class="literal">false</span>) &#123; mymap[k] = <span class="literal">true</span>; t++; &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; cover[i][j].length(); ++p) &#123;</div><div class="line">          <span class="keyword">if</span> (g[a[i][j]][cover[i][j][p] -<span class="string">'0'</span>] == <span class="literal">false</span> &amp;&amp; a[i][j]!=cover[i][j][p] -<span class="string">'0'</span> &amp;&amp; mymap[cover[i][j][p]-<span class="string">'0'</span>] ) &#123;</div><div class="line">            g[a[i][j]][cover[i][j][p] -<span class="string">'0'</span>] = <span class="literal">true</span>; id[cover[i][j][p]-<span class="string">'0'</span> ]++;</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">bool</span> flag = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; ++i) &#123;</div><div class="line">      k = <span class="number">1</span>;</div><div class="line">      <span class="keyword">while</span> (!(mymap[k]&amp;&amp;id[k]==<span class="number">0</span>) &amp;&amp; (k &lt;= <span class="number">9</span>)) k++;</div><div class="line">      <span class="keyword">if</span> (k &gt; <span class="number">9</span>) &#123;flag = <span class="literal">false</span>; <span class="keyword">break</span>; &#125;</div><div class="line">      mymap[k] = <span class="literal">false</span>;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; ++j) &#123;</div><div class="line">        <span class="keyword">if</span> (g[k][j] == <span class="literal">true</span> &amp;&amp; mymap[j] ) id[j]--;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (flag) <span class="built_in">cout</span> &lt;&lt; <span class="string">"THESE WINDOWS ARE CLEAN"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"THESE WINDOWS ARE BROKEN"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; s;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第二遍：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="built_in">string</span> cover[<span class="number">4</span>][<span class="number">4</span>] = &#123; <span class="string">"1"</span>, <span class="string">"12"</span>, <span class="string">"23"</span>, <span class="string">"3"</span>, <span class="string">"14"</span>, <span class="string">"1245"</span>, <span class="string">"2356"</span>, <span class="string">"36"</span>,</div><div class="line"> <span class="string">"47"</span>, <span class="string">"4578"</span>, <span class="string">"5689"</span>, <span class="string">"69"</span>, <span class="string">"7"</span>, <span class="string">"78"</span>, <span class="string">"89"</span>, <span class="string">"9"</span>&#125;;</div><div class="line"><span class="keyword">bool</span> edge[<span class="number">10</span>][<span class="number">10</span>];</div><div class="line"><span class="keyword">int</span> a[<span class="number">10</span>][<span class="number">10</span>];</div><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt;mymap;</div><div class="line"><span class="keyword">int</span> mystack[<span class="number">10</span>], Count[<span class="number">10</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"poj2585.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="built_in">string</span> s; <span class="keyword">int</span> i, j, k;</div><div class="line">  <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; s) &#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="string">"ENDOFINPUT"</span>) <span class="keyword">break</span>;</div><div class="line">    mymap.clear(); <span class="built_in">memset</span>(edge, <span class="literal">false</span>, <span class="keyword">sizeof</span>(edge));</div><div class="line">    <span class="keyword">int</span> kind = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</div><div class="line">      Count[i] = mystack[i] = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i][j]);</div><div class="line">        <span class="keyword">if</span> (!mymap[a[i][j] ]) &#123;</div><div class="line">          mymap[a[i][j] ] = <span class="literal">true</span>; kind++;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; cover[i][j].length(); ++p) &#123;</div><div class="line">          <span class="keyword">int</span> nu = cover[i][j][p] - <span class="string">'0'</span>;</div><div class="line">          <span class="keyword">if</span> (mymap[nu] &amp;&amp;  edge[a[i][j] ][nu ]==<span class="literal">false</span> &amp;&amp; nu != a[i][j] ) &#123;</div><div class="line">            edge[a[i][j] ][nu] = <span class="literal">true</span>; Count[nu]++;</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> top = <span class="number">0</span>, cnt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; ++i) &#123;</div><div class="line">      <span class="keyword">if</span> (Count[i] == <span class="number">0</span> &amp;&amp; mymap[i]) mystack[++top] = i;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> (top != <span class="number">0</span>) &#123;</div><div class="line">      <span class="keyword">int</span> fo = mystack[top]; Count[fo] = <span class="number">-1</span>;</div><div class="line">      top--; cnt++;</div><div class="line">      <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; ++i) &#123;</div><div class="line">        <span class="keyword">if</span> (edge[fo][i] == <span class="literal">true</span> &amp;&amp; mymap[i]) &#123;</div><div class="line">          Count[i]--;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (!top) <span class="comment">// 这个地方，调试很久。不能重复入栈！也就是说，除非栈空了，否则，不要扫描。</span></div><div class="line">      <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; ++i) &#123;</div><div class="line">        <span class="keyword">if</span> (Count[i] == <span class="number">0</span> &amp;&amp; mymap[i]) mystack[++top] = i;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (cnt &lt; kind) <span class="built_in">cout</span> &lt;&lt; <span class="string">"THESE WINDOWS ARE BROKEN\n"</span>;</div><div class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"THESE WINDOWS ARE CLEAN\n"</span>;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; s;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>细节，很重要。还有，书上的代码貌似有错误……</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/zoj/">zoj</a><a href="/tags/Graph/">Graph</a><a href="/tags/POJ/">POJ</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/30/poj2585&&zoj2193-Window-Pains-——拓扑排序入门题/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/29/hoj12614-Dictionary-——拓扑排序找环&&比赛残留题/" title="hoj12614 Dictionary ——拓扑排序找环&amp;&amp;比赛残留题" itemprop="url">hoj12614 Dictionary ——拓扑排序找环&amp;&amp;比赛残留题</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-29T08:48:00.000Z" itemprop="datePublished"> 发表于 2013-04-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>题目链接：<a href="http://acm.hnu.cn/online/?action=problem&amp;type=show&amp;id=12614&amp;courseid=247" target="_blank" rel="external">http://acm.hnu.cn/online/?action=problem&amp;type=show&amp;id=12614&amp;courseid=247</a><br>题目大意：<br>　　有一种字典。把字典中的符号映射到英文字母。输入一个n，然后是n行映射后的单词，判断这n个单词是不是符合字典序，所谓字典序就是前面的单词可以是后面的单词的前缀，并且这n个单词符合字符串排序后的顺序，这是针对原来的字母的，而不是映射之后的字母。<br>题目思路：<br>　　需要考虑映射之后的字母的相对顺序，来考虑是不是在原来的字母表中是不是符合字典序。<br>　　这道题目开始没看懂，最关键的第一段描述没有注意到，结果样例都看不懂。纠结了好久。但是涉及到前缀，觉得应该是字典树。<br>　　后来终于注意到第一段了，终于理解题目意思了。悲剧的是，还是纠结在字典树上面，老是在这方面想。没有思路。知道考虑相对顺序，但是不知道怎么映射……过程中llh其实提到了一下两个字母的相对顺序可以用边表示，可是，我没有继续往下想！后来听人家说，可以建图，然后找环。唉，原来就是llh那样想的。<br>　　回来之后，认真想了一下。方法是：预处理的过程中判断是不是出现这种情况：后面的单词是前面的单词的前缀，这是不符合条件的。同时在预处理的过程中建图，用临界表，如果一个字母A在另一个字母B的后面，就把B插入到A的出边表里面。然后就是在这个图里面找环，如果出现环了，就是不符合条件的。找环的方法就是刚刚做过的拓扑排序的方法。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="keyword">int</span> n; <span class="keyword">char</span> a[<span class="number">509</span>][<span class="number">17</span>];</div><div class="line"><span class="keyword">struct</span> ArcNode &#123;</div><div class="line">  <span class="keyword">int</span> to; <span class="keyword">struct</span> ArcNode *next;</div><div class="line">&#125;;</div><div class="line">ArcNode *List[<span class="number">50</span>];</div><div class="line"><span class="keyword">int</span> Count[<span class="number">50</span>];</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">topsort</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">int</span> i = <span class="number">0</span>, j, k, top = <span class="number">-1</span>;</div><div class="line">  ArcNode *temp; <span class="keyword">bool</span> flag = <span class="literal">false</span>;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i) &#123;</div><div class="line">    <span class="keyword">if</span> (Count[i] == <span class="number">0</span>) &#123; Count[i] = top; top = i; &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i) &#123;</div><div class="line">    <span class="keyword">if</span> (top == <span class="number">-1</span>) &#123; flag = <span class="literal">true</span>; <span class="keyword">break</span>; &#125;</div><div class="line">    j = top; top = Count[top]; temp = List[j];</div><div class="line">    <span class="keyword">while</span> (temp) &#123;</div><div class="line">      k = temp-&gt;to; Count[k]--;</div><div class="line">      <span class="keyword">if</span> (Count[k] == <span class="number">0</span>) &#123; Count[k] = top; top = k; &#125;</div><div class="line">      temp = temp-&gt;next;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (flag) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"hnu247.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n)) &#123;</div><div class="line">    <span class="keyword">if</span> (!n) <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">int</span> i, j, u, v; <span class="keyword">bool</span> flag = <span class="literal">true</span>; ArcNode *temp;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">      <span class="built_in">scanf</span>(<span class="string">"%s"</span>, a[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">memset</span>(List, <span class="number">0</span>, <span class="keyword">sizeof</span>(List));</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">27</span>; ++i) Count[i] = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; n; ++i) &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="built_in">strlen</span>(a[i<span class="number">-1</span>]); ++j) &#123;</div><div class="line">        <span class="keyword">if</span> (j &gt;= <span class="built_in">strlen</span>(a[i])) &#123; flag = <span class="literal">false</span>; <span class="keyword">break</span>; &#125;</div><div class="line">        <span class="keyword">if</span> (a[i<span class="number">-1</span>][j] != a[i][j]) &#123;</div><div class="line">          u = a[i<span class="number">-1</span>][j] - <span class="string">'a'</span>; v = a[i][j] - <span class="string">'a'</span>;</div><div class="line">          Count[v]++; temp = <span class="keyword">new</span> ArcNode;</div><div class="line">          temp-&gt;to = v; temp-&gt;next = <span class="literal">NULL</span>;</div><div class="line">          temp-&gt;next = List[u]; List[u] = temp;</div><div class="line">          <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (!flag) <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (!flag) &#123; <span class="built_in">printf</span>(<span class="string">"no\n"</span>); <span class="keyword">continue</span>; &#125;</div><div class="line">    <span class="keyword">if</span> (topsort()) &#123; <span class="built_in">printf</span>(<span class="string">"yes\n"</span>); &#125;</div><div class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"no\n"</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　做题的时候还是有个误区：第一感觉这道题目应该用到什么数据结构或算法，就硬往里面套，结果，很限制思路。其实应该是，先认真分析这道题目，是解决什么问题的，应该怎么解决，然后在思考可能什么样的数据结构或者算法能起作用。而不是硬生生的套数据结构，一条路走到黑……<br>　　很多人过这道题目，分析完之后，其实这应该也是很基础的一道题目。也许是自己做的太少了，当时想法都没有……</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Graph/">Graph</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/29/hoj12614-Dictionary-——拓扑排序找环&&比赛残留题/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/28/拓扑排序示例程序/" title="拓扑排序示例程序" itemprop="url">拓扑排序示例程序</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-27T17:51:00.000Z" itemprop="datePublished"> 发表于 2013-04-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>输入：顶点个数n，边数m，然后是m行，表示每条边的起点和终点u, v 表示从顶点u到顶点v的一条有向边。输入0 0 表示结束。<br>输出：如果不存在有向环，则输出一个拓扑有序序列；否则，输出“Netword has a cycle!”</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="keyword">int</span> n, m, Count[<span class="number">100</span>], i, j, top, out[<span class="number">100</span>];</div><div class="line"><span class="keyword">struct</span> ArcNode&#123;</div><div class="line">  <span class="keyword">int</span> to; <span class="keyword">struct</span> ArcNode *next;</div><div class="line">&#125;;</div><div class="line">ArcNode *List[<span class="number">100</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">topsort</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  ArcNode *temp; top = <span class="number">-1</span>; <span class="keyword">int</span> k, len = <span class="number">0</span>; <span class="keyword">bool</span> flag = <span class="literal">true</span>;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">    <span class="keyword">if</span> (Count[i] == <span class="number">0</span>) &#123;</div><div class="line">      Count[i] = top; top = i;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">    k = top; <span class="keyword">if</span> (k == <span class="number">-1</span>) &#123; flag = <span class="literal">false</span>; <span class="keyword">break</span>; &#125;</div><div class="line">    top = Count[k]; temp = List[k]; out[len++] = k + <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>) &#123;</div><div class="line">      Count[temp-&gt;to]--;</div><div class="line">      <span class="keyword">if</span> (Count[temp-&gt;to] == <span class="number">0</span>) &#123;</div><div class="line">        Count[temp-&gt;to] = top; top = temp-&gt;to;</div><div class="line">      &#125; temp = temp-&gt;next;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (flag) &#123;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; ++i) &#123;</div><div class="line">      <span class="keyword">if</span> (!i) <span class="built_in">printf</span>(<span class="string">"%d"</span>, out[i]); <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" %d"</span>, out[i]);</div><div class="line">    &#125; <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">  &#125; <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"Network has a cycle!\n"</span>);</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">    temp = List[i];</div><div class="line">    <span class="keyword">while</span> (temp) &#123;</div><div class="line">      List[i] = temp-&gt;next; <span class="keyword">delete</span> temp; temp = List[i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"topsort.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m))&#123;</div><div class="line">    <span class="keyword">if</span> (m + n == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">int</span> u, v; ArcNode *temp;</div><div class="line">    <span class="built_in">memset</span>(Count, <span class="number">0</span>, <span class="keyword">sizeof</span>(Count));</div><div class="line">    <span class="built_in">memset</span>(List, <span class="number">0</span>, <span class="keyword">sizeof</span>(List));</div><div class="line">    <span class="built_in">memset</span>(out, <span class="number">0</span>, <span class="keyword">sizeof</span>(out));</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; ++i)&#123;</div><div class="line">      <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v); u--; v--;</div><div class="line">      temp = <span class="keyword">new</span> ArcNode; temp-&gt;next = <span class="literal">NULL</span>; temp-&gt;to = v;</div><div class="line">      temp-&gt;next = List[u]; List[u] = temp; Count[v]++;</div><div class="line">    &#125;</div><div class="line">    topsort();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>用数组实现的链式栈 ，好神奇……</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Graph/">Graph</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/28/拓扑排序示例程序/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/27/邻接表示例程序/" title="邻接表示例程序" itemprop="url">邻接表示例程序</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-27T14:29:00.000Z" itemprop="datePublished"> 发表于 2013-04-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>输入：n，m代表顶点数目和边数。然后m行，代表每个边的起点和终点。0 0 表示结束。<br>输出：第一行为n个正整数，表示每个点的出度；第二行为n个正整数，表示每个点的入度。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">100</span>;</div><div class="line"><span class="keyword">struct</span> ArcNode&#123;  <span class="comment">// 边节点</span></div><div class="line">  <span class="keyword">int</span> adjvex; ArcNode *nextarc;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">struct</span> VNode&#123;  <span class="comment">// 顶点</span></div><div class="line">  <span class="keyword">int</span> data;</div><div class="line">  ArcNode *head1; <span class="comment">// 出边表表头指针</span></div><div class="line">  ArcNode *head2;  <span class="comment">// 入边表表头指针</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">struct</span> LGraph&#123; <span class="comment">// 临界表结构体</span></div><div class="line">  VNode vertexs[MAX];  <span class="comment">// 顶点数组</span></div><div class="line">  <span class="keyword">int</span> vexnum, arcnum;</div><div class="line">&#125;;</div><div class="line">LGraph lg;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateLG</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">int</span> i = <span class="number">0</span>; ArcNode *pi; <span class="keyword">int</span> v1, v2;</div><div class="line">  <span class="comment">//scanf("%d%d", &amp;lg.vexnum, &amp;lg.arcnum);</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lg.vexnum; ++i) lg.vertexs[i].head1 = lg.vertexs[i].head2 = <span class="literal">NULL</span>;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lg.arcnum; ++i)&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;v1, &amp;v2); v1--; v2--;</div><div class="line">    pi = <span class="keyword">new</span> ArcNode; pi-&gt;adjvex = v2; pi-&gt;nextarc = lg.vertexs[v1].head1;</div><div class="line">    lg.vertexs[v1].head1 = pi;</div><div class="line">    pi = <span class="keyword">new</span> ArcNode; pi-&gt;adjvex = v1; pi-&gt;nextarc = lg.vertexs[v2].head2;</div><div class="line">    lg.vertexs[v2].head2 = pi;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">DeleteLG</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  ArcNode *pi; <span class="keyword">int</span> i;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lg.vexnum; ++i)&#123;</div><div class="line">    pi = lg.vertexs[i].head1;</div><div class="line">    <span class="keyword">while</span> (pi)&#123;</div><div class="line">      lg.vertexs[i].head1 = pi-&gt;nextarc;</div><div class="line">      <span class="keyword">delete</span> pi;</div><div class="line">      pi = lg.vertexs[i].head1;</div><div class="line">    &#125;</div><div class="line">    pi = lg.vertexs[i].head2;</div><div class="line">    <span class="keyword">while</span> (pi)&#123;</div><div class="line">      lg.vertexs[i].head2 = pi-&gt;nextarc;</div><div class="line">      <span class="keyword">delete</span> pi;</div><div class="line">      pi = lg.vertexs[i].head2;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"neighlist.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">int</span> i, id, od; ArcNode *pi;</div><div class="line">  <span class="keyword">while</span> (<span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">int</span> n, m; <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</div><div class="line">    <span class="keyword">if</span> (n+m == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">    lg.vexnum = n; lg.arcnum = m; CreateLG();</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lg.vexnum; ++i)&#123;</div><div class="line">      od = <span class="number">0</span>;</div><div class="line">      pi = lg.vertexs[i].head1;</div><div class="line">      <span class="keyword">while</span> (pi)&#123;</div><div class="line">        od++; pi = pi-&gt;nextarc;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (i == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"%d"</span>, od);</div><div class="line">      <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" %d"</span>, od);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lg.vexnum; ++i)&#123;</div><div class="line">      id = <span class="number">0</span>; pi = lg.vertexs[i].head2;</div><div class="line">      <span class="keyword">while</span> (pi)&#123;</div><div class="line">        id++; pi = pi-&gt;nextarc;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (i == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"%d"</span>, id);</div><div class="line">      <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" %d"</span>, id);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　也不觉得难写了……</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Graph/">Graph</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/27/邻接表示例程序/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/26/2013年4月26日-晴/" title="2013年4月26日 晴" itemprop="url">2013年4月26日 晴</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-26T14:53:00.000Z" itemprop="datePublished"> 发表于 2013-04-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>25日<br>　　晚上去图书馆还书，没去跑步。开始读TAOCP，^_^<br>26日<br>　　都起跑了才发现脚貌似有点儿受伤，大脚趾有些疼的感觉。乖乖回来了o(╯□╰)o 看来得休息几天了。<br>　　今天晚上自习的时候开始考虑要不要考研，以前的想法都是坚决不考研的，但是现在，唉……我也不知道该怎么办，总之，不想这些了，现在还是好好学习数学，英语，还有专业课，到时候想考就拼一下。目前最重要的是认真做比赛，还要努力把数学英语搞好，这货哪里都用得到。把自己的基础打好，各种技术都要自己去学，不管以后是去考研还是去找工作，都有好处，具体怎么样，以后的事情以后再说，现在想这些都没用。<br>　　纯粹胡思乱想……<br>　　人生貌似有些迷茫了又。。迟早要面对，所谓选择和机会，都是留给认真准备的人的。什么都不会，感觉无路可走……<br>　　看到一句话：当你倒了一杯热水，准备去喝的时候，发现水已经凉了，那么恭喜你，你已经进入状态了。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/26/2013年4月26日-晴/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/25/2013年4月24日-阴转晴/" title="2013年4月24日 阴转晴" itemprop="url">2013年4月24日 阴转晴</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-24T18:09:00.000Z" itemprop="datePublished"> 发表于 2013-04-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>　　晚上有一些冷，开始起跑的时候状态就不好，中途产生了厌跑的心理，这种事情是最可怕的，尤其是这种情况，体力跟不上，还有一些负面情绪，最后在中途停下来了，悲剧了……其实跑步的时候，最大的敌人就是自己，如何战胜自己。后来就是跑跑停停，最后还是勉强跑完了。。<br>　　唉，我承认自己的意志力可能永远没有人家强，比如高中同学shiwei，从心底里佩服这种人，能够一上午一动不动地趴桌子上做题。现在还能想起那么专注的情景，似乎外界早已经和自己无关，这种状态我貌似很少有，自从上大学以来。。真的。<br>　　不是玩手机，就是看书的时候，看一会儿就看不下去了……唉，心太浮躁了。<br>　　也许是电脑用太多了，干什么都想追求速度，电脑卡一点儿就受不了，学什么东西都想一下就学会，从来没有沉下心来认真思考过，没有全神贯注地学习过，最后也是欲速不达。<br>　　最近几天睡觉都比较早，除了今天为了补英语作业。。都没有什么时间写代码。在机房的时间也荒废了很多，不是上网了，就是干别的了，反正是时间就这么一点一点地流逝了。时间不等人。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/run/">run</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/25/2013年4月24日-阴转晴/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/24/hdu2795-Billboard-——线段树入门题/" title="hdu2795 Billboard ——线段树入门题" itemprop="url">hdu2795 Billboard ——线段树入门题</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-24T01:30:00.000Z" itemprop="datePublished"> 发表于 2013-04-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2795" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=2795</a><br>题目大意：<br>　　高度为h,长度为w的板子，贴n个海报，每个海报的高度都为1，长度由n个整数给出。贴海报的原则是，从高到低，优先选高的，从左到右，优先选右边的位置。起初每个海报在板子上所在的行数。<br>题目思路：<br>　　建立一棵叶子节点有h个的线段树，每个节点代表这个区间内的最大值，最开始，叶子节点都是w。然后每插入一个值就插入到叶子节点，输出叶子节点的值，然后更新父节点。<br>　　这道题目的难点是，要想到建立线段树，把模型抽象出来。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">200000</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> a[MAX&lt;&lt;<span class="number">2</span>], n, h, w, b[MAX];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  a[rt] = max(a[rt&lt;&lt;<span class="number">1</span>], a[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; a[rt] = w; <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  build(lson); build(rson); pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; a[rt] -= k; <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  <span class="keyword">if</span> (p &lt;= m) update(p, k, lson);</div><div class="line">  <span class="keyword">else</span> update(p, k, rson);</div><div class="line">  pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; <span class="keyword">return</span> l; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>, ret = <span class="number">0</span>;</div><div class="line">  <span class="comment">/*</span></div><div class="line">  if (a[rt&lt;&lt;1] &gt;= k) ret = query(k, lson);</div><div class="line">  else ret = query(k, rson);</div><div class="line">  */</div><div class="line">  <span class="keyword">if</span> (a[rt] &gt;= k) &#123;</div><div class="line">    <span class="keyword">if</span> (a[rt&lt;&lt;<span class="number">1</span>] &gt;= k) ret = query(k, lson);</div><div class="line">    <span class="keyword">else</span> ret = query(k, rson);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"hdu2795.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">int</span> i, j, k;</div><div class="line">  <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;h, &amp;w, &amp;n))&#123;</div><div class="line">    <span class="keyword">if</span> (h &gt; n) h = n;</div><div class="line">    build(<span class="number">1</span>, h, <span class="number">1</span>);</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">      <span class="built_in">scanf</span>(<span class="string">"%d"</span>, b + i);</div><div class="line">      <span class="keyword">if</span> (a[<span class="number">1</span>] &lt; b[i]) &#123; <span class="built_in">printf</span>(<span class="string">"-1\n"</span>); <span class="keyword">continue</span>; &#125;</div><div class="line">      k = query(b[i], <span class="number">1</span>, h, <span class="number">1</span>);</div><div class="line">      <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, k); update(k, b[i], <span class="number">1</span>, h, <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　注释掉的两行代码也是可以的，只不过是以前抄的NOTONLYSUCCESS的。其实思想是一样的。还是谢谢HH神牛，线段树就是看着他的博客学的。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Hdu/">Hdu</a><a href="/tags/Data-Structure/">Data Structure</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/24/hdu2795-Billboard-——线段树入门题/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/24/2013年4月23日-雨/" title="2013年4月23日 雨" itemprop="url">2013年4月23日 雨</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-24T00:31:00.000Z" itemprop="datePublished"> 发表于 2013-04-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>22日 雨<br>　　晚上下雨，没跑成……<br>23日 阴转雨<br>　　晚上跑步出门的时候，有一些小雨点，但是貌似好几天没跑了，所以，还是起跑了。状态还差不多，天气也挺凉快，到终点的时候，悲剧了，开始下雨了。。还有2500+m的路程。。唉，浑身上下都是汗水和雨水。最终还是回来了，可怜我的P3……进水了还没挂o(╯□╰)o晚上回去赶紧洗澡，换衣服……</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/run/">run</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/24/2013年4月23日-雨/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/23/hdu1394-Minimum-Inversion-Number-——线段树入门题/" title="hdu1394 Minimum Inversion Number ——线段树入门题" itemprop="url">hdu1394 Minimum Inversion Number ——线段树入门题</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-23T15:23:00.000Z" itemprop="datePublished"> 发表于 2013-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1394" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=1394</a><br>题目大意：<br>　　给一个数字由0~n-1这n个数字组成的数列，不断地把第一个数字移动到最后，一共得到n个数列。求这n个数列中，逆序数最小是多少。<br>题目思路：<br>　　首先，建一棵线段树，每个节点表示这个区间内已经插入的数字的个数，开始初始化为0.然后没读入一个数字，把这个数字插入得到线段树的叶子节点，然后向上更新父节点。这样，在建树的过程中，就可以统计出每个逆序数，也就是说，可以再插入每个数字的时候，查找已经插入的数字当中，比这个数字大的数字有多少个，直到最后就可以求出这个数列的逆序数。<br>　　然后，利用数列的性质。因为每次都是把第一个数字移动到最后，比如这个数字是a，那么显然，比这个数字小的有a个，比这个数字大的有n-1-a个；因为这个数字在最前面，所以当前这个数字的逆序数是a，把这个数字移动到最后之后，这个数字的逆序数是n-1-a，逆序数增加量：n-1-a-a。这样就可以由原来的数列的逆序数求出所有数列的逆序数。好神奇~</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">5000</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> a[MAX&lt;&lt;<span class="number">2</span>], n, b[MAX];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  a[rt] = a[rt&lt;&lt;<span class="number">1</span>] + a[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; a[rt] = <span class="number">0</span>; <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  build(lson); build(rson); pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; a[rt]++; <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  <span class="keyword">if</span> (p &lt;= m) update(p, lson);</div><div class="line">  <span class="keyword">else</span> update(p, rson);</div><div class="line">  pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (L &lt;= l &amp;&amp; R &gt;= r) &#123; <span class="keyword">return</span> a[rt]; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>, ret = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> (L &lt;= m) ret += query(L, R, lson);</div><div class="line">  <span class="keyword">if</span> (R &gt; m) ret += query(L, R, rson);</div><div class="line">  <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"hdu1394.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n))&#123;</div><div class="line">    <span class="keyword">int</span> i, j, sum; build(<span class="number">0</span>, n - <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">    sum = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i)&#123;</div><div class="line">      <span class="built_in">scanf</span>(<span class="string">"%d"</span>, b + i);</div><div class="line">      sum += query(b[i]+<span class="number">1</span>, n - <span class="number">1</span>, <span class="number">0</span>, n - <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">      update(b[i], <span class="number">0</span>, n - <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> ans = sum;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i)&#123;</div><div class="line">      sum += (n - <span class="number">1</span> - b[i] * <span class="number">2</span>);</div><div class="line">      ans = min(ans, sum);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　现在写点更新的线段树比以前熟练一点了~接下来练区间更新的。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Hdu/">Hdu</a><a href="/tags/Data-Structure/">Data Structure</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/23/hdu1394-Minimum-Inversion-Number-——线段树入门题/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/04/23/hdu1754-I-Hate-It-&&-hdu1166-敌兵布阵-——线段树复习/" title="hdu1754 I Hate It &amp;&amp; hdu1166 敌兵布阵 ——线段树复习" itemprop="url">hdu1754 I Hate It &amp;&amp; hdu1166 敌兵布阵 ——线段树复习</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liuxueyang" target="_blank" itemprop="author">liuxueyang</a>
		
  <p class="article-time">
    <time datetime="2013-04-23T06:54:00.000Z" itemprop="datePublished"> 发表于 2013-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>题目链接：<br><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1754" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=1754</a>　　<br><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1166" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=1166</a><br>都是最基础的线段树，考的知识点就是点更新，区间求和，区间求最大值。再次学线段树，感觉理解加深了一些。<br>但是写的时候还是会出现各种奇葩的错误。唉。<br>hdu1754</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">200000</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> gra[MAX&lt;&lt;<span class="number">2</span>], m , n;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  gra[rt] = max(gra[rt&lt;&lt;<span class="number">1</span>], gra[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;gra[rt]); <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  build(lson); build(rson); pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; gra[rt] = k; <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  <span class="keyword">if</span> (p &lt;= m) update(p, k, lson);</div><div class="line">  <span class="keyword">else</span> update(p, k, rson);</div><div class="line">  pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (L &lt;= l &amp;&amp; R &gt;= r) &#123; <span class="keyword">return</span> gra[rt]; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>, ret = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> (L &lt;= m) ret = max(ret, query(L, R, lson));</div><div class="line">  <span class="keyword">if</span> (R &gt; m) ret = max(ret, query(L, R, rson));</div><div class="line">  <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"hdu1754.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,&amp;m))&#123;</div><div class="line">    <span class="keyword">char</span> c[<span class="number">2</span>]; <span class="keyword">int</span> a, b, i; build(<span class="number">1</span>, n, <span class="number">1</span>);</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; ++i)&#123;</div><div class="line">      <span class="built_in">scanf</span>(<span class="string">"%s%d%d"</span>, c, &amp;a, &amp;b);</div><div class="line">      <span class="keyword">if</span> (c[<span class="number">0</span>] == <span class="string">'U'</span>) update(a, b, <span class="number">1</span>, n, <span class="number">1</span>);</div><div class="line">      <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, query(a, b, <span class="number">1</span>, n ,<span class="number">1</span>));</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这道题目，开始写的时候，建树的时候没有 return ，运行都会失败……<br>然后改了之后，发现数组开小了，把max&lt;&lt;2 写成了 max……<br>hdu1166</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, m, rt&lt;&lt;1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rson m+1, r, rt&lt;&lt;1|1</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN =  <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span>  MIN =  <span class="number">-0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,</div><div class="line">  &#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;&#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">55555</span>;</div><div class="line"><span class="keyword">int</span> gra[MAX&lt;&lt;<span class="number">2</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  gra[rt] = gra[rt&lt;&lt;<span class="number">1</span>] + gra[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;gra[rt]); <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  build(lson); build(rson); pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (l == r) &#123; gra[rt] += k; <span class="keyword">return</span>; &#125;</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">  <span class="keyword">if</span> (p &lt;= m) update(p, k, lson);</div><div class="line">  <span class="keyword">else</span> update(p, k,rson);</div><div class="line">  pushup(rt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (L &lt;= l &amp;&amp; R &gt;= r) <span class="keyword">return</span> gra[rt];</div><div class="line">  <span class="keyword">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>, sum = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> (L &lt;= m) sum += query(L, R, lson);</div><div class="line">  <span class="keyword">if</span> (R &gt; m) sum += query(L, R, rson);</div><div class="line">  <span class="keyword">return</span> sum;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"hdu1166.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="keyword">int</span> t, i, n, j, k, a, b; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t); <span class="keyword">char</span> c[<span class="number">20</span>];</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= t; ++i) &#123;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>, i); <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    build(<span class="number">1</span>, n, <span class="number">1</span>);</div><div class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%s"</span>, c))&#123;</div><div class="line">      <span class="keyword">if</span> (c[<span class="number">0</span>] == <span class="string">'E'</span>) <span class="keyword">break</span>;</div><div class="line">      <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</div><div class="line">      <span class="keyword">if</span> (c[<span class="number">0</span>] == <span class="string">'A'</span>) update(a, b, <span class="number">1</span>, n, <span class="number">1</span>);</div><div class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (c[<span class="number">0</span>] == <span class="string">'S'</span>) update(a, -b, <span class="number">1</span>, n, <span class="number">1</span>);</div><div class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (c[<span class="number">0</span>] == <span class="string">'Q'</span>) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, query(a, b, <span class="number">1</span>, n, <span class="number">1</span>));</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这道题目RE了好多次，原因就是读入的时候，如果遇到END就应该立刻退出，我在最后才判断是不是END，也就是多读了数字，而数据里面又没有，所以RE了……<br>和上一道题目一样，也是，忘了写max&lt;&lt;2……另外这道题目有加有减，用一个Update就行了，传参的时候传成负的不就行了，别像第一遍似的傻乎乎地写一个add，再写一个几乎一样的add……⊙﹏⊙b汗<br>两道题目都是写第一遍的时候实在找不出错来了，然后就写第二遍的时候才写对的。。这才发现原来错在哪里了。。唉</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Hdu/">Hdu</a><a href="/tags/Data-Structure/">Data Structure</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2013/04/23/hdu1754-I-Hate-It-&&-hdu1166-敌兵布阵-——线段树复习/#disqus_thread" class="comments-count-link">Comments</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/28/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><span class="space">&hellip;</span><a class="page-number" href="/page/45/">45</a><a class="extend next" rel="next" href="/page/30/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Diary/" title="Diary">Diary<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Emacs-Fcitx/" title="Emacs Fcitx">Emacs Fcitx<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Organize/" title="Organize">Organize<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Slackware/" title="Slackware">Slackware<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/macOS/" title="macOS">macOS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/习惯-整理/" title="习惯 整理">习惯 整理<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Hdu/" title="Hdu">Hdu<sup>66</sup></a></li>
			
		
			
				<li><a href="/tags/DP/" title="DP">DP<sup>48</sup></a></li>
			
		
			
				<li><a href="/tags/CodeForces/" title="CodeForces">CodeForces<sup>44</sup></a></li>
			
		
			
				<li><a href="/tags/POJ/" title="POJ">POJ<sup>43</sup></a></li>
			
		
			
				<li><a href="/tags/Graph/" title="Graph">Graph<sup>26</sup></a></li>
			
		
			
				<li><a href="/tags/Uva/" title="Uva">Uva<sup>25</sup></a></li>
			
		
			
				<li><a href="/tags/zoj/" title="zoj">zoj<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/masm/" title="masm">masm<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/Data-Structure/" title="Data Structure">Data Structure<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/Math/" title="Math">Math<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/run/" title="run">run<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/spoj/" title="spoj">spoj<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Article/" title="Article">Article<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/tyvj/" title="tyvj">tyvj<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Ubuntu/" title="Ubuntu">Ubuntu<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Codeforces/" title="Codeforces">Codeforces<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/USACO/" title="USACO">USACO<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/2016/" title="2016">2016<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/DFS/" title="DFS">DFS<sup>5</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m liuxueyang. <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="liuxueyang">liuxueyang</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
