<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="黑历史">
<meta property="og:url" content="liuxueyang.github.io/page/5/index.html">
<meta property="og:site_name" content="黑历史">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="黑历史">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="liuxueyang.github.io/page/5/"/>





  <title> 黑历史 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">黑历史</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/07/03/POJ3320-Jessica-s-Reading-Problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/03/POJ3320-Jessica-s-Reading-Problem/" itemprop="url">
                  POJ3320 Jessica's Reading Problem
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-03T19:00:24+08:00">
                2016-07-03
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/03/POJ3320-Jessica-s-Reading-Problem/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/07/03/POJ3320-Jessica-s-Reading-Problem/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><a href="http://poj.org/problem?id=3320" target="_blank" rel="external">Jessica’s Reading Problem</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>方法和<a href="http://liuxueyang.github.io/2016/07/02/Poj3061-Subsequence/">Subsequence</a>一样，只是增加一个计数的步骤。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><h4 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">100</span> * <span class="number">10000</span> + <span class="number">1</span>;</div><div class="line"><span class="keyword">int</span> a[MAX_N], n;</div><div class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; idea;</div><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; num_idea;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</div><div class="line">  idea.clear();</div><div class="line">  num_idea.clear();</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">    idea.insert(a[i]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">int</span> all_ideas = (<span class="keyword">int</span>)idea.size();</div><div class="line">  <span class="keyword">int</span> s = <span class="number">0</span>, t = <span class="number">0</span>, cnt = <span class="number">0</span>, ans = n + <span class="number">1</span>;</div><div class="line"></div><div class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">    <span class="keyword">while</span> (t &lt; n &amp;&amp; cnt &lt; all_ideas) &#123;</div><div class="line">      <span class="keyword">if</span> (num_idea[a[t]] == <span class="number">0</span>) &#123;</div><div class="line">        cnt++;</div><div class="line">      &#125;</div><div class="line">      num_idea[a[t]]++;</div><div class="line">      ++t;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (cnt &lt; all_ideas) &#123;</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    ans = min(ans, t - s);</div><div class="line">    num_idea[a[s]]--;</div><div class="line">    <span class="keyword">if</span> (num_idea[a[s]] == <span class="number">0</span>) &#123;</div><div class="line">      num_idea.erase(a[s]);</div><div class="line">      --cnt; <span class="comment">// REMEMBER THIS. CAUSE WE USE IT IN NEXT LOOP</span></div><div class="line">    &#125;</div><div class="line">    ++s;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line"></div><div class="line">  <span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"3320.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">  <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, a + i);</div><div class="line">  &#125;</div><div class="line">  solve();</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/07/02/Poj3061-Subsequence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/02/Poj3061-Subsequence/" itemprop="url">
                  Poj3061 Subsequence
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-02T16:58:15+08:00">
                2016-07-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/02/Poj3061-Subsequence/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/07/02/Poj3061-Subsequence/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><a href="http://poj.org/problem?id=3061" target="_blank" rel="external">Subsequence</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>方法一：O(nlogn)</p>
<pre><code>1. 计算前序和
2. 定起点，二分找不小于S的最小的连续区间和
</code></pre><p>方法二：O(n)</p>
<pre><code>1. 定起点，线性找不小于S的最小的连续区间和，得到一个终点
2. 把起点向右移动一个单位，把终点在原来的基础上递增，线性找不小于S的最小的连
   续区间和。如此反复。
</code></pre><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>方法一：</p>
<h4 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> N, S;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a, presum;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; S;</div><div class="line">  presum.clear();</div><div class="line">  a.clear();</div><div class="line"></div><div class="line">  a.reserve(N);</div><div class="line">  presum.reserve(N + <span class="number">1</span>);</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</div><div class="line">    <span class="keyword">int</span> tmp;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; tmp;</div><div class="line">    a.push_back(tmp);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// presum[i] means sum of [0, i) elements</span></div><div class="line">  <span class="comment">// j &gt; i, presum[j] - presum[i] means sum of [i, j) elements</span></div><div class="line">  presum.push_back(<span class="number">0</span>);</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</div><div class="line">    presum.push_back(presum[i] + a[i]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (presum[N] &lt; S) &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">int</span> ans = N;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; presum[N] - presum[i] &gt;= S; ++i) &#123;</div><div class="line">    <span class="keyword">int</span> len = distance(presum.begin() + i,</div><div class="line">                       lower_bound(presum.begin() + i,</div><div class="line">                                   <span class="comment">// here can ALSO be presum + N + 1</span></div><div class="line">                                   presum.end(), presum[i] + S));</div><div class="line">    ans = min(ans, len);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"3061.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line"></div><div class="line">  <span class="keyword">int</span> n;</div><div class="line"></div><div class="line">  <span class="built_in">cin</span> &gt;&gt; n;</div><div class="line"></div><div class="line">  <span class="keyword">while</span> (n--) &#123;</div><div class="line">    solve();</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>方法二：</p>
<h4 id="C-1"><a href="#C-1" class="headerlink" title="C"></a>C</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> N, S;</div><div class="line"><span class="keyword">int</span> a[<span class="number">100</span> * <span class="number">1000</span> + <span class="number">10</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</div><div class="line">  <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;N, &amp;S);</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, a + i);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, sum = <span class="number">0</span>, ans = N + <span class="number">1</span>;</div><div class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">while</span> (sum &lt; S &amp;&amp; j &lt; N) &#123;</div><div class="line">      sum += a[j];</div><div class="line">      ++j;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (sum &lt; S) &#123;</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    ans = (ans &lt; j - i) ? ans : j - i;</div><div class="line">    sum -= a[i];</div><div class="line">    ++i;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (ans == N + <span class="number">1</span>) &#123;</div><div class="line">    ans = <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line"></div><div class="line">  <span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line">  <span class="keyword">int</span> n;</div><div class="line">  <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">  <span class="keyword">while</span> (n--) &#123;</div><div class="line">    solve();</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Common-Lisp"><a href="#Common-Lisp" class="headerlink" title="Common Lisp"></a>Common Lisp</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defvar</span> *N*)</div><div class="line">(<span class="name">defvar</span> *S*)</div><div class="line">(<span class="name">defvar</span> *a*)</div><div class="line">(<span class="name">defvar</span> n)</div><div class="line"></div><div class="line">(<span class="name">defun</span> print-array ()</div><div class="line">  (<span class="name">loop</span> for i from <span class="number">0</span> to (<span class="number">1</span>- (<span class="name">length</span> *a*)) do</div><div class="line">    (<span class="name">format</span> <span class="literal">t</span> <span class="string">"~d "</span> (<span class="name">elt</span> *a* i)))</div><div class="line">  (<span class="name">format</span> <span class="literal">t</span> <span class="string">"~%"</span>))</div><div class="line"></div><div class="line">(<span class="name">defun</span> solve ()</div><div class="line">  (<span class="name">let</span> ((<span class="name">sum</span> <span class="number">0</span>)</div><div class="line">        (<span class="name">i</span> <span class="number">0</span>)</div><div class="line">        (<span class="name">j</span> <span class="number">0</span>)</div><div class="line">        (<span class="name">ans</span> (<span class="name">+</span> <span class="number">1</span> *N*)))</div><div class="line">    (<span class="name">block</span> while</div><div class="line">      (<span class="name">loop</span></div><div class="line">        (<span class="name">do</span> ()</div><div class="line">            ((<span class="name">or</span> (<span class="name">&gt;=</span> sum *S*)</div><div class="line">                 (<span class="name">&gt;=</span> j *N*)))</div><div class="line">          (<span class="name">incf</span> sum (<span class="name">aref</span> *a* j))</div><div class="line">          (<span class="name">incf</span> j))</div><div class="line">        (<span class="name">if</span> (<span class="name">&lt;</span> sum *S*)</div><div class="line">            (<span class="name">return-from</span> while))</div><div class="line">        (<span class="name">setf</span> ans (<span class="name">min</span> ans (<span class="name">-</span> j i)))</div><div class="line">        (<span class="name">decf</span> sum (<span class="name">aref</span> *a* i))</div><div class="line">        (<span class="name">incf</span> i)))</div><div class="line">    (<span class="name">if</span> (<span class="name">equal</span> ans (<span class="number">1</span>+ n))</div><div class="line">        (<span class="name">setf</span> ans <span class="number">0</span>))</div><div class="line">    (<span class="name">format</span> <span class="literal">t</span> <span class="string">"~d~%"</span> ans)))</div><div class="line"></div><div class="line">(<span class="name">with-open-file</span> (<span class="name">*standard-input*</span></div><div class="line">                 <span class="string">"3061.txt"</span></div><div class="line">                 <span class="symbol">:if-does-not-exist</span> <span class="literal">nil</span>)</div><div class="line">  (<span class="name">setf</span> n (<span class="name">read</span>))</div><div class="line">  (<span class="name">dotimes</span> (<span class="name">i</span> n)</div><div class="line">    (<span class="name">setf</span> *N* (<span class="name">read</span>))</div><div class="line">    (<span class="name">setf</span> *S* (<span class="name">read</span>))</div><div class="line">    (<span class="name">setf</span> *a* (<span class="name">make-array</span> *N*</div><div class="line">                                  <span class="symbol">:element-type</span> 'integer</div><div class="line">                                  <span class="symbol">:fill-pointer</span> <span class="number">0</span></div><div class="line">                                  <span class="symbol">:adjustable</span> <span class="literal">t</span>))</div><div class="line">    (<span class="name">dotimes</span> (<span class="name">j</span> *N*)</div><div class="line">      (<span class="name">vector-push-extend</span> (<span class="name">read</span>) *a*))</div><div class="line">    (<span class="name">solve</span>)))</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/07/01/Educational-Codeforces-Round-10-D-Nested-Segments-c-perl-and-common-lisp-implementation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/01/Educational-Codeforces-Round-10-D-Nested-Segments-c-perl-and-common-lisp-implementation/" itemprop="url">
                  Educational Codeforces Round 10. D. Nested Segments: c++, perl and common lisp implementation, Segment Tree
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-01T07:53:06+08:00">
                2016-07-01
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/01/Educational-Codeforces-Round-10-D-Nested-Segments-c-perl-and-common-lisp-implementation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/07/01/Educational-Codeforces-Round-10-D-Nested-Segments-c-perl-and-common-lisp-implementation/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://codeforces.com/contest/652/problem/D" target="_blank" rel="external">Problem Link</a></p>
<p>Fenwick Tree，它的本质就是把一个序列的和划分成一个个子序列的和。比如一个序列的长<br>度是10，那么10的二进制是1010，也就是2^1 + 2^3，所以结果就是树里面2和8两个节点的<br>和。在树里面，节点（n）表示数列里从1到n的元素的和，那么：</p>
<ul>
<li>(1) = (1)</li>
<li>(2) = (2)</li>
<li>(3) = (1) + (2)</li>
<li>(4) = (4)</li>
<li>(5) = (1) + (4)</li>
<li>(6) = (2) + (4)</li>
</ul>
<ol>
<li>按照右端点排序，然后把它离散化；</li>
<li>按照左端点倒序排列，从大到小循环，计算右端点在Fenwick Tree里面的presum（也就<br>是之前插入的比当前右端点小的数量），这个presum就是当前的segment包含的segment<br>的个数；</li>
<li>把当前右端点插入Fewnwick Tree；</li>
</ol>
<p>题目要求计算每个端点包含的segment的数量，因为后面要用到排序和离散化，所以可以在<br>结构体或者类中增加一个域表示它原来在数组中的初始位置。每计算一个presum就可以根据<br>这个域放到结果数组里面的对应位置。</p>
<h3 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> segment &#123;</div><div class="line">  <span class="keyword">int</span> x, y, position;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2e5</span> + <span class="number">1</span>;</div><div class="line"><span class="keyword">int</span> n, fenwick[N];</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans[N];</div><div class="line"></div><div class="line">segment S[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmpx_r</span><span class="params">(segment a, segment b)</span> </span>&#123; <span class="keyword">return</span> a.x &gt; b.x; &#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmpy</span><span class="params">(segment a, segment b)</span> </span>&#123; <span class="keyword">return</span> a.y &lt; b.y; &#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; <span class="keyword">return</span> x &amp; -x; &#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">presum</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</div><div class="line">  <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</div><div class="line"></div><div class="line">  <span class="keyword">while</span> (index &gt; <span class="number">0</span>) &#123;</div><div class="line">    ans += fenwick[index];</div><div class="line">    index -= lowbit(index);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">updateFenwick</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">  <span class="keyword">while</span> (index &lt;= n) &#123;</div><div class="line">    fenwick[index]++;</div><div class="line">    index += lowbit(index);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line">  freopen(<span class="string">"in.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line"></div><div class="line">  <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n)) &#123;</div><div class="line">    <span class="keyword">int</span> i;</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(fenwick, <span class="number">0</span>, <span class="keyword">sizeof</span>(fenwick));</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">      <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;S[i].x, &amp;S[i].y);</div><div class="line">      S[i].position = i;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// compress y</span></div><div class="line">    sort(S + <span class="number">1</span>, S + n + <span class="number">1</span>, cmpy);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">      S[i].y = i;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// sort by x reversely</span></div><div class="line">    sort(S + <span class="number">1</span>, S + n + <span class="number">1</span>, cmpx_r);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">      ans[S[i].position] = presum(S[i].y);</div><div class="line">      updateFenwick(S[i].y, n);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">      <span class="built_in">cout</span> &lt;&lt; ans[i] &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Perl"><a href="#Perl" class="headerlink" title="Perl"></a>Perl</h3><p>因为IO的问题，这道题用Perl会在第15或者16个test case里面会超时，我看上面用python<br>的也都超时了……</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> strict;</div><div class="line"><span class="keyword">use</span> <span class="number">5.014</span>;</div><div class="line"><span class="keyword">use</span> utf8;</div><div class="line"></div><div class="line"><span class="keyword">my</span> $n;</div><div class="line"><span class="keyword">chomp</span>($n = &lt;&gt;);</div><div class="line"><span class="keyword">my</span> @s;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="number">0</span>..$n-<span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">my</span> $segment;</div><div class="line">    <span class="keyword">chomp</span>($segment = &lt;&gt;);</div><div class="line">    <span class="keyword">my</span> ($l, $r) = <span class="keyword">split</span>(<span class="string">' '</span>, $segment);</div><div class="line">    <span class="keyword">push</span> @s, &#123;</div><div class="line">        <span class="string">left =&gt;</span> $l,</div><div class="line">        <span class="string">right =&gt;</span> $r,</div><div class="line">        <span class="string">position =&gt;</span> $_,</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># compress right</span></div><div class="line">@s = <span class="keyword">sort</span> &#123; $a-&gt;&#123;right&#125; &lt;=&gt; $b-&gt;&#123;right&#125; &#125; @s;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="number">0</span>..$#s) &#123;</div><div class="line">    $s[$_]-&gt;&#123;right&#125; = $_ + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># sort by left</span></div><div class="line">@s = <span class="keyword">sort</span> &#123; $b-&gt;&#123;left&#125; &lt;=&gt; $a-&gt;&#123;left&#125; &#125; @s;</div><div class="line"></div><div class="line"><span class="keyword">my</span> @ans;</div><div class="line"><span class="keyword">my</span> @fenwick = ();</div><div class="line"></div><div class="line"><span class="keyword">for</span>(@s) &#123;</div><div class="line">    $ans[$_-&gt;&#123;position&#125;] = presum($_-&gt;&#123;right&#125;);</div><div class="line">    updateFenwick($_-&gt;&#123;right&#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(@ans) &#123; <span class="keyword">say</span> $_ &#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">presum</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span> $index = <span class="keyword">shift</span>;</div><div class="line">    <span class="keyword">my</span> $ans = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> ($index &gt; <span class="number">0</span>) &#123;</div><div class="line">        $ans += $fenwick[$index];</div><div class="line">        $index -= lowbit($index);</div><div class="line">    &#125;</div><div class="line">    $ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">updateFenwick</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span> $index = <span class="keyword">shift</span>;</div><div class="line">    <span class="keyword">while</span> ($index &lt;= $n) &#123;</div><div class="line">        $fenwick[$index]++;</div><div class="line">        $index += lowbit($index);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">lowbit</span> </span>&#123; $_[<span class="number">0</span>] &amp; -$_[<span class="number">0</span>] &#125;</div></pre></td></tr></table></figure>
<h3 id="Common-Lisp"><a href="#Common-Lisp" class="headerlink" title="Common Lisp"></a>Common Lisp</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line">;; Finished at 2016/07/07 7:51:23 AM</div><div class="line"></div><div class="line">(defvar *n*)</div><div class="line">(defparameter *maxn* 20)</div><div class="line"></div><div class="line">(defclass node ()</div><div class="line">  ((left :accessor left</div><div class="line">         :initarg :left)</div><div class="line">   (right :accessor right</div><div class="line">          :initarg :right)</div><div class="line">   (ori-position :accessor ori-position</div><div class="line">                 :initarg :ori-position)))</div><div class="line"></div><div class="line">(defparameter *s* (make-array *maxn*</div><div class="line">                              :element-type &apos;node</div><div class="line">                              :fill-pointer 0</div><div class="line">                              :adjustable t))</div><div class="line">(defparameter *fenwick* (make-array *maxn*</div><div class="line">                                    :element-type &apos;integer</div><div class="line">                                    :fill-pointer 0</div><div class="line">                                    :adjustable t))</div><div class="line">(defparameter *ans* (make-array *maxn*</div><div class="line">                                    :element-type &apos;integer</div><div class="line">                                    :fill-pointer 0</div><div class="line">                                    :adjustable t))</div><div class="line"></div><div class="line">(defun print-array ()</div><div class="line">  (loop for i from 0 to (1- *n*) do</div><div class="line">           (format t &quot;i = ~d, ~d ~d~%&quot;</div><div class="line">                   i</div><div class="line">                   (left (aref *s* i))</div><div class="line">                   (right (aref *s* i)))))</div><div class="line"></div><div class="line">(defun lowbit (x)</div><div class="line">  (boole boole-and x (- x)))</div><div class="line"></div><div class="line">(defun presum (index)</div><div class="line">  (let ((ans 0))</div><div class="line">    (do ((i index</div><div class="line">            (- i (lowbit i))))</div><div class="line">        ((&lt;= i 0) ans)</div><div class="line">      (incf ans (elt *fenwick* (1- i))))))</div><div class="line"></div><div class="line">(defun update-fenwick (index)</div><div class="line">  (do ((i index (+ i (lowbit i))))</div><div class="line">      ((&gt; i *n*))</div><div class="line">    (incf (elt *fenwick* (1- i)))))</div><div class="line"></div><div class="line">(with-open-file</div><div class="line">    (*standard-input*</div><div class="line">     &quot;in.txt&quot;</div><div class="line">     :if-does-not-exist nil)</div><div class="line">  (setq *n* (read))</div><div class="line">  (loop for i from 0 to (1- *n*) do</div><div class="line">    (vector-push-extend</div><div class="line">     (make-instance &apos;node</div><div class="line">                    :left (read)</div><div class="line">                    :right (read)</div><div class="line">                    :ori-position i)</div><div class="line">     *s*)</div><div class="line">    (vector-push-extend 0 *fenwick*)</div><div class="line">    (vector-push-extend 0 *ans*)))</div><div class="line"></div><div class="line">(sort *s* #&apos;&lt; :key #&apos;right)</div><div class="line"></div><div class="line">;; compress right</div><div class="line">(loop for i from 0 to (1- *n*) do</div><div class="line">  (setf (right (elt *s* i))</div><div class="line">        (1+ i)))</div><div class="line"></div><div class="line">;; sort by left reverse</div><div class="line">(sort *s* #&apos;&gt; :key #&apos;left)</div><div class="line">(loop for i from 0 to (1- *n*) do</div><div class="line">  (setf (elt *ans* (ori-position (elt *s* i)))</div><div class="line">        (presum (right (elt *s* i))))</div><div class="line">  (update-fenwick (right (elt *s* i))))</div><div class="line"></div><div class="line">(defun print-ans ()</div><div class="line">  (loop for i from 0 to (1- *n*) do</div><div class="line">    (format t &quot;~d~%&quot; (elt *ans* i))))</div><div class="line"></div><div class="line">(print-ans)</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/30/Binary-Search-Tree-Perl-and-Common-Lisp-implementation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/30/Binary-Search-Tree-Perl-and-Common-Lisp-implementation/" itemprop="url">
                  Binary Search Tree: Perl and Common Lisp implementation
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-30T08:33:38+08:00">
                2016-06-30
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/30/Binary-Search-Tree-Perl-and-Common-Lisp-implementation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/30/Binary-Search-Tree-Perl-and-Common-Lisp-implementation/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Perl"><a href="#Perl" class="headerlink" title="Perl"></a>Perl</h3><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!perl</span></div><div class="line"></div><div class="line"><span class="keyword">use</span> strict;</div><div class="line"><span class="keyword">use</span> warnings;</div><div class="line"><span class="keyword">use</span> utf8;</div><div class="line"><span class="keyword">use</span> <span class="number">5.014</span>;</div><div class="line"></div><div class="line"><span class="comment"># insert given value into the proper position. If no tree provided,</span></div><div class="line"><span class="comment"># use implicit pass by reference aspect of @_ to fill one.</span></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">insert</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span>($tree, $value) = @_;</div><div class="line">    <span class="keyword">unless</span> ($tree) &#123;</div><div class="line">        $tree = &#123;&#125;;</div><div class="line">        $tree-&gt;&#123;VALUE&#125; = $value;</div><div class="line">        $tree-&gt;&#123;LEFT&#125; = <span class="keyword">undef</span>;</div><div class="line">        $tree-&gt;&#123;RIGHT&#125; = <span class="keyword">undef</span>;</div><div class="line">        $_[<span class="number">0</span>] = $tree; <span class="comment"># $_[0] is reference param</span></div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> ($tree-&gt;&#123;VALUE&#125; &gt; $value) &#123; insert($tree-&gt;&#123;LEFT&#125;, $value) &#125;</div><div class="line">    <span class="keyword">elsif</span> ($tree-&gt;&#123;VALUE&#125; &lt; $value) &#123; insert($tree-&gt;&#123;RIGHT&#125;, $value) &#125;</div><div class="line">    <span class="keyword">else</span> &#123; <span class="keyword">warn</span> <span class="string">"duplicate insert of $value\n"</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">in_order</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span>($tree) = @_;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">unless</span> $tree;</div><div class="line">    in_order($tree-&gt;&#123;LEFT&#125;);</div><div class="line">    <span class="keyword">print</span> $tree-&gt;&#123;VALUE&#125;, <span class="string">" "</span>;</div><div class="line">    in_order($tree-&gt;&#123;RIGHT&#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">pre_order</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span>($tree) = @_;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">unless</span> $tree;</div><div class="line">    <span class="keyword">print</span> $tree-&gt;&#123;VALUE&#125;, <span class="string">" "</span>;</div><div class="line">    pre_order($tree-&gt;&#123;LEFT&#125;);</div><div class="line">    pre_order($tree-&gt;&#123;RIGHT&#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">post_order</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span>($tree) = @_;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">unless</span> $tree;</div><div class="line">    post_order($tree-&gt;&#123;LEFT&#125;);</div><div class="line">    post_order($tree-&gt;&#123;RIGHT&#125;);</div><div class="line">    <span class="keyword">print</span> $tree-&gt;&#123;VALUE&#125;, <span class="string">" "</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">search</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span>($tree, $value) = @_;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">unless</span> $tree;</div><div class="line">    <span class="keyword">return</span> $tree <span class="keyword">if</span> ($tree-&gt;&#123;VALUE&#125; == $value);</div><div class="line">    search ($tree-&gt;&#123; ($value &lt; $tree-&gt;&#123;VALUE&#125;) ? <span class="string">"LEFT"</span> : <span class="string">"RIGHT"</span> &#125;, $value)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">my</span>($root, $n);</div><div class="line">insert($root, <span class="keyword">int</span>(<span class="keyword">rand</span>(<span class="number">100</span>))) <span class="keyword">while</span> ($n++ &lt; <span class="number">5</span>);</div><div class="line"><span class="keyword">print</span> <span class="string">"Pre order:  "</span>; pre_order($root); <span class="keyword">print</span> <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"In order:   "</span>; in_order($root); <span class="keyword">print</span> <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Post order: "</span>; post_order($root); <span class="keyword">print</span> <span class="string">"\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># prompt until EOF</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">print</span> <span class="string">"Search? "</span>; &lt;&gt;; <span class="keyword">print</span> <span class="string">"Search? "</span>) &#123;</div><div class="line">    <span class="keyword">chomp</span>;</div><div class="line">    <span class="keyword">my</span> $found = search($root, $_);</div><div class="line">    <span class="keyword">if</span> ($found) &#123; <span class="keyword">print</span> <span class="string">"Found $_ at $found, $found-&gt;&#123;VALUE&#125;\n"</span> &#125;</div><div class="line">    <span class="keyword">else</span> &#123; <span class="keyword">print</span> <span class="string">"No $_ in the tree.\n"</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Common-Lisp"><a href="#Common-Lisp" class="headerlink" title="Common Lisp"></a>Common Lisp</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defclass</span> tree-node ()</div><div class="line">  ((<span class="name">value</span> <span class="symbol">:initform</span> <span class="literal">nil</span></div><div class="line">          <span class="symbol">:initarg</span> <span class="symbol">:value</span></div><div class="line">          <span class="symbol">:accessor</span> value)</div><div class="line">   (<span class="name">left</span> <span class="symbol">:initform</span> <span class="literal">nil</span></div><div class="line">         <span class="symbol">:accessor</span> left-child)</div><div class="line">   (<span class="name">right</span> <span class="symbol">:initform</span> <span class="literal">nil</span></div><div class="line">          <span class="symbol">:accessor</span> right-child)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> create-node (<span class="name">value</span>)</div><div class="line">  (<span class="name">let</span> ((<span class="name">node</span> (<span class="name">make-instance</span> 'tree-node <span class="symbol">:value</span> value)))</div><div class="line">    node))</div><div class="line"></div><div class="line">(<span class="name">defun</span> insert-node (<span class="name">tree-node</span></div><div class="line">                    value)</div><div class="line">  (<span class="name">cond</span> ((<span class="name">&gt;</span> (<span class="name">value</span> tree-node) value)</div><div class="line">         (<span class="name">if</span> (<span class="name">null</span> (<span class="name">left-child</span> tree-node))</div><div class="line">             (<span class="name">setf</span> (<span class="name">left-child</span> tree-node)</div><div class="line">                   (<span class="name">create-node</span> value))</div><div class="line">             (<span class="name">insert-node</span> (<span class="name">left-child</span> tree-node) value)))</div><div class="line">        ((<span class="name">&lt;</span> (<span class="name">value</span> tree-node) value)</div><div class="line">         (<span class="name">if</span> (<span class="name">null</span> (<span class="name">right-child</span> tree-node))</div><div class="line">             (<span class="name">setf</span> (<span class="name">right-child</span> tree-node)</div><div class="line">                   (<span class="name">create-node</span> value))</div><div class="line">             (<span class="name">insert-node</span> (<span class="name">right-child</span> tree-node) value)))</div><div class="line">        (<span class="name">t</span> (<span class="name">format</span> <span class="literal">t</span> <span class="string">"duplicate insert of ~d~%"</span> value))))</div><div class="line"></div><div class="line">(<span class="name">defun</span> in-order (<span class="name">tree-node</span>)</div><div class="line">  (<span class="name">if</span> (<span class="name">null</span> tree-node) (<span class="name">return-from</span> in-order))</div><div class="line">  (<span class="name">in-order</span> (<span class="name">left-child</span> tree-node))</div><div class="line">  (<span class="name">format</span> <span class="literal">t</span> <span class="string">"~d "</span> (<span class="name">value</span> tree-node))</div><div class="line">  (<span class="name">in-order</span> (<span class="name">right-child</span> tree-node)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> pre-order (<span class="name">tree-node</span>)</div><div class="line">  (<span class="name">if</span> (<span class="name">null</span> tree-node) (<span class="name">return-from</span> pre-order))</div><div class="line">  (<span class="name">format</span> <span class="literal">t</span> <span class="string">"~d "</span> (<span class="name">value</span> tree-node))</div><div class="line">  (<span class="name">pre-order</span> (<span class="name">left-child</span> tree-node))</div><div class="line">  (<span class="name">pre-order</span> (<span class="name">right-child</span> tree-node)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> post-order (<span class="name">tree-node</span>)</div><div class="line">  (<span class="name">if</span> (<span class="name">null</span> tree-node) (<span class="name">return-from</span> post-order))</div><div class="line">  (<span class="name">post-order</span> (<span class="name">left-child</span> tree-node))</div><div class="line">  (<span class="name">post-order</span> (<span class="name">right-child</span> tree-node))</div><div class="line">  (<span class="name">format</span> <span class="literal">t</span> <span class="string">"~d "</span> (<span class="name">value</span> tree-node)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> search-value (<span class="name">tree-node</span></div><div class="line">                     value)</div><div class="line">  (<span class="name">if</span> (<span class="name">null</span> tree-node) (<span class="name">return-from</span> search-value <span class="literal">nil</span>))</div><div class="line">  (<span class="name">if</span> (<span class="name">equal</span> value (<span class="name">value</span> tree-node))</div><div class="line">      (<span class="name">return-from</span> search-value tree-node))</div><div class="line">  (<span class="name">search-value</span> (<span class="name">if</span> (<span class="name">&lt;</span> value (<span class="name">value</span> tree-node))</div><div class="line">                    (<span class="name">left-child</span> tree-node)</div><div class="line">                    (<span class="name">right-child</span> tree-node))</div><div class="line">                value))</div><div class="line"></div><div class="line">(<span class="name">defparameter</span> root (<span class="name">create-node</span> <span class="number">1</span>))</div><div class="line"></div><div class="line">(<span class="name">dotimes</span> (<span class="name">i</span> <span class="number">5</span>)</div><div class="line">  (<span class="name">insert-node</span> root (<span class="name">random</span> <span class="number">100</span>)))</div><div class="line"></div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"~%~%Pre-order: "</span>)</div><div class="line">(<span class="name">pre-order</span> root)</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"~%"</span>)</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"~&amp;In--order: "</span>)</div><div class="line">(<span class="name">in-order</span> root)</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"~%"</span>)</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"~&amp;Pos-order: "</span>)</div><div class="line">(<span class="name">post-order</span> root)</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"~%"</span>)</div><div class="line"></div><div class="line"><span class="comment">;; use C-c C-d h to read the documentation.</span></div><div class="line"><span class="comment">;; use C-u RET to input EOF in the SLIME REPL</span></div><div class="line"></div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"Search? "</span>)</div><div class="line">(<span class="name">loop</span> for in = (<span class="name">read</span> <span class="literal">nil</span> <span class="literal">nil</span>)</div><div class="line">      while in</div><div class="line">      do</div><div class="line">         (<span class="name">let</span> ((<span class="name">found</span> (<span class="name">search-value</span> root in)))</div><div class="line">           (<span class="name">if</span> found</div><div class="line">               (<span class="name">format</span> <span class="literal">t</span> <span class="string">"Found ~d at ~a~%"</span></div><div class="line">                       (<span class="name">value</span> found)</div><div class="line">                       found)</div><div class="line">               (<span class="name">format</span> <span class="literal">t</span> <span class="string">"No ~d in the tree.~%"</span> in))</div><div class="line">           (<span class="name">format</span> <span class="literal">t</span> <span class="string">"Search? "</span>)))</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/27/Lowest-common-ancestor-in-binary-tree-perl-c-and-common-lisp-implementation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/27/Lowest-common-ancestor-in-binary-tree-perl-c-and-common-lisp-implementation/" itemprop="url">
                  Lowest common ancestor in binary tree: perl, c and common lisp implementation
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-27T17:32:47+08:00">
                2016-06-27
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/27/Lowest-common-ancestor-in-binary-tree-perl-c-and-common-lisp-implementation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/27/Lowest-common-ancestor-in-binary-tree-perl-c-and-common-lisp-implementation/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Find lowest common ancestor in binary tree. We assume the values in the tree are unique and the two values are always in the tree.</p>
<p>Time complexity O(n), Space complexity O(n)</p>
<h3 id="C"><a href="#C" class="headerlink" title="C:"></a>C:</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="comment">// Find lowest common ancestor in binary tree. We assume the</span></div><div class="line"><span class="comment">// values in the tree are unique and the two values are always in</span></div><div class="line"><span class="comment">// the tree.</span></div><div class="line"></div><div class="line"><span class="comment">// Time complexity O(n)</span></div><div class="line"><span class="comment">// Space complexity O(n)</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> Node</div><div class="line">&#123;</div><div class="line">  <span class="keyword">int</span> key;</div><div class="line">  <span class="keyword">struct</span> Node *left, *right;</div><div class="line">&#125; Node;</div><div class="line"></div><div class="line"><span class="function">Node* <span class="title">createNode</span><span class="params">(<span class="keyword">int</span> key)</span></span></div><div class="line">&#123;</div><div class="line">  Node * tmp = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</div><div class="line">  tmp-&gt;key = key;</div><div class="line">  tmp-&gt;left = tmp-&gt;right = <span class="literal">NULL</span>;</div><div class="line">  <span class="keyword">return</span> tmp;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">Node* <span class="title">findLCA</span><span class="params">(Node* root, <span class="keyword">int</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</div><div class="line">  <span class="keyword">if</span> (root == <span class="literal">NULL</span>) &#123; <span class="keyword">return</span> <span class="literal">NULL</span>; &#125;</div><div class="line">  <span class="keyword">if</span> (n1 == root-&gt;key || n2 == root-&gt;key) &#123; <span class="keyword">return</span> root; &#125;</div><div class="line">  Node* left = findLCA(root-&gt;left, n1, n2);</div><div class="line">  Node* right = findLCA(root-&gt;right, n1, n2);</div><div class="line">  <span class="keyword">if</span> (left &amp;&amp; right) &#123; <span class="keyword">return</span> root; &#125;</div><div class="line">  <span class="keyword">return</span> left ? left : right;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  Node* root = createNode(<span class="number">1</span>);</div><div class="line"></div><div class="line">  root-&gt;left = createNode(<span class="number">2</span>);</div><div class="line">  root-&gt;right = createNode(<span class="number">3</span>);</div><div class="line"></div><div class="line">  root-&gt;left-&gt;left = createNode(<span class="number">4</span>);</div><div class="line">  root-&gt;left-&gt;right = createNode(<span class="number">5</span>);</div><div class="line"></div><div class="line">  root-&gt;right-&gt;left = createNode(<span class="number">6</span>);</div><div class="line">  root-&gt;right-&gt;right = createNode(<span class="number">7</span>);</div><div class="line"></div><div class="line">  <span class="built_in">printf</span>(<span class="string">"LCA(4, 5) = %d\n"</span>, findLCA(root, <span class="number">4</span>, <span class="number">5</span>)-&gt;key);</div><div class="line">  <span class="built_in">printf</span>(<span class="string">"LCA(4, 6) = %d\n"</span>, findLCA(root, <span class="number">4</span>, <span class="number">6</span>)-&gt;key);</div><div class="line">  <span class="built_in">printf</span>(<span class="string">"LCA(3, 4) = %d\n"</span>, findLCA(root, <span class="number">3</span>, <span class="number">4</span>)-&gt;key);</div><div class="line">  <span class="built_in">printf</span>(<span class="string">"LCA(2, 4) = %d\n"</span>, findLCA(root, <span class="number">2</span>, <span class="number">4</span>)-&gt;key);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Perl"><a href="#Perl" class="headerlink" title="Perl:"></a>Perl:</h3><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#!perl</span></div><div class="line"></div><div class="line"><span class="keyword">use</span> strict;</div><div class="line"><span class="keyword">use</span> warnings;</div><div class="line"><span class="keyword">use</span> utf8;</div><div class="line"><span class="keyword">use</span> <span class="number">5.014</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">createNode</span> </span>&#123;</div><div class="line">    <span class="keyword">my</span> $node = &#123;&#125;;</div><div class="line">    $node-&gt;&#123;VALUE&#125; = $_[<span class="number">0</span>];</div><div class="line">    $node-&gt;&#123;LEFT&#125; = $node-&gt;&#123;RIGHT&#125; = <span class="keyword">undef</span>;</div><div class="line">    $node;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">findLCA</span> </span>&#123;</div><div class="line">    <span class="comment"># accept 3 arguments:</span></div><div class="line">    <span class="comment"># 1.node; 2. n1 value; 3. n2 value</span></div><div class="line">    <span class="keyword">my</span>($root, $n1, $n2) = @_;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">undef</span> <span class="keyword">unless</span> ($root);</div><div class="line">    <span class="keyword">return</span> $root <span class="keyword">if</span> ($n1 == $root-&gt;&#123;VALUE&#125; ||</div><div class="line">                     $n2 == $root-&gt;&#123;VALUE&#125;);</div><div class="line">    <span class="keyword">my</span>($left, $right) =</div><div class="line">        (findLCA($root-&gt;&#123;LEFT&#125;, $n1, $n2),</div><div class="line">         findLCA($root-&gt;&#123;RIGHT&#125;, $n1, $n2));</div><div class="line">    <span class="keyword">return</span> $root <span class="keyword">if</span> ($left &amp;&amp; $right);</div><div class="line">    $left || $right;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">my</span> ($root, $n);</div><div class="line">$root = createNode(<span class="number">1</span>);</div><div class="line"></div><div class="line">$root-&gt;&#123;LEFT&#125; = createNode(<span class="number">2</span>);</div><div class="line">$root-&gt;&#123;RIGHT&#125; = createNode(<span class="number">3</span>);</div><div class="line"></div><div class="line">$root-&gt;&#123;LEFT&#125;<span class="string">&#123;LEFT&#125;</span> = createNode(<span class="number">4</span>);</div><div class="line">$root-&gt;&#123;LEFT&#125;<span class="string">&#123;RIGHT&#125;</span> = createNode(<span class="number">5</span>);</div><div class="line"></div><div class="line">$root-&gt;&#123;RIGHT&#125;<span class="string">&#123;LEFT&#125;</span> = createNode(<span class="number">6</span>);</div><div class="line">$root-&gt;&#123;RIGHT&#125;<span class="string">&#123;RIGHT&#125;</span> = createNode(<span class="number">7</span>);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"LCA(4, 5) = "</span>, findLCA($root, <span class="number">4</span>, <span class="number">5</span>)-&gt;&#123;VALUE&#125;, <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"LCA(4, 6) = "</span>, findLCA($root, <span class="number">4</span>, <span class="number">6</span>)-&gt;&#123;VALUE&#125;, <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"LCA(3, 4) = "</span>, findLCA($root, <span class="number">3</span>, <span class="number">4</span>)-&gt;&#123;VALUE&#125;, <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"LCA(2, 4) = "</span>, findLCA($root, <span class="number">2</span>, <span class="number">4</span>)-&gt;&#123;VALUE&#125;, <span class="string">"\n"</span>;</div><div class="line"></div></pre></td></tr></table></figure>
<h3 id="Common-Lisp"><a href="#Common-Lisp" class="headerlink" title="Common Lisp:"></a>Common Lisp:</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defclass</span> tree-node ()</div><div class="line">  ((<span class="name">value</span> <span class="symbol">:initform</span> <span class="literal">nil</span></div><div class="line">          <span class="symbol">:initarg</span> <span class="symbol">:value</span></div><div class="line">          <span class="symbol">:accessor</span> value)</div><div class="line">   (<span class="name">left</span> <span class="symbol">:initform</span> <span class="literal">nil</span></div><div class="line">         <span class="symbol">:accessor</span> left-child)</div><div class="line">   (<span class="name">right</span> <span class="symbol">:initform</span> <span class="literal">nil</span></div><div class="line">          <span class="symbol">:accessor</span> right-child)))</div><div class="line"></div><div class="line">(<span class="name">defun</span> create-node (<span class="name">value</span>)</div><div class="line">  (<span class="name">let</span> ((<span class="name">node</span> (<span class="name">make-instance</span> 'tree-node <span class="symbol">:value</span> value)))</div><div class="line">    node))</div><div class="line"></div><div class="line">(<span class="name">defun</span> find-lowest-common-ancestor (<span class="name">tree-node</span> n1 n2)</div><div class="line">  (<span class="name">if</span> (<span class="name">null</span> tree-node)</div><div class="line">      (<span class="name">return-from</span> find-lowest-common-ancestor <span class="literal">nil</span>))</div><div class="line">  (<span class="name">if</span> (<span class="name">or</span> (<span class="name">equal</span> n1 (<span class="name">value</span> tree-node))</div><div class="line">          (<span class="name">equal</span> n2 (<span class="name">value</span> tree-node)))</div><div class="line">      (<span class="name">return-from</span> find-lowest-common-ancestor tree-node))</div><div class="line">  (<span class="name">let</span> ((<span class="name">left</span> (<span class="name">find-lowest-common-ancestor</span> (<span class="name">left-child</span></div><div class="line">                                            tree-node) n1 n2))</div><div class="line">        (<span class="name">right</span> (<span class="name">find-lowest-common-ancestor</span> (<span class="name">right-child</span></div><div class="line">                                             tree-node) n1 n2)))</div><div class="line">    (<span class="name">if</span> (<span class="name">and</span> left right)</div><div class="line">        (<span class="name">return-from</span> find-lowest-common-ancestor tree-node))</div><div class="line">    (<span class="name">or</span> left right)))</div><div class="line"></div><div class="line">(<span class="name">defparameter</span> root (<span class="name">create-node</span> <span class="number">1</span>))</div><div class="line"></div><div class="line">(<span class="name">setf</span> (<span class="name">left-child</span> root) (<span class="name">create-node</span> <span class="number">2</span>))</div><div class="line">(<span class="name">setf</span> (<span class="name">right-child</span> root) (<span class="name">create-node</span> <span class="number">3</span>))</div><div class="line"></div><div class="line">(<span class="name">setf</span> (<span class="name">left-child</span> (<span class="name">left-child</span> root)) (<span class="name">create-node</span> <span class="number">4</span>))</div><div class="line">(<span class="name">setf</span> (<span class="name">right-child</span> (<span class="name">left-child</span> root)) (<span class="name">create-node</span> <span class="number">5</span>))</div><div class="line"></div><div class="line">(<span class="name">setf</span> (<span class="name">left-child</span> (<span class="name">right-child</span> root)) (<span class="name">create-node</span> <span class="number">6</span>))</div><div class="line">(<span class="name">setf</span> (<span class="name">right-child</span> (<span class="name">right-child</span> root)) (<span class="name">create-node</span> <span class="number">7</span>))</div><div class="line"></div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"LCA(4, 5) = ~d~%"</span> (<span class="name">value</span> (<span class="name">find-lowest-common-ancestor</span></div><div class="line">                                     root <span class="number">4</span> <span class="number">5</span>)))</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"LCA(4, 6) = ~d~%"</span> (<span class="name">value</span> (<span class="name">find-lowest-common-ancestor</span></div><div class="line">                                     root <span class="number">4</span> <span class="number">6</span>)))</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"LCA(3, 4) = ~d~%"</span> (<span class="name">value</span> (<span class="name">find-lowest-common-ancestor</span></div><div class="line">                                     root <span class="number">3</span> <span class="number">4</span>)))</div><div class="line">(<span class="name">format</span> <span class="literal">t</span> <span class="string">"LCA(2, 4) = ~d~%"</span> (<span class="name">value</span> (<span class="name">find-lowest-common-ancestor</span></div><div class="line">                                     root <span class="number">2</span> <span class="number">4</span>)))</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/27/Fenwick-Tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/27/Fenwick-Tree/" itemprop="url">
                  Fenwick Tree
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-27T00:54:39+08:00">
                2016-06-27
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/27/Fenwick-Tree/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/27/Fenwick-Tree/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Fenwick Tree的原理是，把一个前缀和划分成多个子序列的和，子序列的个数是当前前缀和元素个数的数字二进制表示中的1的个数。</p>
<p>Perl实现：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env perl -n</span></div><div class="line"><span class="comment">#===============================================================================</span></div><div class="line"><span class="comment">#         FILE: fenwick_tree.pl</span></div><div class="line"><span class="comment">#       AUTHOR: Sabastian (liuxueyang.github.io), liuxueyang457@gmail.com</span></div><div class="line"><span class="comment"># ORGANIZATION: Hunan University</span></div><div class="line"><span class="comment">#      CREATED: 2016/06/26 23时27分06秒</span></div><div class="line"><span class="comment">#===============================================================================</span></div><div class="line"></div><div class="line"><span class="keyword">use</span> strict;</div><div class="line"><span class="keyword">use</span> warnings;</div><div class="line"><span class="keyword">use</span> utf8;</div><div class="line"><span class="keyword">use</span> <span class="number">5.014</span>;</div><div class="line"></div><div class="line"><span class="keyword">chomp</span>;</div><div class="line"><span class="keyword">my</span> @fenwick;</div><div class="line"><span class="keyword">my</span> @array = <span class="keyword">split</span>;</div><div class="line"><span class="keyword">unshift</span> @array, <span class="number">0</span>;</div><div class="line"><span class="keyword">unshift</span> @fenwick, <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">lowbit</span> </span>&#123; $_[<span class="number">0</span>] &amp; -$_[<span class="number">0</span>]; &#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">build_fenwick_tree</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="number">1</span>..$#array) &#123;</div><div class="line">        <span class="keyword">for</span> <span class="keyword">my</span> $j ($_-lowbit($_)+<span class="number">1</span>..$_) &#123;</div><div class="line">            $fenwick[$_] += $array[$j]</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">modify_fenwick_tree</span> </span>&#123;</div><div class="line">    <span class="comment"># two arguments</span></div><div class="line">    <span class="comment"># 1.index: the index of the array to modify</span></div><div class="line">    <span class="comment"># 2.delta: substract result of new value to the old value of the element</span></div><div class="line">    <span class="keyword">my</span> ($index, $delta) = @_;</div><div class="line">    <span class="keyword">while</span> ($index &lt;= @fenwick) &#123;</div><div class="line">        $fenwick[$index] += $delta;</div><div class="line">        $index += lowbit($index);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">sum_fenwick_tree</span> </span>&#123;</div><div class="line">    <span class="comment"># 1 argument: index</span></div><div class="line">    <span class="keyword">my</span> ($ans, $i) = (<span class="number">0</span>, $_[<span class="number">0</span>]);</div><div class="line">    <span class="keyword">while</span> ($i &gt; <span class="number">0</span>) &#123;</div><div class="line">        $ans += $fenwick[$i];</div><div class="line">        $i -= lowbit($i);</div><div class="line">    &#125;</div><div class="line">    $ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">build_fenwick_tree();</div><div class="line"><span class="keyword">print</span> <span class="keyword">join</span>(<span class="string">" "</span>, @fenwick[<span class="number">1</span>..$#fenwick]), <span class="string">"\n"</span>;</div><div class="line"></div><div class="line">modify_fenwick_tree(<span class="number">3</span>, <span class="number">3</span>);</div><div class="line"><span class="keyword">print</span> <span class="keyword">join</span>(<span class="string">" "</span>, @fenwick[<span class="number">1</span>..$#fenwick]), <span class="string">"\n"</span>;</div><div class="line"></div><div class="line"><span class="keyword">print</span> sum_fenwick_tree(<span class="number">3</span>), <span class="string">"\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># input</span></div><div class="line"><span class="comment"># 1 2 3 4 5</span></div><div class="line"><span class="comment"># output</span></div><div class="line"><span class="comment"># 1 3 3 10 5</span></div><div class="line"><span class="comment"># 1 3 6 13 5</span></div><div class="line"><span class="comment"># 9</span></div><div class="line"><span class="comment">#</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/17/推荐Rime小鹤双拼输入法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/17/推荐Rime小鹤双拼输入法/" itemprop="url">
                  推荐Rime小鹤双拼输入法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-17T08:02:11+08:00">
                2016-06-17
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/17/推荐Rime小鹤双拼输入法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/17/推荐Rime小鹤双拼输入法/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>之前一直没有时间配置我的OS X上的Rime输入法。所以我最近认真配置了一下。首先，推荐<br>一篇博客：<br><a href="http://www.dreamxu.com/install-config-squirrel/" target="_blank" rel="external">安装及配置 Mac 上的 Rime 输入法——鼠鬚管 (Squirrel)</a><br>这是一篇好博客。然而复制配置文件的时候，还是不能直接复制到编辑器里面，一定要注意<br>格式！因为这篇博客，我发现了小鹤双拼输入法，然后随便找了一篇关于小鹤双拼的文章：<br><a href="http://sspai.com/32809" target="_blank" rel="external">做少数派中的少数派：双拼输入快速入门</a><br>看了一下里面的键位映射图，大概理解了一下，就马上开始用了。也没怎么刻意记忆，不知<br>道哪个键就看一下那个图，和朋友聊了几句，就可以打字了，虽然很慢，但是可以接受。前<br>天晚上开始接触，昨天上午就可以愉快地打字了。到现在大概用了一天半的时间，我就可以<br>用双拼愉快地写这篇博客了。</p>
<p>愚笨如我也能够这么快地接受这个输入法，所以它的学习成本还真的是挺低的。然而打字效<br>率比原来的全拼却好很多。每个汉字拼音分成声母和韵母，每个声母和韵母只需要一次按键，<br>不得不说，很适合用汉语拼音打汉字。哈哈，用词根输入英语可能就没这么方便了？:joy:<br>:joy:</p>
<p>另外，我也可以同步Rime的用户资料了。然后再同步到Gitlab的私人仓库里面，完美！另外，<br>那篇博客也介绍了如何配置小鹤双拼・语句流输入法，这样就可以中英混输并且还带emoji<br>了！简直Perfect流畅。</p>
<hr>
<p>时间好快，麦子熟了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/15/Karabiner-——-自定义MacBook-Air键盘/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/15/Karabiner-——-自定义MacBook-Air键盘/" itemprop="url">
                  Karabiner —— 自定义MacBook Air键盘
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-15T11:25:11+08:00">
                2016-06-15
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/15/Karabiner-——-自定义MacBook-Air键盘/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/15/Karabiner-——-自定义MacBook-Air键盘/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一直以来，我的MacBook Air的键盘有几个键总是莫名其妙不灵。。换了一次键盘，然而问<br>题依旧，并且，问题不好重现，仿佛它不高兴了就不灵了。。这给打字带来了极大的不爽。。<br>所以我的解决办法是外接键盘。。或者外接USB键盘，或者外接蓝牙键盘。然而，这便携性<br>就没有了。。还要经常担心我那个蓝牙键盘的支脚是不是压倒了原装键盘的某个功能键什么<br>的。。。所以就很蛋疼。。</p>
<p>所以为了解决蓝牙键盘经常压到Air的原装键盘的问题，我就在原装键盘上面垫上一本小书，<br>一定程度上解决了这个问题。。然后我就去淘宝搜有没有买专用的板子的啊。。:joy:<br>:joy: 原来我的思路也蛮开阔的。。并没有，随手在Bing搜了一下，看到了V2EX的一个帖子<br>说如何关闭MacBook Air自带的键盘，诶？这倒是一个办法。然后我就开始折腾了：</p>
<p>下载了<a href="https://pqrs.org/osx/karabiner/index.html.en" target="_blank" rel="external">Karabiner</a>这个软件。然后就开<br>始找怎么把某个组合键映射到经常失灵的<code>U</code>键。打开Karabiner的Preferences，看了一下<br><code>Change Key</code>那个标签并没有什么头绪。然后看到<code>Misc &amp; Uninstall</code>这个标签里面有一个<br><code>Custom Setting</code>：</p>
<p><img src="/img/karabiner_preferences.png" alt="Karabiner Preferences"></p>
<p>绝壁八成是这个了。。然后在Karabiner的官网里面的Documents里面找到了这个文档：<br><a href="https://pqrs.org/osx/karabiner/xml.html.en" target="_blank" rel="external">private.xml Reference Manual</a>照着加<br>了下面的配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;item&gt;</div><div class="line">  &lt;name&gt;Change &apos;u&apos; key to fn+v&lt;/name&gt;</div><div class="line">  &lt;identifier&gt;private.make_u_work&lt;/identifier&gt;</div><div class="line">  &lt;autogen&gt;__KeyToKey__ </div><div class="line">    KeyCode::V, ModifierFlag::FN,</div><div class="line">    KeyCode::U</div><div class="line">  &lt;/autogen&gt;</div><div class="line">&lt;/item&gt;</div></pre></td></tr></table></figure>
<p>然后在Karabiner Preferences的<code>Change Key</code>里面就就可以看到我刚才加的选项了，选择<br>它，点<code>Reload XML</code>，然后就可以用<code>fn</code>+<code>v</code>的组合键代替<code>u</code>这个键了。（因为<code>V</code>和<br><code>U</code>长得比较像。。。 :joy: :joy: ) 完美！</p>
<p>另外一个经常不灵的键就是<code>(</code>这个键，它的位置就是<code>9</code>所在的键。因为6和9比较像……所以<br>我就把<code>fn</code>+<code>6</code>映射成了9。。同样的做法。:smile: :smiley:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;item&gt;</div><div class="line">  &lt;name&gt;Change &apos;9&apos; key to fn+6&lt;/name&gt;</div><div class="line">  &lt;identifier&gt;private.make_9_work&lt;/identifier&gt;</div><div class="line">  &lt;autogen&gt;__KeyToKey__ </div><div class="line">    KeyCode::6, ModifierFlag::FN,</div><div class="line">    KeyCode::9</div><div class="line">  &lt;/autogen&gt;</div><div class="line">&lt;/item&gt;</div></pre></td></tr></table></figure>
<p>哦，对了，上面的配置里面的autogen里面的<code>KeyCode</code>可以在这里<br><a href="https://github.com/tekezo/Karabiner/blob/version_10.19.0/src/bridge/generator/keycode/data/KeyCode.data" target="_blank" rel="external">KeyCode</a><br>找到。</p>
<p>终于可以摆脱外接键盘了。。尤其不在桌子前面的时候。。 :joy: :joy: </p>
<p>搞定，收工。 :expressionless:</p>
<hr>
<p>我发现上面的配置在输入左右小括号的时候并不方便，所以。我就把<br><code>fn</code>+<code>[</code>映射成<code>9</code>，把<code>fn</code>+<code>[</code>映射成<code>0</code>。这样就方便多了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;item&gt;</div><div class="line">  &lt;name&gt;Change &apos;(&apos; key to fn+BRACKET_LEFT&lt;/name&gt;</div><div class="line">  &lt;identifier&gt;private.brace_left&lt;/identifier&gt;</div><div class="line">  &lt;autogen&gt;__KeyToKey__ </div><div class="line">    KeyCode::BRACKET_LEFT, ModifierFlag::FN,</div><div class="line">    KeyCode::9</div><div class="line">  &lt;/autogen&gt;</div><div class="line">&lt;/item&gt;</div><div class="line"></div><div class="line">&lt;item&gt;</div><div class="line">  &lt;name&gt;Change &apos;)&apos; key to fn+BRACKET_RIGHT&lt;/name&gt;</div><div class="line">  &lt;identifier&gt;private.brace_right&lt;/identifier&gt;</div><div class="line">  &lt;autogen&gt;__KeyToKey__ </div><div class="line">    KeyCode::BRACKET_RIGHT, ModifierFlag::FN,</div><div class="line">    KeyCode::0</div><div class="line">  &lt;/autogen&gt;</div><div class="line">&lt;/item&gt;</div></pre></td></tr></table></figure>
<p>然而这样还是不够方便，因为我如果想要输入<code>(</code>或者<code>)</code>，那么我就要按下3个键，这，显然很不爽。所以我<br>就稍微改进了一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;item&gt;</div><div class="line">  &lt;name&gt;Change &apos;(&apos; key to fn+BRACKET_LEFT&lt;/name&gt;</div><div class="line">  &lt;identifier&gt;private.brace_left&lt;/identifier&gt;</div><div class="line">  &lt;autogen&gt;__KeyToKey__ </div><div class="line">    KeyCode::BRACKET_LEFT, ModifierFlag::FN,</div><div class="line">    KeyCode::9, ModifierFlag::SHIFT_L</div><div class="line">  &lt;/autogen&gt;</div><div class="line">&lt;/item&gt;</div><div class="line"></div><div class="line">&lt;item&gt;</div><div class="line">  &lt;name&gt;Change &apos;)&apos; key to fn+BRACKET_RIGHT&lt;/name&gt;</div><div class="line">  &lt;identifier&gt;private.brace_right&lt;/identifier&gt;</div><div class="line">  &lt;autogen&gt;__KeyToKey__ </div><div class="line">    KeyCode::BRACKET_RIGHT, ModifierFlag::FN,</div><div class="line">    KeyCode::0, ModifierFlag::SHIFT_L</div><div class="line">  &lt;/autogen&gt;</div><div class="line">&lt;/item&gt;</div></pre></td></tr></table></figure>
<p>这样，我就可以只按两个键，和原来的<code>Shift + 9</code>和<code>Shift + 0</code>就没什么区别了：我现在把<code>fn+[</code>设置<br>成了输入<code>(</code>，把<code>fn+]</code>设置成了输入<code>)</code>。</p>
<p>另外，我原来把<code>fn+6</code>设置成输入<code>9</code>，然而输入的时候其实并不那么方便。所以，我就又<br>修改了一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;item&gt;</div><div class="line">  &lt;name&gt;Change &apos;9&apos; key to fn+F9&lt;/name&gt;</div><div class="line">  &lt;identifier&gt;private.make_9_work_by_F9&lt;/identifier&gt;</div><div class="line">  &lt;autogen&gt;__KeyToKey__ </div><div class="line">    KeyCode::F9, ModifierFlag::FN,</div><div class="line">    KeyCode::9</div><div class="line">  &lt;/autogen&gt;</div><div class="line">&lt;/item&gt;</div></pre></td></tr></table></figure>
<p>因为<code>F9</code>距离<code>9</code>比较近，所以我就把<code>fn+F9</code>设置成了输入<code>9</code>，这样就方便多了 :joy: </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/11/Codeforces-Round-356-Div-2-C-Bear-and-Prime-100/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/11/Codeforces-Round-356-Div-2-C-Bear-and-Prime-100/" itemprop="url">
                  Codeforces Round #356 (Div. 2) C. Bear and Prime 100
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-11T08:05:05+08:00">
                2016-06-11
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/11/Codeforces-Round-356-Div-2-C-Bear-and-Prime-100/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/11/Codeforces-Round-356-Div-2-C-Bear-and-Prime-100/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="C-Bear-and-Prime-100"><a href="#C-Bear-and-Prime-100" class="headerlink" title="C. Bear and Prime 100"></a><a href="http://codeforces.com/contest/680/problem/C" target="_blank" rel="external">C. Bear and Prime 100</a></h1><p>This is an interactive problem. In the output section below you will see the information about flushing the output.</p>
<p>Bear Limak thinks of some hidden number — an integer from interval [2, 100]. Your task is to say if the hidden number is prime or composite.</p>
<p>Integer x &gt; 1 is called prime if it has exactly two distinct divisors, 1 and x. If integer x &gt; 1 is not prime, it’s called composite.</p>
<p>You can ask up to 20 queries about divisors of the hidden number. In each query you should print an integer from interval [2, 100]. The system will answer “yes” if your integer is a divisor of the hidden number. Otherwise, the answer will be “no”.</p>
<p>For example, if the hidden number is 14 then the system will answer “yes” only if you print 2, 7 or 14.</p>
<p>When you are done asking queries, print “prime” or “composite” and terminate your program.</p>
<p>You will get the Wrong Answer verdict if you ask more than 20 queries, or if you print an integer not from the range [2, 100]. Also, you will get the Wrong Answer verdict if the printed answer isn’t correct.</p>
<p>You will get the Idleness Limit Exceeded verdict if you don’t print anything (but you should) or if you forget about flushing the output (more info below).</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>After each query you should read one string from the input. It will be “yes” if the printed integer is a divisor of the hidden number, and “no” otherwise.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Up to 20 times you can ask a query — print an integer from interval [2, 100] in one line. You have to both print the end-of-line character and flush the output. After flushing you should read a response from the input.</p>
<p>In any moment you can print the answer “prime” or “composite” (without the quotes). After that, flush the output and terminate your program.</p>
<p>To flush you can use (just after printing an integer and end-of-line):</p>
<p>fflush(stdout) in C++;<br>System.out.flush() in Java;<br>stdout.flush() in Python;<br>flush(output) in Pascal;<br>See the documentation for other languages.<br>Hacking. To hack someone, as the input you should print the hidden number — one integer from the interval [2, 100]. Of course, his/her solution won’t be able to read the hidden number from the input.</p>
<h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><h3 id="input"><a href="#input" class="headerlink" title="input"></a>input</h3><p>yes</p>
<p>no</p>
<p>yes</p>
<h3 id="output"><a href="#output" class="headerlink" title="output"></a>output</h3><p>2</p>
<p>80</p>
<p>5</p>
<p>composite</p>
<h3 id="input-1"><a href="#input-1" class="headerlink" title="input"></a>input</h3><p>no</p>
<p>yes</p>
<p>no</p>
<p>no</p>
<p>no</p>
<h3 id="output-1"><a href="#output-1" class="headerlink" title="output"></a>output</h3><p>58</p>
<p>59</p>
<p>78</p>
<p>78</p>
<p>2</p>
<p>prime</p>
<h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>The hidden number in the first query is 30. In a table below you can see a better form of the provided example of the communication process.<br>The hidden number is divisible by both 2 and 5. Thus, it must be composite. Note that it isn’t necessary to know the exact value of the hidden number. In this test, the hidden number is 30.<br>59 is a divisor of the hidden number. In the interval [2, 100] there is only one number with this divisor. The hidden number must be 59, which is prime. Note that the answer is known even after the second query and you could print it then and terminate. Though, it isn’t forbidden to ask unnecessary queries (unless you exceed the limit of 20 queries).</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>At first I didn’t understand the problem’s meaning. ;-(</p>
<p>In fact, the problem means:</p>
<p>   Write a program to guess a number a time, the user input <code>yes</code> or <code>no</code>: if<br>   the displayed number is divisible by the unknown number, the user will input<br>   <code>yes</code>, otherwise, the user will input <code>no</code>. You program can’t guess more than<br>   20 times. Your program must output <code>prime</code> or <code>composite</code> if you can determin<br>   whether the number is prime. You must determin this in 20 times<br>   guesses. Besides, the unknown number is in [2, 100].</p>
<p>A composite number is either divisible by <em>p^2</em> for some prime <em>p</em>, or divisible by<br>two distinct prime numbers <em>p</em> and <em>q</em>.<br>    a. if the number is divisible by <em>p^2</em> for some prime <em>p</em>, we can know that<br>    <em>p</em> must be in <code>2 3 5 7</code>, because the unknown number is not more than</p>
<pre><code>100. If _p_ is divisible by the number, we must guess _p_ * _p_ again.
b. if the number is divisible by two distinct prime numbers _p_ and _q_,
suppose _p_ &lt; _q_. Because _p_ &gt;= 2, _p_ * _q_ &lt;= 100, then _q_ &lt; 50. then
we can iterate _q_ in prime numbers below 50.
</code></pre><p>we know that prime numbers below 50 is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2 3 5 7 11 13 17 19 23 29 31 37 41 43 47</div></pre></td></tr></table></figure>
<p>there are 15 prime numbers below 50.</p>
<p>In the first case, there are at most 8 guesses. In the second case, there are at<br>most 15 - 4 = 11 guesses. So there are at most 19 guesses in all. 19 &lt; 20, it<br>satisifies the problem.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * =====================================================================================</div><div class="line"> *</div><div class="line"> *       Filename:  c.cpp</div><div class="line"> *</div><div class="line"> *    Description:  </div><div class="line"> *</div><div class="line"> *        Version:  1.1</div><div class="line"> *        Created:  06/10/2016 08:57:54 PM</div><div class="line"> *       Compiler:  g++</div><div class="line"> *</div><div class="line"> *         Author:  Sabastian (liuxueyang.github.io), liuxueyang457@gmail.com</div><div class="line"> *</div><div class="line"> * =====================================================================================</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _ ios_base::sync_with_stdio(0);cin.tie(0);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, n) for (int i = a; i &lt; n; ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i, a, n) for (int i = n-1; i &gt; a; --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</div><div class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; MI;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line"><span class="comment">//const ll mod=1000000007;</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= n; ++i) &#123;</div><div class="line">    <span class="keyword">if</span> (n % i == <span class="number">0</span>) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isDivisible</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">  <span class="built_in">string</span> str;</div><div class="line">  <span class="built_in">printf</span> ( <span class="string">"%d\n"</span>, n );</div><div class="line">  fflush(<span class="built_in">stdout</span>);</div><div class="line">  <span class="built_in">cin</span> &gt;&gt; str;</div><div class="line">  <span class="keyword">return</span> str == <span class="string">"yes"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> a[<span class="number">50</span>];</div><div class="line">  <span class="function"><span class="keyword">int</span></span></div><div class="line"><span class="title">main</span> <span class="params">( <span class="keyword">void</span> )</span></div><div class="line">&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span>  ONLINE_JUDGE</span></div><div class="line"><span class="comment">//  freopen("c.in", "r", stdin);</span></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span>     <span class="comment">/* -----  ONLINE_JUDGE  ----- */</span></span></div><div class="line"></div><div class="line">  <span class="keyword">int</span> j = <span class="number">0</span>;</div><div class="line">  rep(i, <span class="number">2</span>, <span class="number">51</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (isPrime(i)) &#123;</div><div class="line">      a[j] = i;</div><div class="line">      ++j;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  rep(i, <span class="number">0</span>, j) &#123;</div><div class="line">    <span class="built_in">printf</span> ( <span class="string">"%d "</span>, a[i] );</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">printf</span> ( <span class="string">"\n"</span> );</div><div class="line">  <span class="comment">// j is len</span></div><div class="line">  <span class="comment">// a. 2, 3, 5, 7 -&gt; ... </span></div><div class="line">  <span class="comment">// b. primes less than 50</span></div><div class="line"></div><div class="line">  <span class="built_in">string</span> str;</div><div class="line">  <span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">  rep (i, <span class="number">0</span>, j) &#123;</div><div class="line">    <span class="keyword">if</span> ( isDivisible(a[i]) ) &#123;</div><div class="line">      ++cnt;</div><div class="line">      <span class="keyword">if</span> ( cnt &gt;= <span class="number">2</span> ) &#123;</div><div class="line">        <span class="built_in">printf</span> ( <span class="string">"composite\n"</span> );</div><div class="line">        fflush(<span class="built_in">stdout</span>);</div><div class="line">        <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> ( a[i] &lt;= <span class="number">7</span> &amp;&amp; isDivisible(a[i] * a[i])) &#123;</div><div class="line">        ++cnt;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> ( cnt &gt;= <span class="number">2</span> ) &#123;</div><div class="line">        <span class="built_in">printf</span> ( <span class="string">"composite\n"</span> );</div><div class="line">        fflush(<span class="built_in">stdout</span>);</div><div class="line">        <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">printf</span> ( <span class="string">"prime\n"</span> );</div><div class="line">  fflush(<span class="built_in">stdout</span>);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> EXIT_SUCCESS;</div><div class="line">&#125;				<span class="comment">/* ----------  end of function main  ---------- */</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="liuxueyang.github.io/2016/06/10/problem-when-configuring-vim-taglist-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="liuxueyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/drawing.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黑历史">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/10/problem-when-configuring-vim-taglist-plugin/" itemprop="url">
                  problem when configuring vim taglist plugin
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-10T22:44:32+08:00">
                2016-06-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-11T23:16:27+08:00">
                2017-04-11
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/10/problem-when-configuring-vim-taglist-plugin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/10/problem-when-configuring-vim-taglist-plugin/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最开始，用这个插件的时候出现了类似</p>
<p><code>ctags unrecognized option &#39;--format=2&#39;^@^itry</code></p>
<p>这样的问题。</p>
<p>然后我看了一下<code>ctags</code>的man page，发现，确实没有这个选项。这……是为啥。</p>
<p>然后去看taglist插件的manual和它的首页，发现，它里面说的是<code>exuberant ctags</code>，然后<br>我看了一下<a href="http://ctags.sourceforge.net/ctags.html" target="_blank" rel="external">这个</a>对比了一下Linux里面的系<br>统的<code>ctags</code>的man page，发现确实不一样。然后我在常用的PATH里面找了一下<code>exuberant</code>，<br>很快就找到了<code>/usr/bin/ctags-exuberant</code>，然后根据taglist的文档，设置一个变量就好<br>了。</p>
<p>在openSUSE Linux上面，需要在<code>vimrc</code>里面加一句这个：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">let Tlist_Ctags_Cmd = &quot;/usr/bin/ctags-exuberant&quot;</div></pre></td></tr></table></figure>
<p>系统自带的<code>ctags</code>，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">❯ which ctags                                                                                                                                        </div><div class="line">/usr/bin/ctags</div></pre></td></tr></table></figure>
<p>并非是<code>taglist</code>这个插件所指的<code>ctags</code>，这个问题，我也是，醉了。 :joy: 搞了51min才<br>搞定…… :smile: 这个插件里面的<code>ctags</code>指的是<code>ctags-exuberant</code></p>
<p>貌似在Mac OS X上面，也需要设置一下，比如<a href="https://gist.github.com/nazgob/1570678" target="_blank" rel="external">这<br>里</a>不过我记得貌似我的以前在Mac OS X里面<br>可以用。不知道是不是也像这样设置了。</p>
<p>这是效果截图：</p>
<p><img src="/img/taglist.png" alt="Gvim on openSUSE"></p>
<p>taglist的窗口通过<code>C-a</code>快捷键打开，再次按<code>C-a</code>快捷键，taglist窗口关闭。这个插件尤其是<br>在读程序的时候比较有用。或者写程序的时候也会用到。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/drawing.png"
               alt="liuxueyang" />
          <p class="site-author-name" itemprop="name">liuxueyang</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">458</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">55</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">liuxueyang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://liuxueyang.disqus.com/count.js" async></script>
    

    

  




	





  





  





  






  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
