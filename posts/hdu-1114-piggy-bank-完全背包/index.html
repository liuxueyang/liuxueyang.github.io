<!doctype html>

<html lang="zh-cn">

<head>
  <title>LXY Site</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="" />
  <meta name="generator" content="Hugo 0.32.2" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" />
</head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">LXY Site</a>
            </h1>

      <ul id="social-media">
             
      </ul>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>

    <main>




<article>

    <h1>hdu 1114 Piggy-Bank 完全背包</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2013-03-28T12:14:00Z">Mar 28, 2013</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/hdu/">#Hdu</a>
                
                    , 
                    <a href="/tags/dp/">#DP</a>
                
            </em>
        </li>
        

        <li>4 min read</li>
    </ul>
</aside>
    

    <p>Piggy-Bank</p>

<p>Time Limit: <sup>2000</sup>&frasl;<sub>1000</sub> MS (Java/Others)    Memory Limit: <sup>65536</sup>&frasl;<sub>32768</sub> K (Java/Others)
Total Submission(s): 6841    Accepted Submission(s): 3375</p>

<p>Problem Description
Before ACM can do anything, a budget must be prepared and the necessary financial support obtained. The main income for this action comes from Irreversibly Bound Money (IBM). The idea behind is simple. Whenever some ACM member has any small money, he takes all the coins and throws them into a piggy-bank. You know that this process is irreversible, the coins cannot be removed without breaking the pig. After a sufficiently long time, there should be enough cash in the piggy-bank to pay everything that needs to be paid.</p>

<p>But there is a big problem with piggy-banks. It is not possible to determine how much money is inside. So we might break the pig into pieces only to find out that there is not enough money. Clearly, we want to avoid this unpleasant situation. The only possibility is to weigh the piggy-bank and try to guess how many coins are inside. Assume that we are able to determine the weight of the pig exactly and that we know the weights of all coins of a given currency. Then there is some minimum amount of money in the piggy-bank that we can guarantee. Your task is to find out this worst case and determine the minimum amount of cash inside the piggy-bank. We need your help. No more prematurely broken pigs!</p>

<p>Input
The input consists of T test cases. The number of them (T) is given on the first line of the input file. Each test case begins with a line containing two integers E and F. They indicate the weight of an empty pig and of the pig filled with coins. Both weights are given in grams. No pig will weigh more than 10 kg, that means 1 &lt;= E &lt;= F &lt;= 10000. On the second line of each test case, there is an integer number N (1 &lt;= N &lt;= 500) that gives the number of various coins used in the given currency. Following this are exactly N lines, each specifying one coin type. These lines contain two integers each, Pand W (1 &lt;= P &lt;= 50000, 1 &lt;= W &lt;=10000). P is the value of the coin in monetary units, W is it&rsquo;s weight in grams.</p>

<p>Output
Print exactly one line of output for each test case. The line must contain the sentence &ldquo;The minimum amount of money in the piggy-bank is X.&rdquo; where X is the minimum amount of money that can be achieved using coins with the given total weight. If the weight cannot be reached exactly, print a line &ldquo;This is impossible.&rdquo;.</p>

<p>Sample Input
3 10 110 2 1 1 30 50 10 110 2 1 1 50 30 1 6 2 10 3 20 4</p>

<p>Sample Output
The minimum amount of money in the piggy-bank is 60. The minimum amount of money in the piggy-bank is 100. This is impossible.</p>

<p>完全背包，只不过要求的是最小值，同时也要把背包装满，这就要理解一下当要求把背包装满的时候，如何去初始化了。这里我把除了f[0]以外的所有ｆ的值都初始化为ＭＡＸ，这样的话，因为我每次都求的是最小值，所以呢，如果背包被装满了，最后的f[Ｖ]一定是比ＭＡＸ小的，这样就ＯＫ了。
但是还有一个困惑，为什么初始化为600000000就得到0呢？数组ｆ里面所有的都为0……很困惑……</p>

<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
const int MAX = 0x3f3f3f3f;
using namespace std;
int f[10000+10];
int main(void){
#ifndef ONLINE_JUDGE
  freopen(&quot;1114.in&quot;, &quot;r&quot;, stdin);
#endif
  int E, T, F, N, p[510], w[510];
  scanf(&quot;%d&quot;, &amp;T);
  while (T--){
    memset(f, MAX, sizeof(f));
    scanf(&quot;%d%d&quot;, &amp;E, &amp;F); int V = (F-E);
    f[0] = 0;
    scanf(&quot;%d&quot;, &amp;N);
    for (int i = 1; i &lt;= N; ++i) scanf(&quot;%d%d&quot;, p+i,w+i);
    for (int i =1; i &lt;= N; ++i){
      for (int v = w[i]; v &lt;= V; ++v){
        f[v] = min(f[v], f[v-w[i]] + p[i]);
      }
    }
    if (f[V] &lt; MAX) printf(&quot;The minimum amount of money in the piggy-bank is %d.\n&quot;, f[V]);
    else printf(&quot;This is impossible.\n&quot;);
  }
  return 0;
}
</code></pre>

<p>还有一个困惑，再研究一下……</p>

<p>另外，还有一个很无语的事情，就是开始把输出的那一句话打错了一个字母，把ｉｎ打成了ｉｓ，ＷＡ了一次……次嗷……幸亏有经验，后来特意仔细查看了一下，没有浪费很多时间……</p>

<p>唉，发现了，知道为毛线那个会成0了，应该是memset函数的问题，我把内个ＭＡＸ的值改成600000000,然后用ｆｏｒ循环赋值，就ＯＫ了……像这种函数使用的细节，唉，还得注意啊，虽然我知道这里出现了问题，也经常用这个函数，但是还会出现这种问题，像这种基础的用法都没有了解深入……</p>

<p>另外，看了别人的代码，还有一种想法，就是不把其它的ｆ[]赋值成无穷大，可以赋值成-1，就是一种标记的思想，想想挺有意思的，哈哈，贴代码：（据说是ambition神牛的，虽然我这种菜鸟还不认识人家……汗……）</p>

<pre><code class="language-cpp">#include&lt;stdio.h&gt;
int num[10001],w[500],v[500];
main()
{
    int n,m,e,f,t,i,j;
    for(scanf(&quot;%d&quot;,&amp;t);t&gt;0;t--)
    {
        scanf(&quot;%d%d&quot;,&amp;e,&amp;f);
        m=f-e;
        for(scanf(&quot;%d&quot;,&amp;n),i=0;i&lt;n;i++)
            scanf(&quot;%d%d&quot;,&amp;v[i],&amp;w[i]);
        num[0]=0;
        for(i=1;i&lt;=m;i++)
            num[i]=-1;
        for(i=0;i&lt;n;i++)
        {
            for(j=w[i];j&lt;=m;j++)
            {
                if(num[j-w[i]]!=-1&amp;&amp;num[j]!=-1)
                {if(num[j-w[i]]+v[i]&lt;num[j]) num[j]=num[j-w[i]]+v[i];}
                else if(num[j-w[i]]!=-1&amp;&amp;num[j]==-1)
                {num[j]=num[j-w[i]]+v[i];}
            }
        }
        if(num[m]!=-1)
        printf(&quot;The minimum amount of money in the piggy-bank is %d.\n&quot;,num[m]);
        else
            printf(&quot;This is impossible.\n&quot;);
    }
}
</code></pre>

<p>哈哈，跟我的代码一样长撒……恰巧都是30行……</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="http://liuxueyang.github.io/posts/hdu-2602-bone-collector-01%E8%83%8C%E5%8C%85/"><i class="fa fa-chevron-circle-left"></i> hdu 2602 Bone Collector 01背包</a>
        </li>
        
        
        <li>
            <a href="http://liuxueyang.github.io/posts/poj-1014-dividing-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85/">poj 1014 Dividing 多重背包 <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    





</main>
    <footer>
        <h6> | 
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="http://liuxueyang.github.ioindex.xml">Subscribe</a></h6>
    </footer>
</div>
<script src="/js/scripts.js"></script>
</body>

</html>