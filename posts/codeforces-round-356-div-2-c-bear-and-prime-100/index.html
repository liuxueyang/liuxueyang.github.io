<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="" name="keywords">
    
    <meta content="Codeforces Round #356 (Div. 2) C. Bear and Prime 100 - LXY Site" property="og:title">
    <title>Codeforces Round #356 (Div. 2) C. Bear and Prime 100-LXY Site</title>
    <link rel="stylesheet" href="http://liuxueyang.github.io/css/main.css" >
    <link rel="alternate" type="application/rss+xml" title="LXY Site" href='http://liuxueyang.github.io/index.xml' />

    <link rel="icon" sizes="16x16 32x32 48x48" href='http://liuxueyang.github.io/favicon.ico' />
  
    

  </head>
  <body>
    



 

<header class="site-header" 
  style="background:url('http://liuxueyang.github.io/img/header.jpg')
  top center no-repeat fixed ; background-size:100% auto; " >

  
    <a class="site-title" href="http://liuxueyang.github.io">LXY Site</a>

    
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
    
    
    <a class="page-link" href="https://github.com/liuxueyang/" title="">Github</a>
    
    <a class="page-link" href="/posts/" title="">Posts</a>
    
  </div>
</nav>



<div class="article-title-in-header">
  Codeforces Round #356 (Div. 2) C. Bear and Prime 100


</div> 


</header>


    
      <div class="nav-right">
        <nav class="nav-item">
          
        </nav>
      </div>

    
    <main class="wrapper">
      

<article >
  

<div class="article-meta">
      Jun 11, 2016
      
      
      
    <a class="tag" href="http://liuxueyang.github.io/tags/codeforces">Codeforces</a>


      
      
</div>


<div class="content">
  

<h1 id="c-bear-and-prime-100-http-codeforces-com-contest-680-problem-c"><a href="http://codeforces.com/contest/680/problem/C">C. Bear and Prime 100</a></h1>

<p>This is an interactive problem. In the output section below you will see the information about flushing the output.</p>

<p>Bear Limak thinks of some hidden number — an integer from interval [2, 100]. Your task is to say if the hidden number is prime or composite.</p>

<p>Integer x &gt; 1 is called prime if it has exactly two distinct divisors, 1 and x. If integer x &gt; 1 is not prime, it&rsquo;s called composite.</p>

<p>You can ask up to 20 queries about divisors of the hidden number. In each query you should print an integer from interval [2, 100]. The system will answer &ldquo;yes&rdquo; if your integer is a divisor of the hidden number. Otherwise, the answer will be &ldquo;no&rdquo;.</p>

<p>For example, if the hidden number is 14 then the system will answer &ldquo;yes&rdquo; only if you print 2, 7 or 14.</p>

<p>When you are done asking queries, print &ldquo;prime&rdquo; or &ldquo;composite&rdquo; and terminate your program.</p>

<p>You will get the Wrong Answer verdict if you ask more than 20 queries, or if you print an integer not from the range [2, 100]. Also, you will get the Wrong Answer verdict if the printed answer isn&rsquo;t correct.</p>

<p>You will get the Idleness Limit Exceeded verdict if you don&rsquo;t print anything (but you should) or if you forget about flushing the output (more info below).</p>

<h2 id="input">Input</h2>

<p>After each query you should read one string from the input. It will be &ldquo;yes&rdquo; if the printed integer is a divisor of the hidden number, and &ldquo;no&rdquo; otherwise.</p>

<h2 id="output">Output</h2>

<p>Up to 20 times you can ask a query — print an integer from interval [2, 100] in one line. You have to both print the end-of-line character and flush the output. After flushing you should read a response from the input.</p>

<p>In any moment you can print the answer &ldquo;prime&rdquo; or &ldquo;composite&rdquo; (without the quotes). After that, flush the output and terminate your program.</p>

<p>To flush you can use (just after printing an integer and end-of-line):</p>

<p>fflush(stdout) in C++;
System.out.flush() in Java;
stdout.flush() in Python;
flush(output) in Pascal;
See the documentation for other languages.
Hacking. To hack someone, as the input you should print the hidden number — one integer from the interval [2, 100]. Of course, his/her solution won&rsquo;t be able to read the hidden number from the input.</p>

<h2 id="examples">Examples</h2>

<h3 id="input-1">input</h3>

<p>yes</p>

<p>no</p>

<p>yes</p>

<h3 id="output-1">output</h3>

<p>2</p>

<p>80</p>

<p>5</p>

<p>composite</p>

<h3 id="input-2">input</h3>

<p>no</p>

<p>yes</p>

<p>no</p>

<p>no</p>

<p>no</p>

<h3 id="output-2">output</h3>

<p>58</p>

<p>59</p>

<p>78</p>

<p>78</p>

<p>2</p>

<p>prime</p>

<h3 id="note">Note</h3>

<p>The hidden number in the first query is 30. In a table below you can see a better form of the provided example of the communication process.
The hidden number is divisible by both 2 and 5. Thus, it must be composite. Note that it isn&rsquo;t necessary to know the exact value of the hidden number. In this test, the hidden number is 30.
59 is a divisor of the hidden number. In the interval [2, 100] there is only one number with this divisor. The hidden number must be 59, which is prime. Note that the answer is known even after the second query and you could print it then and terminate. Though, it isn&rsquo;t forbidden to ask unnecessary queries (unless you exceed the limit of 20 queries).</p>

<h2 id="solution">Solution</h2>

<p>At first I didn&rsquo;t understand the problem&rsquo;s meaning. ;-(</p>

<p>In fact, the problem means:</p>

<p>Write a program to guess a number a time, the user input <code>yes</code> or <code>no</code>: if
   the displayed number is divisible by the unknown number, the user will input
   <code>yes</code>, otherwise, the user will input <code>no</code>. You program can&rsquo;t guess more than
   20 times. Your program must output <code>prime</code> or <code>composite</code> if you can determin
   whether the number is prime. You must determin this in 20 times
   guesses. Besides, the unknown number is in [2, 100].</p>

<p>A composite number is either divisible by <em>p^2</em> for some prime <em>p</em>, or divisible by
two distinct prime numbers <em>p</em> and <em>q</em>.</p>

<pre><code>a. if the number is divisible by _p^2_ for some prime _p_, we can know that
_p_ must be in `2 3 5 7`, because the unknown number is not more than
100. If _p_ is divisible by the number, we must guess _p_ * _p_ again.
b. if the number is divisible by two distinct prime numbers _p_ and _q_,
suppose _p_ &lt; _q_. Because _p_ &gt;= 2, _p_ * _q_ &lt;= 100, then _q_ &lt; 50. then
we can iterate _q_ in prime numbers below 50.
</code></pre>

<p>we know that prime numbers below 50 is:</p>

<pre><code>2 3 5 7 11 13 17 19 23 29 31 37 41 43 47
</code></pre>

<p>there are 15 prime numbers below 50.</p>

<p>In the first case, there are at most 8 guesses. In the second case, there are at
most 15 - 4 = 11 guesses. So there are at most 19 guesses in all. 19 &lt; 20, it
satisifies the problem.</p>

<h3 id="code">Code</h3>

<pre><code class="language-cpp">/*
 * =====================================================================================
 *
 *       Filename:  c.cpp
 *
 *    Description:  
 *
 *        Version:  1.1
 *        Created:  06/10/2016 08:57:54 PM
 *       Compiler:  g++
 *
 *         Author:  Sabastian (liuxueyang.github.io), liuxueyang457@gmail.com
 *
 * =====================================================================================
 */
#include &lt;bits/stdc++.h&gt;
using namespace std;
#define _ ios_base::sync_with_stdio(0);cin.tie(0);
#define rep(i, a, n) for (int i = a; i &lt; n; ++i)
#define per(i, a, n) for (int i = n-1; i &gt; a; --i)
#define pb push_back
#define mp make_pair
#define all(x) (x).begin(),(x).end()
#define fi first
#define se second
#define SZ(x) ((int)(x).size())
typedef vector&lt;int&gt; VI;
typedef map&lt;int,int&gt; MI;
typedef long long ll;
typedef pair&lt;int,int&gt; PII;
//const ll mod=1000000007;
bool isPrime(int n) {

  for ( int i = 2; i * i &lt;= n; ++i) {
    if (n % i == 0) {
      return false;
    }
  }
  return true;
}

bool isDivisible(int n) {
  string str;
  printf ( &quot;%d\n&quot;, n );
  fflush(stdout);
  cin &gt;&gt; str;
  return str == &quot;yes&quot;;
}

int a[50];
  int
main ( void )
{
#ifndef  ONLINE_JUDGE
//  freopen(&quot;c.in&quot;, &quot;r&quot;, stdin);
#endif     /* -----  ONLINE_JUDGE  ----- */

  int j = 0;
  rep(i, 2, 51) {
    if (isPrime(i)) {
      a[j] = i;
      ++j;
    }
  }
  rep(i, 0, j) {
    printf ( &quot;%d &quot;, a[i] );
  }
  printf ( &quot;\n&quot; );
  // j is len
  // a. 2, 3, 5, 7 -&gt; ... 
  // b. primes less than 50

  string str;
  int cnt = 0;
  rep (i, 0, j) {
    if ( isDivisible(a[i]) ) {
      ++cnt;
      if ( cnt &gt;= 2 ) {
        printf ( &quot;composite\n&quot; );
        fflush(stdout);
        return EXIT_SUCCESS;
      }
      if ( a[i] &lt;= 7 &amp;&amp; isDivisible(a[i] * a[i])) {
        ++cnt;
      }
      if ( cnt &gt;= 2 ) {
        printf ( &quot;composite\n&quot; );
        fflush(stdout);
        return EXIT_SUCCESS;
      }
    }
  }
  printf ( &quot;prime\n&quot; );
  fflush(stdout);

  return EXIT_SUCCESS;
}				/* ----------  end of function main  ---------- */
</code></pre>

</div>
</article>





    </main>

    <footer class="site-footer ">

  
  <div class="footer-main">


    <div class="footer-col-wrapper ">


      
      <div class="footer-col  footer-col-1">
        <ul class="social-media-list">
          
            
          <li>
            <span class="social-icon">
              <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1664 1504v-768q-32 36-69 66-268 206-426 338-51 43-83 67t-86.5 48.5-102.5 24.5h-2q-48 0-102.5-24.5t-86.5-48.5-83-67q-158-132-426-338-37-30-69-66v768q0 13 9.5 22.5t22.5 9.5h1472q13 0 22.5-9.5t9.5-22.5zm0-1051v-24.5l-.5-13-3-12.5-5.5-9-9-7.5-14-2.5h-1472q-13 0-22.5 9.5t-9.5 22.5q0 168 147 284 193 152 401 317 6 5 35 29.5t46 37.5 44.5 31.5 50.5 27.5 43 9h2q20 0 43-9t50.5-27.5 44.5-31.5 46-37.5 35-29.5q208-165 401-317 54-43 100.5-115.5t46.5-131.5zm128-37v1088q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1472q66 0 113 47t47 113z"/></svg>
            </span>
            <a href="mailto:liuxueyang457@163.com">liuxueyang457@163.com</a>
          </li>
            
          
          <li>
            <a href="http://liuxueyang.github.io/index.xml">
              <span class="social-icon ">
                <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M640 1280q0-53-37.5-90.5t-90.5-37.5-90.5 37.5-37.5 90.5 37.5 90.5 90.5 37.5 90.5-37.5 37.5-90.5zm351 94q-13-232-177-396t-396-177q-14-1-24 9t-10 23v128q0 13 8.5 22t21.5 10q154 11 264 121t121 264q1 13 10 21.5t22 8.5h128q13 0 23-10t9-24zm384 1q-5-154-56-297.5t-139.5-260-205-205-260-139.5-297.5-56q-14-1-23 9-10 10-10 23v128q0 13 9 22t22 10q204 7 378 111.5t278.5 278.5 111.5 378q1 13 10 22t22 9h128q13 0 23-10 11-9 9-23zm289-959v960q0 119-84.5 203.5t-203.5 84.5h-960q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z"/></svg>
              </span>
              
              Subscribe via  RSS</a>
          </li>

          
          
          <li>
            <a href="https://github.com/liuxueyang">
              <span class="social-icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>
              

              <span class="username">Github: liuxueyang</span>
            </a>
          </li>
          
          

          
          

        
        <li>
          <span class="social-icon ">
            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 1248v320q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h96v-192h-512v192h96q40 0 68 28t28 68v320q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h96v-192h-512v192h96q40 0 68 28t28 68v320q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h96v-192q0-52 38-90t90-38h512v-192h-96q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h320q40 0 68 28t28 68v320q0 40-28 68t-68 28h-96v192h512q52 0 90 38t38 90v192h96q40 0 68 28t28 68z"/></svg>
          </span>
          <a href="http://liuxueyang.github.io/sitemap.xml">sitemap.xml</a>
        </li>
      </ul>

    </div>

    
    <div class="footer-col  footer-col-2">
      Latest Posts
      <ul class="footer-latest-posts"> 
      
      <li>
        <a href="http://liuxueyang.github.io/posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B06%E6%8A%80%E6%9C%AF%E7%B1%BB/">
          读书笔记6「技术类」
        </a>
      </li>
      
      <li>
        <a href="http://liuxueyang.github.io/posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B05/">
          读书笔记5
        </a>
      </li>
      
      <li>
        <a href="http://liuxueyang.github.io/posts/%E6%95%B4%E7%90%86%E5%8D%9A%E5%AE%A2/">
          整理博客
        </a>
      </li>
      
      <li>
        <a href="http://liuxueyang.github.io/posts/2017-12-23-summary-for-2017/">
          2017 年结束了
        </a>
      </li>
      
      <li>
        <a href="http://liuxueyang.github.io/posts/clustering/">
          Clustering
        </a>
      </li>
      

    </ul>
  </div>

  
  <div class="footer-col  footer-col-3">
    
    Categories<br/>
    
    
    <a class="category" href="/categories/algorithm">algorithm</a>
    
    <a class="category" href="/categories/bfs">bfs</a>
    
    <a class="category" href="/categories/bipartite">bipartite</a>
    
    <a class="category" href="/categories/dfs">dfs</a>
    
    <a class="category" href="/categories/dijkstra">dijkstra</a>
    
    <a class="category" href="/categories/graph">graph</a>
    
    <a class="category" href="/categories/haskell">haskell</a>
    
    <a class="category" href="/categories/kruskal">kruskal</a>
    
    <a class="category" href="/categories/topsort">topsort</a>
    
    <br />

    
    Tags<br/>
    
    
    <a class="tag" href="/tags/2016%E5%B9%B4">2016年</a>
    
    <a class="tag" href="/tags/algorithm">algorithm</a>
    
    <a class="tag" href="/tags/article">article</a>
    
    <a class="tag" href="/tags/assembly">assembly</a>
    
    <a class="tag" href="/tags/bfs">bfs</a>
    
    <a class="tag" href="/tags/bruteforce">bruteforce</a>
    
    <a class="tag" href="/tags/c">c</a>
    
    <a class="tag" href="/tags/c&#43;&#43;">c&#43;&#43;</a>
    
    <a class="tag" href="/tags/codechef">codechef</a>
    
    <a class="tag" href="/tags/codeforces">codeforces</a>
    
    <a class="tag" href="/tags/common-lisp">common-lisp</a>
    
    <a class="tag" href="/tags/data-structure">data-structure</a>
    
    <a class="tag" href="/tags/dfs">dfs</a>
    
    <a class="tag" href="/tags/diary">diary</a>
    
    <a class="tag" href="/tags/dp">dp</a>
    
    <a class="tag" href="/tags/dp-codeforce">dp-codeforce</a>
    
    <a class="tag" href="/tags/editor">editor</a>
    
    <a class="tag" href="/tags/emacs">emacs</a>
    
    <a class="tag" href="/tags/erlang">erlang</a>
    
    <a class="tag" href="/tags/fcitx">fcitx</a>
    
    <a class="tag" href="/tags/graph">graph</a>
    
    <a class="tag" href="/tags/grub">grub</a>
    
    <a class="tag" href="/tags/hdu">hdu</a>
    
    <a class="tag" href="/tags/jekyll">jekyll</a>
    
    <a class="tag" href="/tags/kmp">kmp</a>
    
    <a class="tag" href="/tags/macos">macos</a>
    
    <a class="tag" href="/tags/masm">masm</a>
    
    <a class="tag" href="/tags/math">math</a>
    
    <a class="tag" href="/tags/organize">organize</a>
    
    <a class="tag" href="/tags/perl">perl</a>
    
    <a class="tag" href="/tags/poj">poj</a>
    
    <a class="tag" href="/tags/possibility">possibility</a>
    
    <a class="tag" href="/tags/raspberry">raspberry</a>
    
    <a class="tag" href="/tags/ruby">ruby</a>
    
    <a class="tag" href="/tags/run">run</a>
    
    <a class="tag" href="/tags/sgu">sgu</a>
    
    <a class="tag" href="/tags/shell">shell</a>
    
    <a class="tag" href="/tags/slackware">slackware</a>
    
    <a class="tag" href="/tags/spoj">spoj</a>
    
    <a class="tag" href="/tags/tools">tools</a>
    
    <a class="tag" href="/tags/tyvj">tyvj</a>
    
    <a class="tag" href="/tags/ubuntu">ubuntu</a>
    
    <a class="tag" href="/tags/uestc">uestc</a>
    
    <a class="tag" href="/tags/update">update</a>
    
    <a class="tag" href="/tags/ural">ural</a>
    
    <a class="tag" href="/tags/usaco">usaco</a>
    
    <a class="tag" href="/tags/uva">uva</a>
    
    <a class="tag" href="/tags/vim">vim</a>
    
    <a class="tag" href="/tags/zoj">zoj</a>
    
    <a class="tag" href="/tags/%E4%B9%A0%E6%83%AF">习惯</a>
    
    <a class="tag" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2">字符串</a>
    
    <a class="tag" href="/tags/%E6%80%BB%E7%BB%93">总结</a>
    
    <a class="tag" href="/tags/%E6%95%B0%E5%AD%A6%E9%A2%98">数学题</a>
    
    <a class="tag" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">数据结构</a>
    
    <a class="tag" href="/tags/%E6%95%B4%E7%90%86">整理</a>
    
    <a class="tag" href="/tags/%E6%9A%B4%E5%8A%9B">暴力</a>
    
    <a class="tag" href="/tags/%E6%B0%B4%E9%A2%98">水题</a>
    
    <a class="tag" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0">读书笔记</a>
    

  </div>
</div> 
</div>

<div class="footer-last-line " >
  
  Copyright &copy; 2018 (LXY). All Rights Reserved.
  
  Powered by <a href="https://gohugo.io/">Hugo</a> | 
  <a href="https://www.github.com/otterpro/apricot-hugo-theme/">Apricot theme by otter.pro</a>
</div>
</footer>


    

    

    <script type="text/javascript" src='http://liuxueyang.github.io/js/main.js'></script>

  </body>
</html>
